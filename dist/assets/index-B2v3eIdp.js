(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function Cp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var uc={exports:{}},Ro={},cc={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function zg(){if(Id)return ye;Id=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),F=Symbol.iterator;function z(N){return N===null||typeof N!="object"?null:(N=F&&N[F]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,Z={};function K(N,B,oe){this.props=N,this.context=B,this.refs=Z,this.updater=oe||b}K.prototype.isReactComponent={},K.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},K.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ne(){}Ne.prototype=K.prototype;function Ae(N,B,oe){this.props=N,this.context=B,this.refs=Z,this.updater=oe||b}var Ee=Ae.prototype=new Ne;Ee.constructor=Ae,ee(Ee,K.prototype),Ee.isPureReactComponent=!0;var ve=Array.isArray,Ye=Object.prototype.hasOwnProperty,Ce={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(N,B,oe){var me,ge={},we=null,De=null;if(B!=null)for(me in B.ref!==void 0&&(De=B.ref),B.key!==void 0&&(we=""+B.key),B)Ye.call(B,me)&&!k.hasOwnProperty(me)&&(ge[me]=B[me]);var xe=arguments.length-2;if(xe===1)ge.children=oe;else if(1<xe){for(var Ue=Array(xe),ht=0;ht<xe;ht++)Ue[ht]=arguments[ht+2];ge.children=Ue}if(N&&N.defaultProps)for(me in xe=N.defaultProps,xe)ge[me]===void 0&&(ge[me]=xe[me]);return{$$typeof:s,type:N,key:we,ref:De,props:ge,_owner:Ce.current}}function S(N,B){return{$$typeof:s,type:N.type,key:B,ref:N.ref,props:N.props,_owner:N._owner}}function P(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function V(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return B[oe]})}var D=/\/+/g;function I(N,B){return typeof N=="object"&&N!==null&&N.key!=null?V(""+N.key):B.toString(36)}function Xe(N,B,oe,me,ge){var we=typeof N;(we==="undefined"||we==="boolean")&&(N=null);var De=!1;if(N===null)De=!0;else switch(we){case"string":case"number":De=!0;break;case"object":switch(N.$$typeof){case s:case t:De=!0}}if(De)return De=N,ge=ge(De),N=me===""?"."+I(De,0):me,ve(ge)?(oe="",N!=null&&(oe=N.replace(D,"$&/")+"/"),Xe(ge,B,oe,"",function(ht){return ht})):ge!=null&&(P(ge)&&(ge=S(ge,oe+(!ge.key||De&&De.key===ge.key?"":(""+ge.key).replace(D,"$&/")+"/")+N)),B.push(ge)),1;if(De=0,me=me===""?".":me+":",ve(N))for(var xe=0;xe<N.length;xe++){we=N[xe];var Ue=me+I(we,xe);De+=Xe(we,B,oe,Ue,ge)}else if(Ue=z(N),typeof Ue=="function")for(N=Ue.call(N),xe=0;!(we=N.next()).done;)we=we.value,Ue=me+I(we,xe++),De+=Xe(we,B,oe,Ue,ge);else if(we==="object")throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return De}function At(N,B,oe){if(N==null)return N;var me=[],ge=0;return Xe(N,me,"","",function(we){return B.call(oe,we,ge++)}),me}function Ct(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var Me={current:null},G={transition:null},le={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:G,ReactCurrentOwner:Ce};function J(){throw Error("act(...) is not supported in production builds of React.")}return ye.Children={map:At,forEach:function(N,B,oe){At(N,function(){B.apply(this,arguments)},oe)},count:function(N){var B=0;return At(N,function(){B++}),B},toArray:function(N){return At(N,function(B){return B})||[]},only:function(N){if(!P(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ye.Component=K,ye.Fragment=r,ye.Profiler=u,ye.PureComponent=Ae,ye.StrictMode=o,ye.Suspense=v,ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,ye.act=J,ye.cloneElement=function(N,B,oe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var me=ee({},N.props),ge=N.key,we=N.ref,De=N._owner;if(B!=null){if(B.ref!==void 0&&(we=B.ref,De=Ce.current),B.key!==void 0&&(ge=""+B.key),N.type&&N.type.defaultProps)var xe=N.type.defaultProps;for(Ue in B)Ye.call(B,Ue)&&!k.hasOwnProperty(Ue)&&(me[Ue]=B[Ue]===void 0&&xe!==void 0?xe[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)me.children=oe;else if(1<Ue){xe=Array(Ue);for(var ht=0;ht<Ue;ht++)xe[ht]=arguments[ht+2];me.children=xe}return{$$typeof:s,type:N.type,key:ge,ref:we,props:me,_owner:De}},ye.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},ye.createElement=T,ye.createFactory=function(N){var B=T.bind(null,N);return B.type=N,B},ye.createRef=function(){return{current:null}},ye.forwardRef=function(N){return{$$typeof:g,render:N}},ye.isValidElement=P,ye.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:Ct}},ye.memo=function(N,B){return{$$typeof:E,type:N,compare:B===void 0?null:B}},ye.startTransition=function(N){var B=G.transition;G.transition={};try{N()}finally{G.transition=B}},ye.unstable_act=J,ye.useCallback=function(N,B){return Me.current.useCallback(N,B)},ye.useContext=function(N){return Me.current.useContext(N)},ye.useDebugValue=function(){},ye.useDeferredValue=function(N){return Me.current.useDeferredValue(N)},ye.useEffect=function(N,B){return Me.current.useEffect(N,B)},ye.useId=function(){return Me.current.useId()},ye.useImperativeHandle=function(N,B,oe){return Me.current.useImperativeHandle(N,B,oe)},ye.useInsertionEffect=function(N,B){return Me.current.useInsertionEffect(N,B)},ye.useLayoutEffect=function(N,B){return Me.current.useLayoutEffect(N,B)},ye.useMemo=function(N,B){return Me.current.useMemo(N,B)},ye.useReducer=function(N,B,oe){return Me.current.useReducer(N,B,oe)},ye.useRef=function(N){return Me.current.useRef(N)},ye.useState=function(N){return Me.current.useState(N)},ye.useSyncExternalStore=function(N,B,oe){return Me.current.useSyncExternalStore(N,B,oe)},ye.useTransition=function(){return Me.current.useTransition()},ye.version="18.3.1",ye}var Sd;function bc(){return Sd||(Sd=1,cc.exports=zg()),cc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function Bg(){if(Ad)return Ro;Ad=1;var s=bc(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function p(g,v,E){var A,F={},z=null,b=null;E!==void 0&&(z=""+E),v.key!==void 0&&(z=""+v.key),v.ref!==void 0&&(b=v.ref);for(A in v)o.call(v,A)&&!c.hasOwnProperty(A)&&(F[A]=v[A]);if(g&&g.defaultProps)for(A in v=g.defaultProps,v)F[A]===void 0&&(F[A]=v[A]);return{$$typeof:t,type:g,key:z,ref:b,props:F,_owner:u.current}}return Ro.Fragment=r,Ro.jsx=p,Ro.jsxs=p,Ro}var Cd;function jg(){return Cd||(Cd=1,uc.exports=Bg()),uc.exports}var wt=jg(),ko=bc();const $g=Cp(ko);var aa={},hc={exports:{}},Qt={},fc={exports:{}},dc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function qg(){return Rd||(Rd=1,function(s){function t(G,le){var J=G.length;G.push(le);e:for(;0<J;){var N=J-1>>>1,B=G[N];if(0<u(B,le))G[N]=le,G[J]=B,J=N;else break e}}function r(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var le=G[0],J=G.pop();if(J!==le){G[0]=J;e:for(var N=0,B=G.length,oe=B>>>1;N<oe;){var me=2*(N+1)-1,ge=G[me],we=me+1,De=G[we];if(0>u(ge,J))we<B&&0>u(De,ge)?(G[N]=De,G[we]=J,N=we):(G[N]=ge,G[me]=J,N=me);else if(we<B&&0>u(De,J))G[N]=De,G[we]=J,N=we;else break e}}return le}function u(G,le){var J=G.sortIndex-le.sortIndex;return J!==0?J:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var v=[],E=[],A=1,F=null,z=3,b=!1,ee=!1,Z=!1,K=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,Ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ee(G){for(var le=r(E);le!==null;){if(le.callback===null)o(E);else if(le.startTime<=G)o(E),le.sortIndex=le.expirationTime,t(v,le);else break;le=r(E)}}function ve(G){if(Z=!1,Ee(G),!ee)if(r(v)!==null)ee=!0,Ct(Ye);else{var le=r(E);le!==null&&Me(ve,le.startTime-G)}}function Ye(G,le){ee=!1,Z&&(Z=!1,Ne(T),T=-1),b=!0;var J=z;try{for(Ee(le),F=r(v);F!==null&&(!(F.expirationTime>le)||G&&!V());){var N=F.callback;if(typeof N=="function"){F.callback=null,z=F.priorityLevel;var B=N(F.expirationTime<=le);le=s.unstable_now(),typeof B=="function"?F.callback=B:F===r(v)&&o(v),Ee(le)}else o(v);F=r(v)}if(F!==null)var oe=!0;else{var me=r(E);me!==null&&Me(ve,me.startTime-le),oe=!1}return oe}finally{F=null,z=J,b=!1}}var Ce=!1,k=null,T=-1,S=5,P=-1;function V(){return!(s.unstable_now()-P<S)}function D(){if(k!==null){var G=s.unstable_now();P=G;var le=!0;try{le=k(!0,G)}finally{le?I():(Ce=!1,k=null)}}else Ce=!1}var I;if(typeof Ae=="function")I=function(){Ae(D)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,At=Xe.port2;Xe.port1.onmessage=D,I=function(){At.postMessage(null)}}else I=function(){K(D,0)};function Ct(G){k=G,Ce||(Ce=!0,I())}function Me(G,le){T=K(function(){G(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_continueExecution=function(){ee||b||(ee=!0,Ct(Ye))},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return r(v)},s.unstable_next=function(G){switch(z){case 1:case 2:case 3:var le=3;break;default:le=z}var J=z;z=le;try{return G()}finally{z=J}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=z;z=G;try{return le()}finally{z=J}},s.unstable_scheduleCallback=function(G,le,J){var N=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?N+J:N):J=N,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=J+B,G={id:A++,callback:le,priorityLevel:G,startTime:J,expirationTime:B,sortIndex:-1},J>N?(G.sortIndex=J,t(E,G),r(v)===null&&G===r(E)&&(Z?(Ne(T),T=-1):Z=!0,Me(ve,J-N))):(G.sortIndex=B,t(v,G),ee||b||(ee=!0,Ct(Ye))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var le=z;return function(){var J=z;z=le;try{return G.apply(this,arguments)}finally{z=J}}}}(dc)),dc}var Pd;function Hg(){return Pd||(Pd=1,fc.exports=qg()),fc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kd;function bg(){if(kd)return Qt;kd=1;var s=bc(),t=Hg();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){p(e,n),p(e+"Capture",n)}function p(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},F={};function z(e){return v.call(F,e)?!0:v.call(A,e)?!1:E.test(e)?F[e]=!0:(A[e]=!0,!1)}function b(e,n,i,a){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ee(e,n,i,a){if(n===null||typeof n>"u"||b(e,n,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Z(e,n,i,a,h,d,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=y}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){K[e]=new Z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];K[n]=new Z(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){K[e]=new Z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){K[e]=new Z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){K[e]=new Z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){K[e]=new Z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){K[e]=new Z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){K[e]=new Z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){K[e]=new Z(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ne=/[\-:]([a-z])/g;function Ae(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Ne,Ae);K[n]=new Z(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Ne,Ae);K[n]=new Z(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Ne,Ae);K[n]=new Z(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!1,!1)}),K.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){K[e]=new Z(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ee(e,n,i,a){var h=K.hasOwnProperty(n)?K[n]:null;(h!==null?h.type!==0:a||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(ee(n,i,h,a)&&(i=null),a||h===null?z(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,a=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,a?e.setAttributeNS(a,n,i):e.setAttribute(n,i))))}var ve=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ye=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),At=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Me=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,N;function B(e){if(N===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return`
`+N+e}var oe=!1;function me(e,n){if(!e||oe)return"";oe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(M){var a=M}Reflect.construct(e,[],n)}else{try{n.call()}catch(M){a=M}e.call(n.prototype)}else{try{throw Error()}catch(M){a=M}e()}}catch(M){if(M&&a&&typeof M.stack=="string"){for(var h=M.stack.split(`
`),d=a.stack.split(`
`),y=h.length-1,w=d.length-1;1<=y&&0<=w&&h[y]!==d[w];)w--;for(;1<=y&&0<=w;y--,w--)if(h[y]!==d[w]){if(y!==1||w!==1)do if(y--,w--,0>w||h[y]!==d[w]){var C=`
`+h[y].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=y&&0<=w);break}}}finally{oe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function ge(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function we(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Ce:return"Portal";case S:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case Xe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case D:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case At:return n=e.displayName||null,n!==null?n:we(e.type)||"Memo";case Ct:n=e._payload,e=e._init;try{return we(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function xe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ht(e){var n=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),a=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,d=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $n(e){e._valueTracker||(e._valueTracker=ht(e))}function Ti(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),a="";return e&&(a=Ue(e)?e.checked?"true":"false":e.value),e=a,e!==i?(n.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Br(e,n){var i=n.checked;return J({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Ii(e,n){var i=n.defaultValue==null?"":n.defaultValue,a=n.checked!=null?n.checked:n.defaultChecked;i=xe(n.value!=null?n.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ds(e,n){n=n.checked,n!=null&&Ee(e,"checked",n,!1)}function xs(e,n){Ds(e,n);var i=xe(n.value),a=n.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Si(e,n.type,i):n.hasOwnProperty("defaultValue")&&Si(e,n.type,xe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function Ko(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var a=n.type;if(!(a!=="submit"&&a!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Si(e,n,i){(n!=="number"||ar(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var qn=Array.isArray;function Hn(e,n,i,a){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&a&&(e[i].defaultSelected=!0)}else{for(i=""+xe(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Ls(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return J({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ai(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(r(92));if(qn(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:xe(i)}}function Ci(e,n){var i=xe(n.value),a=xe(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Os(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function st(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ot(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?st(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bn,Ms=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,a,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,a,h)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(bn=bn||document.createElement("div"),bn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=bn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ur(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$r=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){$r.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),jr[n]=jr[e]})});function Fs(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||jr.hasOwnProperty(e)&&jr[e]?(""+n).trim():n+"px"}function Us(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var a=i.indexOf("--")===0,h=Fs(i,n[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,h):e[i]=h}}var zs=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bs(e,n){if(n){if(zs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function js(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=null;function Ri(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pi=null,tn=null,Rn=null;function ki(e){if(e=ho(e)){if(typeof Pi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Il(n),Pi(e.stateNode,e.type,n))}}function Pn(e){tn?Rn?Rn.push(e):Rn=[e]:tn=e}function $s(){if(tn){var e=tn,n=Rn;if(Rn=tn=null,ki(e),n)for(e=0;e<n.length;e++)ki(n[e])}}function Hr(e,n){return e(n)}function qs(){}var Qn=!1;function Hs(e,n,i){if(Qn)return e(n,i);Qn=!0;try{return Hr(e,n,i)}finally{Qn=!1,(tn!==null||Rn!==null)&&(qs(),$s())}}function Je(e,n){var i=e.stateNode;if(i===null)return null;var a=Il(i);if(a===null)return null;i=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,n,typeof i));return i}var Vi=!1;if(g)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{Vi=!1}function br(e,n,i,a,h,d,y,w,C){var M=Array.prototype.slice.call(arguments,3);try{n.apply(i,M)}catch($){this.onError($)}}var Qr=!1,Ni=null,dn=!1,bs=null,Fa={onError:function(e){Qr=!0,Ni=e}};function Di(e,n,i,a,h,d,y,w,C){Qr=!1,Ni=null,br.apply(Fa,arguments)}function Wo(e,n,i,a,h,d,y,w,C){if(Di.apply(this,arguments),Qr){if(Qr){var M=Ni;Qr=!1,Ni=null}else throw Error(r(198));dn||(dn=!0,bs=M)}}function pn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function Kr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function mn(e){if(pn(e)!==e)throw Error(r(188))}function Go(e){var n=e.alternate;if(!n){if(n=pn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var i=e,a=n;;){var h=i.return;if(h===null)break;var d=h.alternate;if(d===null){if(a=h.return,a!==null){i=a;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===i)return mn(h),e;if(d===a)return mn(h),n;d=d.sibling}throw Error(r(188))}if(i.return!==a.return)i=h,a=d;else{for(var y=!1,w=h.child;w;){if(w===i){y=!0,i=h,a=d;break}if(w===a){y=!0,a=h,i=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===i){y=!0,i=d,a=h;break}if(w===a){y=!0,a=d,i=h;break}w=w.sibling}if(!y)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:n}function Qs(e){return e=Go(e),e!==null?xi(e):null}function xi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xi(e);if(n!==null)return n;e=e.sibling}return null}var Li=t.unstable_scheduleCallback,Ks=t.unstable_cancelCallback,Yo=t.unstable_shouldYield,Ua=t.unstable_requestPaint,ze=t.unstable_now,Xo=t.unstable_getCurrentPriorityLevel,Wr=t.unstable_ImmediatePriority,cr=t.unstable_UserBlockingPriority,nn=t.unstable_NormalPriority,Ws=t.unstable_LowPriority,Jo=t.unstable_IdlePriority,Gr=null,Wt=null;function Zo(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Gr,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:tl,Gs=Math.log,el=Math.LN2;function tl(e){return e>>>=0,e===0?32:31-(Gs(e)/el|0)|0}var Oi=64,Mi=4194304;function hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yr(e,n){var i=e.pendingLanes;if(i===0)return 0;var a=0,h=e.suspendedLanes,d=e.pingedLanes,y=i&268435455;if(y!==0){var w=y&~h;w!==0?a=hr(w):(d&=y,d!==0&&(a=hr(d)))}else y=i&~h,y!==0?a=hr(y):d!==0&&(a=hr(d));if(a===0)return 0;if(n!==0&&n!==a&&!(n&h)&&(h=a&-a,d=n&-n,h>=d||h===16&&(d&4194240)!==0))return n;if(a&4&&(a|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=a;0<n;)i=31-Lt(n),h=1<<i,a|=e[i],n&=~h;return a}function za(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kn(e,n){for(var i=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes;0<d;){var y=31-Lt(d),w=1<<y,C=h[y];C===-1?(!(w&i)||w&a)&&(h[y]=za(w,n)):C<=n&&(e.expiredLanes|=w),d&=~w}}function Gt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xr(){var e=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),e}function fr(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function dr(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Lt(n),e[n]=i}function Fe(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Lt(i),d=1<<h;n[h]=0,a[h]=-1,e[h]=-1,i&=~d}}function pr(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var a=31-Lt(i),h=1<<a;h&n|e[a]&n&&(e[a]|=n),i&=~h}}var _e=0;function mr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nl,Fi,rl,il,sl,Ys=!1,kn=[],yt=null,gn=null,yn=null,gr=new Map,rn=new Map,Vn=[],Ba="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ol(e,n){switch(e){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":gr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rn.delete(n.pointerId)}}function zt(e,n,i,a,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[h]},n!==null&&(n=ho(n),n!==null&&Fi(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ja(e,n,i,a,h){switch(n){case"focusin":return yt=zt(yt,e,n,i,a,h),!0;case"dragenter":return gn=zt(gn,e,n,i,a,h),!0;case"mouseover":return yn=zt(yn,e,n,i,a,h),!0;case"pointerover":var d=h.pointerId;return gr.set(d,zt(gr.get(d)||null,e,n,i,a,h)),!0;case"gotpointercapture":return d=h.pointerId,rn.set(d,zt(rn.get(d)||null,e,n,i,a,h)),!0}return!1}function ll(e){var n=ni(e.target);if(n!==null){var i=pn(n);if(i!==null){if(n=i.tag,n===13){if(n=Kr(i),n!==null){e.blockedOn=n,sl(e.priority,function(){rl(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ui(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);qr=a,i.target.dispatchEvent(a),qr=null}else return n=ho(i),n!==null&&Fi(n),e.blockedOn=i,!1;n.shift()}return!0}function Jr(e,n,i){Wn(e)&&i.delete(n)}function al(){Ys=!1,yt!==null&&Wn(yt)&&(yt=null),gn!==null&&Wn(gn)&&(gn=null),yn!==null&&Wn(yn)&&(yn=null),gr.forEach(Jr),rn.forEach(Jr)}function vn(e,n){e.blockedOn===n&&(e.blockedOn=null,Ys||(Ys=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,al)))}function _n(e){function n(h){return vn(h,e)}if(0<kn.length){vn(kn[0],e);for(var i=1;i<kn.length;i++){var a=kn[i];a.blockedOn===e&&(a.blockedOn=null)}}for(yt!==null&&vn(yt,e),gn!==null&&vn(gn,e),yn!==null&&vn(yn,e),gr.forEach(n),rn.forEach(n),i=0;i<Vn.length;i++)a=Vn[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<Vn.length&&(i=Vn[0],i.blockedOn===null);)ll(i),i.blockedOn===null&&Vn.shift()}var Gn=ve.ReactCurrentBatchConfig,yr=!0;function qe(e,n,i,a){var h=_e,d=Gn.transition;Gn.transition=null;try{_e=1,Xs(e,n,i,a)}finally{_e=h,Gn.transition=d}}function $a(e,n,i,a){var h=_e,d=Gn.transition;Gn.transition=null;try{_e=4,Xs(e,n,i,a)}finally{_e=h,Gn.transition=d}}function Xs(e,n,i,a){if(yr){var h=Ui(e,n,i,a);if(h===null)Za(e,n,a,Zr,i),ol(e,a);else if(ja(h,e,n,i,a))a.stopPropagation();else if(ol(e,a),n&4&&-1<Ba.indexOf(e)){for(;h!==null;){var d=ho(h);if(d!==null&&nl(d),d=Ui(e,n,i,a),d===null&&Za(e,n,a,Zr,i),d===h)break;h=d}h!==null&&a.stopPropagation()}else Za(e,n,a,null,i)}}var Zr=null;function Ui(e,n,i,a){if(Zr=null,e=Ri(a),e=ni(e),e!==null)if(n=pn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=Kr(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Zr=e,null}function Js(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xo()){case Wr:return 1;case cr:return 4;case nn:case Ws:return 16;case Jo:return 536870912;default:return 16}default:return 16}}var Yt=null,zi=null,Bt=null;function Zs(){if(Bt)return Bt;var e,n=zi,i=n.length,a,h="value"in Yt?Yt.value:Yt.textContent,d=h.length;for(e=0;e<i&&n[e]===h[e];e++);var y=i-e;for(a=1;a<=y&&n[i-a]===h[d-a];a++);return Bt=h.slice(e,1<a?1-a:void 0)}function Bi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Nn(){return!0}function eo(){return!1}function vt(e){function n(i,a,h,d,y){this._reactName=i,this._targetInst=h,this.type=a,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Nn:eo,this.isPropagationStopped=eo,this}return J(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Nn)},persist:function(){},isPersistent:Nn}),n}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=vt(En),Dn=J({},En,{view:0,detail:0}),qa=vt(Dn),$i,Yn,vr,ei=J({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vr&&(vr&&e.type==="mousemove"?($i=e.screenX-vr.screenX,Yn=e.screenY-vr.screenY):Yn=$i=0,vr=e),$i)},movementY:function(e){return"movementY"in e?e.movementY:Yn}}),qi=vt(ei),to=J({},ei,{dataTransfer:0}),ul=vt(to),Hi=J({},Dn,{relatedTarget:0}),bi=vt(Hi),cl=J({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),Xn=vt(cl),hl=J({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fl=vt(hl),dl=J({},En,{data:0}),no=vt(dl),Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pl[e])?!!n[e]:!1}function xn(){return ml}var l=J({},Dn,{key:function(e){if(e.key){var n=Qi[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ot[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return e.type==="keypress"?Bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f=vt(l),m=J({},ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_=vt(m),x=J({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn}),U=vt(x),W=J({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oe=vt(W),lt=J({},ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Te=vt(lt),ft=[9,13,27,32],nt=g&&"CompositionEvent"in window,sn=null;g&&"documentMode"in document&&(sn=document.documentMode);var Xt=g&&"TextEvent"in window&&!sn,ti=g&&(!nt||sn&&8<sn&&11>=sn),Ki=" ",gh=!1;function yh(e,n){switch(e){case"keyup":return ft.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function Mm(e,n){switch(e){case"compositionend":return vh(n);case"keypress":return n.which!==32?null:(gh=!0,Ki);case"textInput":return e=n.data,e===Ki&&gh?null:e;default:return null}}function Fm(e,n){if(Wi)return e==="compositionend"||!nt&&yh(e,n)?(e=Zs(),Bt=zi=Yt=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ti&&n.locale!=="ko"?null:n.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _h(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Um[e.type]:n==="textarea"}function Eh(e,n,i,a){Pn(a),n=El(n,"onChange"),0<n.length&&(i=new ji("onChange","change",null,i,a),e.push({event:i,listeners:n}))}var ro=null,io=null;function zm(e){Uh(e,0)}function gl(e){var n=Zi(e);if(Ti(n))return e}function Bm(e,n){if(e==="change")return n}var wh=!1;if(g){var Ha;if(g){var ba="oninput"in document;if(!ba){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),ba=typeof Th.oninput=="function"}Ha=ba}else Ha=!1;wh=Ha&&(!document.documentMode||9<document.documentMode)}function Ih(){ro&&(ro.detachEvent("onpropertychange",Sh),io=ro=null)}function Sh(e){if(e.propertyName==="value"&&gl(io)){var n=[];Eh(n,io,e,Ri(e)),Hs(zm,n)}}function jm(e,n,i){e==="focusin"?(Ih(),ro=n,io=i,ro.attachEvent("onpropertychange",Sh)):e==="focusout"&&Ih()}function $m(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gl(io)}function qm(e,n){if(e==="click")return gl(n)}function Hm(e,n){if(e==="input"||e==="change")return gl(n)}function bm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:bm;function so(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),a=Object.keys(n);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var h=i[a];if(!v.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Ah(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ch(e,n){var i=Ah(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=n&&a>=n)return{node:i,offset:n-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ah(i)}}function Rh(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rh(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ph(){for(var e=window,n=ar();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ar(e.document)}return n}function Qa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Qm(e){var n=Ph(),i=e.focusedElem,a=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Rh(i.ownerDocument.documentElement,i)){if(a!==null&&Qa(i)){if(n=a.start,e=a.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,d=Math.min(a.start,h);a=a.end===void 0?d:Math.min(a.end,h),!e.extend&&d>a&&(h=a,a=d,d=h),h=Ch(i,d);var y=Ch(i,a);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),d>a?(e.addRange(n),e.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Km=g&&"documentMode"in document&&11>=document.documentMode,Gi=null,Ka=null,oo=null,Wa=!1;function kh(e,n,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Wa||Gi==null||Gi!==ar(a)||(a=Gi,"selectionStart"in a&&Qa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),oo&&so(oo,a)||(oo=a,a=El(Ka,"onSelect"),0<a.length&&(n=new ji("onSelect","select",null,n,i),e.push({event:n,listeners:a}),n.target=Gi)))}function yl(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Yi={animationend:yl("Animation","AnimationEnd"),animationiteration:yl("Animation","AnimationIteration"),animationstart:yl("Animation","AnimationStart"),transitionend:yl("Transition","TransitionEnd")},Ga={},Vh={};g&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function vl(e){if(Ga[e])return Ga[e];if(!Yi[e])return e;var n=Yi[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in Vh)return Ga[e]=n[i];return e}var Nh=vl("animationend"),Dh=vl("animationiteration"),xh=vl("animationstart"),Lh=vl("transitionend"),Oh=new Map,Mh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,n){Oh.set(e,n),c(n,[e])}for(var Ya=0;Ya<Mh.length;Ya++){var Xa=Mh[Ya],Wm=Xa.toLowerCase(),Gm=Xa[0].toUpperCase()+Xa.slice(1);_r(Wm,"on"+Gm)}_r(Nh,"onAnimationEnd"),_r(Dh,"onAnimationIteration"),_r(xh,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Lh,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ym=new Set("cancel close invalid load scroll toggle".split(" ").concat(lo));function Fh(e,n,i){var a=e.type||"unknown-event";e.currentTarget=i,Wo(a,n,void 0,e),e.currentTarget=null}function Uh(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],h=a.event;a=a.listeners;e:{var d=void 0;if(n)for(var y=a.length-1;0<=y;y--){var w=a[y],C=w.instance,M=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;Fh(h,w,M),d=C}else for(y=0;y<a.length;y++){if(w=a[y],C=w.instance,M=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;Fh(h,w,M),d=C}}}if(dn)throw e=bs,dn=!1,bs=null,e}function je(e,n){var i=n[su];i===void 0&&(i=n[su]=new Set);var a=e+"__bubble";i.has(a)||(zh(n,e,2,!1),i.add(a))}function Ja(e,n,i){var a=0;n&&(a|=4),zh(i,e,a,n)}var _l="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[_l]){e[_l]=!0,o.forEach(function(i){i!=="selectionchange"&&(Ym.has(i)||Ja(i,!1,e),Ja(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_l]||(n[_l]=!0,Ja("selectionchange",!1,n))}}function zh(e,n,i,a){switch(Js(n)){case 1:var h=qe;break;case 4:h=$a;break;default:h=Xs}i=h.bind(null,n,i,e),h=void 0,!Vi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Za(e,n,i,a,h){var d=a;if(!(n&1)&&!(n&2)&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var w=a.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(y===4)for(y=a.return;y!==null;){var C=y.tag;if((C===3||C===4)&&(C=y.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;y=y.return}for(;w!==null;){if(y=ni(w),y===null)return;if(C=y.tag,C===5||C===6){a=d=y;continue e}w=w.parentNode}}a=a.return}Hs(function(){var M=d,$=Ri(i),H=[];e:{var j=Oh.get(e);if(j!==void 0){var X=ji,ne=e;switch(e){case"keypress":if(Bi(i)===0)break e;case"keydown":case"keyup":X=f;break;case"focusin":ne="focus",X=bi;break;case"focusout":ne="blur",X=bi;break;case"beforeblur":case"afterblur":X=bi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ul;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=U;break;case Nh:case Dh:case xh:X=Xn;break;case Lh:X=Oe;break;case"scroll":X=qa;break;case"wheel":X=Te;break;case"copy":case"cut":case"paste":X=fl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=_}var re=(n&4)!==0,Ze=!re&&e==="scroll",L=re?j!==null?j+"Capture":null:j;re=[];for(var R=M,O;R!==null;){O=R;var Q=O.stateNode;if(O.tag===5&&Q!==null&&(O=Q,L!==null&&(Q=Je(R,L),Q!=null&&re.push(uo(R,Q,O)))),Ze)break;R=R.return}0<re.length&&(j=new X(j,ne,null,i,$),H.push({event:j,listeners:re}))}}if(!(n&7)){e:{if(j=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",j&&i!==qr&&(ne=i.relatedTarget||i.fromElement)&&(ni(ne)||ne[Jn]))break e;if((X||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,X?(ne=i.relatedTarget||i.toElement,X=M,ne=ne?ni(ne):null,ne!==null&&(Ze=pn(ne),ne!==Ze||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(X=null,ne=M),X!==ne)){if(re=qi,Q="onMouseLeave",L="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(re=_,Q="onPointerLeave",L="onPointerEnter",R="pointer"),Ze=X==null?j:Zi(X),O=ne==null?j:Zi(ne),j=new re(Q,R+"leave",X,i,$),j.target=Ze,j.relatedTarget=O,Q=null,ni($)===M&&(re=new re(L,R+"enter",ne,i,$),re.target=O,re.relatedTarget=Ze,Q=re),Ze=Q,X&&ne)t:{for(re=X,L=ne,R=0,O=re;O;O=Xi(O))R++;for(O=0,Q=L;Q;Q=Xi(Q))O++;for(;0<R-O;)re=Xi(re),R--;for(;0<O-R;)L=Xi(L),O--;for(;R--;){if(re===L||L!==null&&re===L.alternate)break t;re=Xi(re),L=Xi(L)}re=null}else re=null;X!==null&&Bh(H,j,X,re,!1),ne!==null&&Ze!==null&&Bh(H,Ze,ne,re,!0)}}e:{if(j=M?Zi(M):window,X=j.nodeName&&j.nodeName.toLowerCase(),X==="select"||X==="input"&&j.type==="file")var se=Bm;else if(_h(j))if(wh)se=Hm;else{se=$m;var ae=jm}else(X=j.nodeName)&&X.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(se=qm);if(se&&(se=se(e,M))){Eh(H,se,i,$);break e}ae&&ae(e,j,M),e==="focusout"&&(ae=j._wrapperState)&&ae.controlled&&j.type==="number"&&Si(j,"number",j.value)}switch(ae=M?Zi(M):window,e){case"focusin":(_h(ae)||ae.contentEditable==="true")&&(Gi=ae,Ka=M,oo=null);break;case"focusout":oo=Ka=Gi=null;break;case"mousedown":Wa=!0;break;case"contextmenu":case"mouseup":case"dragend":Wa=!1,kh(H,i,$);break;case"selectionchange":if(Km)break;case"keydown":case"keyup":kh(H,i,$)}var ue;if(nt)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Wi?yh(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(ti&&i.locale!=="ko"&&(Wi||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Wi&&(ue=Zs()):(Yt=$,zi="value"in Yt?Yt.value:Yt.textContent,Wi=!0)),ae=El(M,fe),0<ae.length&&(fe=new no(fe,e,null,i,$),H.push({event:fe,listeners:ae}),ue?fe.data=ue:(ue=vh(i),ue!==null&&(fe.data=ue)))),(ue=Xt?Mm(e,i):Fm(e,i))&&(M=El(M,"onBeforeInput"),0<M.length&&($=new no("onBeforeInput","beforeinput",null,i,$),H.push({event:$,listeners:M}),$.data=ue))}Uh(H,n)})}function uo(e,n,i){return{instance:e,listener:n,currentTarget:i}}function El(e,n){for(var i=n+"Capture",a=[];e!==null;){var h=e,d=h.stateNode;h.tag===5&&d!==null&&(h=d,d=Je(e,i),d!=null&&a.unshift(uo(e,d,h)),d=Je(e,n),d!=null&&a.push(uo(e,d,h))),e=e.return}return a}function Xi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bh(e,n,i,a,h){for(var d=n._reactName,y=[];i!==null&&i!==a;){var w=i,C=w.alternate,M=w.stateNode;if(C!==null&&C===a)break;w.tag===5&&M!==null&&(w=M,h?(C=Je(i,d),C!=null&&y.unshift(uo(i,C,w))):h||(C=Je(i,d),C!=null&&y.push(uo(i,C,w)))),i=i.return}y.length!==0&&e.push({event:n,listeners:y})}var Xm=/\r\n?/g,Jm=/\u0000|\uFFFD/g;function jh(e){return(typeof e=="string"?e:""+e).replace(Xm,`
`).replace(Jm,"")}function wl(e,n,i){if(n=jh(n),jh(e)!==n&&i)throw Error(r(425))}function Tl(){}var eu=null,tu=null;function nu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,Zm=typeof clearTimeout=="function"?clearTimeout:void 0,$h=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof $h<"u"?function(e){return $h.resolve(null).then(e).catch(tg)}:ru;function tg(e){setTimeout(function(){throw e})}function iu(e,n){var i=n,a=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(a===0){e.removeChild(h),_n(n);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=h}while(i);_n(n)}function Er(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function qh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ji,co="__reactProps$"+Ji,Jn="__reactContainer$"+Ji,su="__reactEvents$"+Ji,ng="__reactListeners$"+Ji,rg="__reactHandles$"+Ji;function ni(e){var n=e[Ln];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Jn]||i[Ln]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=qh(e);e!==null;){if(i=e[Ln])return i;e=qh(e)}return n}e=i,i=e.parentNode}return null}function ho(e){return e=e[Ln]||e[Jn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Il(e){return e[co]||null}var ou=[],es=-1;function wr(e){return{current:e}}function $e(e){0>es||(e.current=ou[es],ou[es]=null,es--)}function Be(e,n){es++,ou[es]=e.current,e.current=n}var Tr={},Rt=wr(Tr),jt=wr(!1),ri=Tr;function ts(e,n){var i=e.type.contextTypes;if(!i)return Tr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===n)return a.__reactInternalMemoizedMaskedChildContext;var h={},d;for(d in i)h[d]=n[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function $t(e){return e=e.childContextTypes,e!=null}function Sl(){$e(jt),$e(Rt)}function Hh(e,n,i){if(Rt.current!==Tr)throw Error(r(168));Be(Rt,n),Be(jt,i)}function bh(e,n,i){var a=e.stateNode;if(n=n.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var h in a)if(!(h in n))throw Error(r(108,De(e)||"Unknown",h));return J({},i,a)}function Al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Tr,ri=Rt.current,Be(Rt,e),Be(jt,jt.current),!0}function Qh(e,n,i){var a=e.stateNode;if(!a)throw Error(r(169));i?(e=bh(e,n,ri),a.__reactInternalMemoizedMergedChildContext=e,$e(jt),$e(Rt),Be(Rt,e)):$e(jt),Be(jt,i)}var Zn=null,Cl=!1,lu=!1;function Kh(e){Zn===null?Zn=[e]:Zn.push(e)}function ig(e){Cl=!0,Kh(e)}function Ir(){if(!lu&&Zn!==null){lu=!0;var e=0,n=_e;try{var i=Zn;for(_e=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Zn=null,Cl=!1}catch(h){throw Zn!==null&&(Zn=Zn.slice(e+1)),Li(Wr,Ir),h}finally{_e=n,lu=!1}}return null}var ns=[],rs=0,Rl=null,Pl=0,on=[],ln=0,ii=null,er=1,tr="";function si(e,n){ns[rs++]=Pl,ns[rs++]=Rl,Rl=e,Pl=n}function Wh(e,n,i){on[ln++]=er,on[ln++]=tr,on[ln++]=ii,ii=e;var a=er;e=tr;var h=32-Lt(a)-1;a&=~(1<<h),i+=1;var d=32-Lt(n)+h;if(30<d){var y=h-h%5;d=(a&(1<<y)-1).toString(32),a>>=y,h-=y,er=1<<32-Lt(n)+h|i<<h|a,tr=d+e}else er=1<<d|i<<h|a,tr=e}function au(e){e.return!==null&&(si(e,1),Wh(e,1,0))}function uu(e){for(;e===Rl;)Rl=ns[--rs],ns[rs]=null,Pl=ns[--rs],ns[rs]=null;for(;e===ii;)ii=on[--ln],on[ln]=null,tr=on[--ln],on[ln]=null,er=on[--ln],on[ln]=null}var Jt=null,Zt=null,He=!1,Tn=null;function Gh(e,n){var i=hn(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function Yh(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Jt=e,Zt=Er(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Jt=e,Zt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=ii!==null?{id:er,overflow:tr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=hn(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Jt=e,Zt=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hu(e){if(He){var n=Zt;if(n){var i=n;if(!Yh(e,n)){if(cu(e))throw Error(r(418));n=Er(i.nextSibling);var a=Jt;n&&Yh(e,n)?Gh(a,i):(e.flags=e.flags&-4097|2,He=!1,Jt=e)}}else{if(cu(e))throw Error(r(418));e.flags=e.flags&-4097|2,He=!1,Jt=e}}}function Xh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function kl(e){if(e!==Jt)return!1;if(!He)return Xh(e),He=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!nu(e.type,e.memoizedProps)),n&&(n=Zt)){if(cu(e))throw Jh(),Error(r(418));for(;n;)Gh(e,n),n=Er(n.nextSibling)}if(Xh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Zt=Er(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Zt=null}}else Zt=Jt?Er(e.stateNode.nextSibling):null;return!0}function Jh(){for(var e=Zt;e;)e=Er(e.nextSibling)}function is(){Zt=Jt=null,He=!1}function fu(e){Tn===null?Tn=[e]:Tn.push(e)}var sg=ve.ReactCurrentBatchConfig;function fo(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(r(309));var a=i.stateNode}if(!a)throw Error(r(147,e));var h=a,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(y){var w=h.refs;y===null?delete w[d]:w[d]=y},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!i._owner)throw Error(r(290,e))}return e}function Vl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Zh(e){var n=e._init;return n(e._payload)}function ef(e){function n(L,R){if(e){var O=L.deletions;O===null?(L.deletions=[R],L.flags|=16):O.push(R)}}function i(L,R){if(!e)return null;for(;R!==null;)n(L,R),R=R.sibling;return null}function a(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function h(L,R){return L=Nr(L,R),L.index=0,L.sibling=null,L}function d(L,R,O){return L.index=O,e?(O=L.alternate,O!==null?(O=O.index,O<R?(L.flags|=2,R):O):(L.flags|=2,R)):(L.flags|=1048576,R)}function y(L){return e&&L.alternate===null&&(L.flags|=2),L}function w(L,R,O,Q){return R===null||R.tag!==6?(R=rc(O,L.mode,Q),R.return=L,R):(R=h(R,O),R.return=L,R)}function C(L,R,O,Q){var se=O.type;return se===k?$(L,R,O.props.children,Q,O.key):R!==null&&(R.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&Zh(se)===R.type)?(Q=h(R,O.props),Q.ref=fo(L,R,O),Q.return=L,Q):(Q=ea(O.type,O.key,O.props,null,L.mode,Q),Q.ref=fo(L,R,O),Q.return=L,Q)}function M(L,R,O,Q){return R===null||R.tag!==4||R.stateNode.containerInfo!==O.containerInfo||R.stateNode.implementation!==O.implementation?(R=ic(O,L.mode,Q),R.return=L,R):(R=h(R,O.children||[]),R.return=L,R)}function $(L,R,O,Q,se){return R===null||R.tag!==7?(R=di(O,L.mode,Q,se),R.return=L,R):(R=h(R,O),R.return=L,R)}function H(L,R,O){if(typeof R=="string"&&R!==""||typeof R=="number")return R=rc(""+R,L.mode,O),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ye:return O=ea(R.type,R.key,R.props,null,L.mode,O),O.ref=fo(L,null,R),O.return=L,O;case Ce:return R=ic(R,L.mode,O),R.return=L,R;case Ct:var Q=R._init;return H(L,Q(R._payload),O)}if(qn(R)||le(R))return R=di(R,L.mode,O,null),R.return=L,R;Vl(L,R)}return null}function j(L,R,O,Q){var se=R!==null?R.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return se!==null?null:w(L,R,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:return O.key===se?C(L,R,O,Q):null;case Ce:return O.key===se?M(L,R,O,Q):null;case Ct:return se=O._init,j(L,R,se(O._payload),Q)}if(qn(O)||le(O))return se!==null?null:$(L,R,O,Q,null);Vl(L,O)}return null}function X(L,R,O,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(O)||null,w(R,L,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Ye:return L=L.get(Q.key===null?O:Q.key)||null,C(R,L,Q,se);case Ce:return L=L.get(Q.key===null?O:Q.key)||null,M(R,L,Q,se);case Ct:var ae=Q._init;return X(L,R,O,ae(Q._payload),se)}if(qn(Q)||le(Q))return L=L.get(O)||null,$(R,L,Q,se,null);Vl(R,Q)}return null}function ne(L,R,O,Q){for(var se=null,ae=null,ue=R,fe=R=0,mt=null;ue!==null&&fe<O.length;fe++){ue.index>fe?(mt=ue,ue=null):mt=ue.sibling;var Ve=j(L,ue,O[fe],Q);if(Ve===null){ue===null&&(ue=mt);break}e&&ue&&Ve.alternate===null&&n(L,ue),R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve,ue=mt}if(fe===O.length)return i(L,ue),He&&si(L,fe),se;if(ue===null){for(;fe<O.length;fe++)ue=H(L,O[fe],Q),ue!==null&&(R=d(ue,R,fe),ae===null?se=ue:ae.sibling=ue,ae=ue);return He&&si(L,fe),se}for(ue=a(L,ue);fe<O.length;fe++)mt=X(ue,L,fe,O[fe],Q),mt!==null&&(e&&mt.alternate!==null&&ue.delete(mt.key===null?fe:mt.key),R=d(mt,R,fe),ae===null?se=mt:ae.sibling=mt,ae=mt);return e&&ue.forEach(function(Dr){return n(L,Dr)}),He&&si(L,fe),se}function re(L,R,O,Q){var se=le(O);if(typeof se!="function")throw Error(r(150));if(O=se.call(O),O==null)throw Error(r(151));for(var ae=se=null,ue=R,fe=R=0,mt=null,Ve=O.next();ue!==null&&!Ve.done;fe++,Ve=O.next()){ue.index>fe?(mt=ue,ue=null):mt=ue.sibling;var Dr=j(L,ue,Ve.value,Q);if(Dr===null){ue===null&&(ue=mt);break}e&&ue&&Dr.alternate===null&&n(L,ue),R=d(Dr,R,fe),ae===null?se=Dr:ae.sibling=Dr,ae=Dr,ue=mt}if(Ve.done)return i(L,ue),He&&si(L,fe),se;if(ue===null){for(;!Ve.done;fe++,Ve=O.next())Ve=H(L,Ve.value,Q),Ve!==null&&(R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return He&&si(L,fe),se}for(ue=a(L,ue);!Ve.done;fe++,Ve=O.next())Ve=X(ue,L,fe,Ve.value,Q),Ve!==null&&(e&&Ve.alternate!==null&&ue.delete(Ve.key===null?fe:Ve.key),R=d(Ve,R,fe),ae===null?se=Ve:ae.sibling=Ve,ae=Ve);return e&&ue.forEach(function(Ug){return n(L,Ug)}),He&&si(L,fe),se}function Ze(L,R,O,Q){if(typeof O=="object"&&O!==null&&O.type===k&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Ye:e:{for(var se=O.key,ae=R;ae!==null;){if(ae.key===se){if(se=O.type,se===k){if(ae.tag===7){i(L,ae.sibling),R=h(ae,O.props.children),R.return=L,L=R;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Ct&&Zh(se)===ae.type){i(L,ae.sibling),R=h(ae,O.props),R.ref=fo(L,ae,O),R.return=L,L=R;break e}i(L,ae);break}else n(L,ae);ae=ae.sibling}O.type===k?(R=di(O.props.children,L.mode,Q,O.key),R.return=L,L=R):(Q=ea(O.type,O.key,O.props,null,L.mode,Q),Q.ref=fo(L,R,O),Q.return=L,L=Q)}return y(L);case Ce:e:{for(ae=O.key;R!==null;){if(R.key===ae)if(R.tag===4&&R.stateNode.containerInfo===O.containerInfo&&R.stateNode.implementation===O.implementation){i(L,R.sibling),R=h(R,O.children||[]),R.return=L,L=R;break e}else{i(L,R);break}else n(L,R);R=R.sibling}R=ic(O,L.mode,Q),R.return=L,L=R}return y(L);case Ct:return ae=O._init,Ze(L,R,ae(O._payload),Q)}if(qn(O))return ne(L,R,O,Q);if(le(O))return re(L,R,O,Q);Vl(L,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,R!==null&&R.tag===6?(i(L,R.sibling),R=h(R,O),R.return=L,L=R):(i(L,R),R=rc(O,L.mode,Q),R.return=L,L=R),y(L)):i(L,R)}return Ze}var ss=ef(!0),tf=ef(!1),Nl=wr(null),Dl=null,os=null,du=null;function pu(){du=os=Dl=null}function mu(e){var n=Nl.current;$e(Nl),e._currentValue=n}function gu(e,n,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===i)break;e=e.return}}function ls(e,n){Dl=e,du=os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(qt=!0),e.firstContext=null)}function an(e){var n=e._currentValue;if(du!==e)if(e={context:e,memoizedValue:n,next:null},os===null){if(Dl===null)throw Error(r(308));os=e,Dl.dependencies={lanes:0,firstContext:e}}else os=os.next=e;return n}var oi=null;function yu(e){oi===null?oi=[e]:oi.push(e)}function nf(e,n,i,a){var h=n.interleaved;return h===null?(i.next=i,yu(n)):(i.next=h.next,h.next=i),n.interleaved=i,nr(e,a)}function nr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Sr=!1;function vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Re&2){var h=a.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),a.pending=n,nr(e,i)}return h=a.interleaved,h===null?(n.next=n,yu(a)):(n.next=h.next,h.next=n),a.interleaved=n,nr(e,i)}function xl(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,pr(e,i)}}function sf(e,n){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var h=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?h=d=y:d=d.next=y,i=i.next}while(i!==null);d===null?h=d=n:d=d.next=n}else h=d=n;i={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function Ll(e,n,i,a){var h=e.updateQueue;Sr=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,M=C.next;C.next=null,y===null?d=M:y.next=M,y=C;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==y&&(w===null?$.firstBaseUpdate=M:w.next=M,$.lastBaseUpdate=C))}if(d!==null){var H=h.baseState;y=0,$=M=C=null,w=d;do{var j=w.lane,X=w.eventTime;if((a&j)===j){$!==null&&($=$.next={eventTime:X,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ne=e,re=w;switch(j=n,X=i,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){H=ne.call(X,H,j);break e}H=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,j=typeof ne=="function"?ne.call(X,H,j):ne,j==null)break e;H=J({},H,j);break e;case 2:Sr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,j=h.effects,j===null?h.effects=[w]:j.push(w))}else X={eventTime:X,lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(M=$=X,C=H):$=$.next=X,y|=j;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;j=w,w=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);if($===null&&(C=H),h.baseState=C,h.firstBaseUpdate=M,h.lastBaseUpdate=$,n=h.shared.interleaved,n!==null){h=n;do y|=h.lane,h=h.next;while(h!==n)}else d===null&&(h.shared.lanes=0);ui|=y,e.lanes=y,e.memoizedState=H}}function of(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var a=e[n],h=a.callback;if(h!==null){if(a.callback=null,a=i,typeof h!="function")throw Error(r(191,h));h.call(a)}}}var po={},On=wr(po),mo=wr(po),go=wr(po);function li(e){if(e===po)throw Error(r(174));return e}function _u(e,n){switch(Be(go,n),Be(mo,e),Be(On,po),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ot(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ot(n,e)}$e(On),Be(On,n)}function as(){$e(On),$e(mo),$e(go)}function lf(e){li(go.current);var n=li(On.current),i=ot(n,e.type);n!==i&&(Be(mo,e),Be(On,i))}function Eu(e){mo.current===e&&($e(On),$e(mo))}var be=wr(0);function Ol(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var wu=[];function Tu(){for(var e=0;e<wu.length;e++)wu[e]._workInProgressVersionPrimary=null;wu.length=0}var Ml=ve.ReactCurrentDispatcher,Iu=ve.ReactCurrentBatchConfig,ai=0,Qe=null,at=null,dt=null,Fl=!1,yo=!1,vo=0,og=0;function Pt(){throw Error(r(321))}function Su(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!wn(e[i],n[i]))return!1;return!0}function Au(e,n,i,a,h,d){if(ai=d,Qe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ml.current=e===null||e.memoizedState===null?cg:hg,e=i(a,h),yo){d=0;do{if(yo=!1,vo=0,25<=d)throw Error(r(301));d+=1,dt=at=null,n.updateQueue=null,Ml.current=fg,e=i(a,h)}while(yo)}if(Ml.current=Bl,n=at!==null&&at.next!==null,ai=0,dt=at=Qe=null,Fl=!1,n)throw Error(r(300));return e}function Cu(){var e=vo!==0;return vo=0,e}function Mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Qe.memoizedState=dt=e:dt=dt.next=e,dt}function un(){if(at===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=dt===null?Qe.memoizedState:dt.next;if(n!==null)dt=n,at=e;else{if(e===null)throw Error(r(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?Qe.memoizedState=dt=e:dt=dt.next=e}return dt}function _o(e,n){return typeof n=="function"?n(e):n}function Ru(e){var n=un(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=at,h=a.baseQueue,d=i.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}a.baseQueue=h=d,i.pending=null}if(h!==null){d=h.next,a=a.baseState;var w=y=null,C=null,M=d;do{var $=M.lane;if((ai&$)===$)C!==null&&(C=C.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),a=M.hasEagerState?M.eagerState:e(a,M.action);else{var H={lane:$,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};C===null?(w=C=H,y=a):C=C.next=H,Qe.lanes|=$,ui|=$}M=M.next}while(M!==null&&M!==d);C===null?y=a:C.next=w,wn(a,n.memoizedState)||(qt=!0),n.memoizedState=a,n.baseState=y,n.baseQueue=C,i.lastRenderedState=a}if(e=i.interleaved,e!==null){h=e;do d=h.lane,Qe.lanes|=d,ui|=d,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Pu(e){var n=un(),i=n.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,h=i.pending,d=n.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);wn(d,n.memoizedState)||(qt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),i.lastRenderedState=d}return[d,a]}function af(){}function uf(e,n){var i=Qe,a=un(),h=n(),d=!wn(a.memoizedState,h);if(d&&(a.memoizedState=h,qt=!0),a=a.queue,ku(ff.bind(null,i,a,e),[e]),a.getSnapshot!==n||d||dt!==null&&dt.memoizedState.tag&1){if(i.flags|=2048,Eo(9,hf.bind(null,i,a,h,n),void 0,null),pt===null)throw Error(r(349));ai&30||cf(i,n,h)}return h}function cf(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function hf(e,n,i,a){n.value=i,n.getSnapshot=a,df(n)&&pf(e)}function ff(e,n,i){return i(function(){df(n)&&pf(e)})}function df(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!wn(e,i)}catch{return!0}}function pf(e){var n=nr(e,1);n!==null&&Cn(n,e,1,-1)}function mf(e){var n=Mn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},n.queue=e,e=e.dispatch=ug.bind(null,Qe,e),[n.memoizedState,e]}function Eo(e,n,i,a){return e={tag:e,create:n,destroy:i,deps:a,next:null},n=Qe.updateQueue,n===null?(n={lastEffect:null,stores:null},Qe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,n.lastEffect=e)),e}function gf(){return un().memoizedState}function Ul(e,n,i,a){var h=Mn();Qe.flags|=e,h.memoizedState=Eo(1|n,i,void 0,a===void 0?null:a)}function zl(e,n,i,a){var h=un();a=a===void 0?null:a;var d=void 0;if(at!==null){var y=at.memoizedState;if(d=y.destroy,a!==null&&Su(a,y.deps)){h.memoizedState=Eo(n,i,d,a);return}}Qe.flags|=e,h.memoizedState=Eo(1|n,i,d,a)}function yf(e,n){return Ul(8390656,8,e,n)}function ku(e,n){return zl(2048,8,e,n)}function vf(e,n){return zl(4,2,e,n)}function _f(e,n){return zl(4,4,e,n)}function Ef(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wf(e,n,i){return i=i!=null?i.concat([e]):null,zl(4,4,Ef.bind(null,n,e),i)}function Vu(){}function Tf(e,n){var i=un();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Su(n,a[1])?a[0]:(i.memoizedState=[e,n],e)}function If(e,n){var i=un();n=n===void 0?null:n;var a=i.memoizedState;return a!==null&&n!==null&&Su(n,a[1])?a[0]:(e=e(),i.memoizedState=[e,n],e)}function Sf(e,n,i){return ai&21?(wn(i,n)||(i=Xr(),Qe.lanes|=i,ui|=i,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=i)}function lg(e,n){var i=_e;_e=i!==0&&4>i?i:4,e(!0);var a=Iu.transition;Iu.transition={};try{e(!1),n()}finally{_e=i,Iu.transition=a}}function Af(){return un().memoizedState}function ag(e,n,i){var a=kr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Cf(e))Rf(n,i);else if(i=nf(e,n,i,a),i!==null){var h=Ft();Cn(i,e,a,h),Pf(i,n,a)}}function ug(e,n,i){var a=kr(e),h={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))Rf(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,i);if(h.hasEagerState=!0,h.eagerState=w,wn(w,y)){var C=n.interleaved;C===null?(h.next=h,yu(n)):(h.next=C.next,C.next=h),n.interleaved=h;return}}catch{}finally{}i=nf(e,n,h,a),i!==null&&(h=Ft(),Cn(i,e,a,h),Pf(i,n,a))}}function Cf(e){var n=e.alternate;return e===Qe||n!==null&&n===Qe}function Rf(e,n){yo=Fl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Pf(e,n,i){if(i&4194240){var a=n.lanes;a&=e.pendingLanes,i|=a,n.lanes=i,pr(e,i)}}var Bl={readContext:an,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},cg={readContext:an,useCallback:function(e,n){return Mn().memoizedState=[e,n===void 0?null:n],e},useContext:an,useEffect:yf,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,Ul(4194308,4,Ef.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Ul(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ul(4,2,e,n)},useMemo:function(e,n){var i=Mn();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var a=Mn();return n=i!==void 0?i(n):n,a.memoizedState=a.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=ag.bind(null,Qe,e),[a.memoizedState,e]},useRef:function(e){var n=Mn();return e={current:e},n.memoizedState=e},useState:mf,useDebugValue:Vu,useDeferredValue:function(e){return Mn().memoizedState=e},useTransition:function(){var e=mf(!1),n=e[0];return e=lg.bind(null,e[1]),Mn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var a=Qe,h=Mn();if(He){if(i===void 0)throw Error(r(407));i=i()}else{if(i=n(),pt===null)throw Error(r(349));ai&30||cf(a,n,i)}h.memoizedState=i;var d={value:i,getSnapshot:n};return h.queue=d,yf(ff.bind(null,a,d,e),[e]),a.flags|=2048,Eo(9,hf.bind(null,a,d,i,n),void 0,null),i},useId:function(){var e=Mn(),n=pt.identifierPrefix;if(He){var i=tr,a=er;i=(a&~(1<<32-Lt(a)-1)).toString(32)+i,n=":"+n+"R"+i,i=vo++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=og++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},hg={readContext:an,useCallback:Tf,useContext:an,useEffect:ku,useImperativeHandle:wf,useInsertionEffect:vf,useLayoutEffect:_f,useMemo:If,useReducer:Ru,useRef:gf,useState:function(){return Ru(_o)},useDebugValue:Vu,useDeferredValue:function(e){var n=un();return Sf(n,at.memoizedState,e)},useTransition:function(){var e=Ru(_o)[0],n=un().memoizedState;return[e,n]},useMutableSource:af,useSyncExternalStore:uf,useId:Af,unstable_isNewReconciler:!1},fg={readContext:an,useCallback:Tf,useContext:an,useEffect:ku,useImperativeHandle:wf,useInsertionEffect:vf,useLayoutEffect:_f,useMemo:If,useReducer:Pu,useRef:gf,useState:function(){return Pu(_o)},useDebugValue:Vu,useDeferredValue:function(e){var n=un();return at===null?n.memoizedState=e:Sf(n,at.memoizedState,e)},useTransition:function(){var e=Pu(_o)[0],n=un().memoizedState;return[e,n]},useMutableSource:af,useSyncExternalStore:uf,useId:Af,unstable_isNewReconciler:!1};function In(e,n){if(e&&e.defaultProps){n=J({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function Nu(e,n,i,a){n=e.memoizedState,i=i(a,n),i=i==null?n:J({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var jl={isMounted:function(e){return(e=e._reactInternals)?pn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var a=Ft(),h=kr(e),d=rr(a,h);d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,a),xl(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var a=Ft(),h=kr(e),d=rr(a,h);d.tag=1,d.payload=n,i!=null&&(d.callback=i),n=Ar(e,d,h),n!==null&&(Cn(n,e,h,a),xl(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Ft(),a=kr(e),h=rr(i,a);h.tag=2,n!=null&&(h.callback=n),n=Ar(e,h,a),n!==null&&(Cn(n,e,a,i),xl(n,e,a))}};function kf(e,n,i,a,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,y):n.prototype&&n.prototype.isPureReactComponent?!so(i,a)||!so(h,d):!0}function Vf(e,n,i){var a=!1,h=Tr,d=n.contextType;return typeof d=="object"&&d!==null?d=an(d):(h=$t(n)?ri:Rt.current,a=n.contextTypes,d=(a=a!=null)?ts(e,h):Tr),n=new n(i,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=jl,e.stateNode=n,n._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=d),n}function Nf(e,n,i,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,a),n.state!==e&&jl.enqueueReplaceState(n,n.state,null)}function Du(e,n,i,a){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},vu(e);var d=n.contextType;typeof d=="object"&&d!==null?h.context=an(d):(d=$t(n)?ri:Rt.current,h.context=ts(e,d)),h.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Nu(e,n,d,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&jl.enqueueReplaceState(h,h.state,null),Ll(e,i,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function us(e,n){try{var i="",a=n;do i+=ge(a),a=a.return;while(a);var h=i}catch(d){h=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:h,digest:null}}function xu(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Lu(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var dg=typeof WeakMap=="function"?WeakMap:Map;function Df(e,n,i){i=rr(-1,i),i.tag=3,i.payload={element:null};var a=n.value;return i.callback=function(){Wl||(Wl=!0,Gu=a),Lu(e,n)},i}function xf(e,n,i){i=rr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=n.value;i.payload=function(){return a(h)},i.callback=function(){Lu(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){Lu(e,n),typeof a!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function Lf(e,n,i){var a=e.pingCache;if(a===null){a=e.pingCache=new dg;var h=new Set;a.set(n,h)}else h=a.get(n),h===void 0&&(h=new Set,a.set(n,h));h.has(i)||(h.add(i),e=Rg.bind(null,e,n,i),n.then(e,e))}function Of(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Mf(e,n,i,a,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=rr(-1,1),n.tag=2,Ar(i,n,1))),i.lanes|=1),e)}var pg=ve.ReactCurrentOwner,qt=!1;function Mt(e,n,i,a){n.child=e===null?tf(n,null,i,a):ss(n,e.child,i,a)}function Ff(e,n,i,a,h){i=i.render;var d=n.ref;return ls(n,h),a=Au(e,n,i,a,d,h),i=Cu(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ir(e,n,h)):(He&&i&&au(n),n.flags|=1,Mt(e,n,a,h),n.child)}function Uf(e,n,i,a,h){if(e===null){var d=i.type;return typeof d=="function"&&!nc(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=d,zf(e,n,d,a,h)):(e=ea(i.type,null,a,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&h)){var y=d.memoizedProps;if(i=i.compare,i=i!==null?i:so,i(y,a)&&e.ref===n.ref)return ir(e,n,h)}return n.flags|=1,e=Nr(d,a),e.ref=n.ref,e.return=n,n.child=e}function zf(e,n,i,a,h){if(e!==null){var d=e.memoizedProps;if(so(d,a)&&e.ref===n.ref)if(qt=!1,n.pendingProps=a=d,(e.lanes&h)!==0)e.flags&131072&&(qt=!0);else return n.lanes=e.lanes,ir(e,n,h)}return Ou(e,n,i,a,h)}function Bf(e,n,i){var a=n.pendingProps,h=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(hs,en),en|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Be(hs,en),en|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,Be(hs,en),en|=a}else d!==null?(a=d.baseLanes|i,n.memoizedState=null):a=i,Be(hs,en),en|=a;return Mt(e,n,h,i),n.child}function jf(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function Ou(e,n,i,a,h){var d=$t(i)?ri:Rt.current;return d=ts(n,d),ls(n,h),i=Au(e,n,i,a,d,h),a=Cu(),e!==null&&!qt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,ir(e,n,h)):(He&&a&&au(n),n.flags|=1,Mt(e,n,i,h),n.child)}function $f(e,n,i,a,h){if($t(i)){var d=!0;Al(n)}else d=!1;if(ls(n,h),n.stateNode===null)ql(e,n),Vf(n,i,a),Du(n,i,a,h),a=!0;else if(e===null){var y=n.stateNode,w=n.memoizedProps;y.props=w;var C=y.context,M=i.contextType;typeof M=="object"&&M!==null?M=an(M):(M=$t(i)?ri:Rt.current,M=ts(n,M));var $=i.getDerivedStateFromProps,H=typeof $=="function"||typeof y.getSnapshotBeforeUpdate=="function";H||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==a||C!==M)&&Nf(n,y,a,M),Sr=!1;var j=n.memoizedState;y.state=j,Ll(n,a,y,h),C=n.memoizedState,w!==a||j!==C||jt.current||Sr?(typeof $=="function"&&(Nu(n,i,$,a),C=n.memoizedState),(w=Sr||kf(n,i,w,a,j,C,M))?(H||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=C),y.props=a,y.state=C,y.context=M,a=w):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{y=n.stateNode,rf(e,n),w=n.memoizedProps,M=n.type===n.elementType?w:In(n.type,w),y.props=M,H=n.pendingProps,j=y.context,C=i.contextType,typeof C=="object"&&C!==null?C=an(C):(C=$t(i)?ri:Rt.current,C=ts(n,C));var X=i.getDerivedStateFromProps;($=typeof X=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==H||j!==C)&&Nf(n,y,a,C),Sr=!1,j=n.memoizedState,y.state=j,Ll(n,a,y,h);var ne=n.memoizedState;w!==H||j!==ne||jt.current||Sr?(typeof X=="function"&&(Nu(n,i,X,a),ne=n.memoizedState),(M=Sr||kf(n,i,M,a,j,ne,C)||!1)?($||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(a,ne,C),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(a,ne,C)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ne),y.props=a,y.state=ne,y.context=C,a=M):(typeof y.componentDidUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),a=!1)}return Mu(e,n,i,a,d,h)}function Mu(e,n,i,a,h,d){jf(e,n);var y=(n.flags&128)!==0;if(!a&&!y)return h&&Qh(n,i,!1),ir(e,n,d);a=n.stateNode,pg.current=n;var w=y&&typeof i.getDerivedStateFromError!="function"?null:a.render();return n.flags|=1,e!==null&&y?(n.child=ss(n,e.child,null,d),n.child=ss(n,null,w,d)):Mt(e,n,w,d),n.memoizedState=a.state,h&&Qh(n,i,!0),n.child}function qf(e){var n=e.stateNode;n.pendingContext?Hh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Hh(e,n.context,!1),_u(e,n.containerInfo)}function Hf(e,n,i,a,h){return is(),fu(h),n.flags|=256,Mt(e,n,i,a),n.child}var Fu={dehydrated:null,treeContext:null,retryLane:0};function Uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function bf(e,n,i){var a=n.pendingProps,h=be.current,d=!1,y=(n.flags&128)!==0,w;if((w=y)||(w=e!==null&&e.memoizedState===null?!1:(h&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Be(be,h&1),e===null)return hu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(y=a.children,e=a.fallback,d?(a=n.mode,d=n.child,y={mode:"hidden",children:y},!(a&1)&&d!==null?(d.childLanes=0,d.pendingProps=y):d=ta(y,a,0,null),e=di(e,a,i,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=Uu(i),n.memoizedState=Fu,e):zu(n,y));if(h=e.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return mg(e,n,y,a,w,h,i);if(d){d=a.fallback,y=n.mode,h=e.child,w=h.sibling;var C={mode:"hidden",children:a.children};return!(y&1)&&n.child!==h?(a=n.child,a.childLanes=0,a.pendingProps=C,n.deletions=null):(a=Nr(h,C),a.subtreeFlags=h.subtreeFlags&14680064),w!==null?d=Nr(w,d):(d=di(d,y,i,null),d.flags|=2),d.return=n,a.return=n,a.sibling=d,n.child=a,a=d,d=n.child,y=e.child.memoizedState,y=y===null?Uu(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},d.memoizedState=y,d.childLanes=e.childLanes&~i,n.memoizedState=Fu,a}return d=e.child,e=d.sibling,a=Nr(d,{mode:"visible",children:a.children}),!(n.mode&1)&&(a.lanes=i),a.return=n,a.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=a,n.memoizedState=null,a}function zu(e,n){return n=ta({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $l(e,n,i,a){return a!==null&&fu(a),ss(n,e.child,null,i),e=zu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function mg(e,n,i,a,h,d,y){if(i)return n.flags&256?(n.flags&=-257,a=xu(Error(r(422))),$l(e,n,y,a)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=a.fallback,h=n.mode,a=ta({mode:"visible",children:a.children},h,0,null),d=di(d,h,y,null),d.flags|=2,a.return=n,d.return=n,a.sibling=d,n.child=a,n.mode&1&&ss(n,e.child,null,y),n.child.memoizedState=Uu(y),n.memoizedState=Fu,d);if(!(n.mode&1))return $l(e,n,y,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var w=a.dgst;return a=w,d=Error(r(419)),a=xu(d,a,void 0),$l(e,n,y,a)}if(w=(y&e.childLanes)!==0,qt||w){if(a=pt,a!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(a.suspendedLanes|y)?0:h,h!==0&&h!==d.retryLane&&(d.retryLane=h,nr(e,h),Cn(a,e,h,-1))}return tc(),a=xu(Error(r(421))),$l(e,n,y,a)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Pg.bind(null,e),h._reactRetry=n,null):(e=d.treeContext,Zt=Er(h.nextSibling),Jt=n,He=!0,Tn=null,e!==null&&(on[ln++]=er,on[ln++]=tr,on[ln++]=ii,er=e.id,tr=e.overflow,ii=n),n=zu(n,a.children),n.flags|=4096,n)}function Qf(e,n,i){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),gu(e.return,n,i)}function Bu(e,n,i,a,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=h)}function Kf(e,n,i){var a=n.pendingProps,h=a.revealOrder,d=a.tail;if(Mt(e,n,a.children,i),a=be.current,a&2)a=a&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qf(e,i,n);else if(e.tag===19)Qf(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Be(be,a),!(n.mode&1))n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&Ol(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Bu(n,!1,h,i,d);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ol(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Bu(n,!0,i,null,d);break;case"together":Bu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ql(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function ir(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),ui|=n.lanes,!(i&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,i=Nr(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function gg(e,n,i){switch(n.tag){case 3:qf(n),is();break;case 5:lf(n);break;case 1:$t(n.type)&&Al(n);break;case 4:_u(n,n.stateNode.containerInfo);break;case 10:var a=n.type._context,h=n.memoizedProps.value;Be(Nl,a._currentValue),a._currentValue=h;break;case 13:if(a=n.memoizedState,a!==null)return a.dehydrated!==null?(Be(be,be.current&1),n.flags|=128,null):i&n.child.childLanes?bf(e,n,i):(Be(be,be.current&1),e=ir(e,n,i),e!==null?e.sibling:null);Be(be,be.current&1);break;case 19:if(a=(i&n.childLanes)!==0,e.flags&128){if(a)return Kf(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Be(be,be.current),a)break;return null;case 22:case 23:return n.lanes=0,Bf(e,n,i)}return ir(e,n,i)}var Wf,ju,Gf,Yf;Wf=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},ju=function(){},Gf=function(e,n,i,a){var h=e.memoizedProps;if(h!==a){e=n.stateNode,li(On.current);var d=null;switch(i){case"input":h=Br(e,h),a=Br(e,a),d=[];break;case"select":h=J({},h,{value:void 0}),a=J({},a,{value:void 0}),d=[];break;case"textarea":h=Ls(e,h),a=Ls(e,a),d=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Tl)}Bs(i,a);var y;i=null;for(M in h)if(!a.hasOwnProperty(M)&&h.hasOwnProperty(M)&&h[M]!=null)if(M==="style"){var w=h[M];for(y in w)w.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(u.hasOwnProperty(M)?d||(d=[]):(d=d||[]).push(M,null));for(M in a){var C=a[M];if(w=h!=null?h[M]:void 0,a.hasOwnProperty(M)&&C!==w&&(C!=null||w!=null))if(M==="style")if(w){for(y in w)!w.hasOwnProperty(y)||C&&C.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in C)C.hasOwnProperty(y)&&w[y]!==C[y]&&(i||(i={}),i[y]=C[y])}else i||(d||(d=[]),d.push(M,i)),i=C;else M==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(d=d||[]).push(M,C)):M==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(M,""+C):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(u.hasOwnProperty(M)?(C!=null&&M==="onScroll"&&je("scroll",e),d||w===C||(d=[])):(d=d||[]).push(M,C))}i&&(d=d||[]).push("style",i);var M=d;(n.updateQueue=M)&&(n.flags|=4)}},Yf=function(e,n,i,a){i!==a&&(n.flags|=4)};function wo(e,n){if(!He)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=i,n}function yg(e,n,i){var a=n.pendingProps;switch(uu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(n),null;case 1:return $t(n.type)&&Sl(),kt(n),null;case 3:return a=n.stateNode,as(),$e(jt),$e(Rt),Tu(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(kl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Tn!==null&&(Ju(Tn),Tn=null))),ju(e,n),kt(n),null;case 5:Eu(n);var h=li(go.current);if(i=n.type,e!==null&&n.stateNode!=null)Gf(e,n,i,a,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!a){if(n.stateNode===null)throw Error(r(166));return kt(n),null}if(e=li(On.current),kl(n)){a=n.stateNode,i=n.type;var d=n.memoizedProps;switch(a[Ln]=n,a[co]=d,e=(n.mode&1)!==0,i){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(h=0;h<lo.length;h++)je(lo[h],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":Ii(a,d),je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},je("invalid",a);break;case"textarea":Ai(a,d),je("invalid",a)}Bs(i,d),h=null;for(var y in d)if(d.hasOwnProperty(y)){var w=d[y];y==="children"?typeof w=="string"?a.textContent!==w&&(d.suppressHydrationWarning!==!0&&wl(a.textContent,w,e),h=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&wl(a.textContent,w,e),h=["children",""+w]):u.hasOwnProperty(y)&&w!=null&&y==="onScroll"&&je("scroll",a)}switch(i){case"input":$n(a),Ko(a,d,!0);break;case"textarea":$n(a),Os(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Tl)}a=h,n.updateQueue=a,a!==null&&(n.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=st(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=y.createElement(i,{is:a.is}):(e=y.createElement(i),i==="select"&&(y=e,a.multiple?y.multiple=!0:a.size&&(y.size=a.size))):e=y.createElementNS(e,i),e[Ln]=n,e[co]=a,Wf(e,n,!1,!1),n.stateNode=e;e:{switch(y=js(i,a),i){case"dialog":je("cancel",e),je("close",e),h=a;break;case"iframe":case"object":case"embed":je("load",e),h=a;break;case"video":case"audio":for(h=0;h<lo.length;h++)je(lo[h],e);h=a;break;case"source":je("error",e),h=a;break;case"img":case"image":case"link":je("error",e),je("load",e),h=a;break;case"details":je("toggle",e),h=a;break;case"input":Ii(e,a),h=Br(e,a),je("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=J({},a,{value:void 0}),je("invalid",e);break;case"textarea":Ai(e,a),h=Ls(e,a),je("invalid",e);break;default:h=a}Bs(i,h),w=h;for(d in w)if(w.hasOwnProperty(d)){var C=w[d];d==="style"?Us(e,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ms(e,C)):d==="children"?typeof C=="string"?(i!=="textarea"||C!=="")&&ur(e,C):typeof C=="number"&&ur(e,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?C!=null&&d==="onScroll"&&je("scroll",e):C!=null&&Ee(e,d,C,y))}switch(i){case"input":$n(e),Ko(e,a,!1);break;case"textarea":$n(e),Os(e);break;case"option":a.value!=null&&e.setAttribute("value",""+xe(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Hn(e,!!a.multiple,d,!1):a.defaultValue!=null&&Hn(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Tl)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return kt(n),null;case 6:if(e&&n.stateNode!=null)Yf(e,n,e.memoizedProps,a);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(i=li(go.current),li(On.current),kl(n)){if(a=n.stateNode,i=n.memoizedProps,a[Ln]=n,(d=a.nodeValue!==i)&&(e=Jt,e!==null))switch(e.tag){case 3:wl(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(a.nodeValue,i,(e.mode&1)!==0)}d&&(n.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Ln]=n,n.stateNode=a}return kt(n),null;case 13:if($e(be),a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Zt!==null&&n.mode&1&&!(n.flags&128))Jh(),is(),n.flags|=98560,d=!1;else if(d=kl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Ln]=n}else is(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;kt(n),d=!1}else Tn!==null&&(Ju(Tn),Tn=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=i,n):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(n.child.flags|=8192,n.mode&1&&(e===null||be.current&1?ut===0&&(ut=3):tc())),n.updateQueue!==null&&(n.flags|=4),kt(n),null);case 4:return as(),ju(e,n),e===null&&ao(n.stateNode.containerInfo),kt(n),null;case 10:return mu(n.type._context),kt(n),null;case 17:return $t(n.type)&&Sl(),kt(n),null;case 19:if($e(be),d=n.memoizedState,d===null)return kt(n),null;if(a=(n.flags&128)!==0,y=d.rendering,y===null)if(a)wo(d,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(y=Ol(e),y!==null){for(n.flags|=128,wo(d,!1),a=y.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),n.subtreeFlags=0,a=i,i=n.child;i!==null;)d=i,e=a,d.flags&=14680066,y=d.alternate,y===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,e=y.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Be(be,be.current&1|2),n.child}e=e.sibling}d.tail!==null&&ze()>fs&&(n.flags|=128,a=!0,wo(d,!1),n.lanes=4194304)}else{if(!a)if(e=Ol(y),e!==null){if(n.flags|=128,a=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),wo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!y.alternate&&!He)return kt(n),null}else 2*ze()-d.renderingStartTime>fs&&i!==1073741824&&(n.flags|=128,a=!0,wo(d,!1),n.lanes=4194304);d.isBackwards?(y.sibling=n.child,n.child=y):(i=d.last,i!==null?i.sibling=y:n.child=y,d.last=y)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=ze(),n.sibling=null,i=be.current,Be(be,a?i&1|2:i&1),n):(kt(n),null);case 22:case 23:return ec(),a=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(n.flags|=8192),a&&n.mode&1?en&1073741824&&(kt(n),n.subtreeFlags&6&&(n.flags|=8192)):kt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function vg(e,n){switch(uu(n),n.tag){case 1:return $t(n.type)&&Sl(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return as(),$e(jt),$e(Rt),Tu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Eu(n),null;case 13:if($e(be),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));is()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $e(be),null;case 4:return as(),null;case 10:return mu(n.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var Hl=!1,Vt=!1,_g=typeof WeakSet=="function"?WeakSet:Set,te=null;function cs(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ke(e,n,a)}else i.current=null}function $u(e,n,i){try{i()}catch(a){Ke(e,n,a)}}var Xf=!1;function Eg(e,n){if(eu=yr,e=Ph(),Qa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var h=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var y=0,w=-1,C=-1,M=0,$=0,H=e,j=null;t:for(;;){for(var X;H!==i||h!==0&&H.nodeType!==3||(w=y+h),H!==d||a!==0&&H.nodeType!==3||(C=y+a),H.nodeType===3&&(y+=H.nodeValue.length),(X=H.firstChild)!==null;)j=H,H=X;for(;;){if(H===e)break t;if(j===i&&++M===h&&(w=y),j===d&&++$===a&&(C=y),(X=H.nextSibling)!==null)break;H=j,j=H.parentNode}H=X}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(tu={focusedElem:e,selectionRange:i},yr=!1,te=n;te!==null;)if(n=te,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,te=e;else for(;te!==null;){n=te;try{var ne=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,Ze=ne.memoizedState,L=n.stateNode,R=L.getSnapshotBeforeUpdate(n.elementType===n.type?re:In(n.type,re),Ze);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var O=n.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Q){Ke(n,n.return,Q)}if(e=n.sibling,e!==null){e.return=n.return,te=e;break}te=n.return}return ne=Xf,Xf=!1,ne}function To(e,n,i){var a=n.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var d=h.destroy;h.destroy=void 0,d!==void 0&&$u(n,i,d)}h=h.next}while(h!==a)}}function bl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==n)}}function qu(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function Jf(e){var n=e.alternate;n!==null&&(e.alternate=null,Jf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ln],delete n[co],delete n[su],delete n[ng],delete n[rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function ed(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Tl));else if(a!==4&&(e=e.child,e!==null))for(Hu(e,n,i),e=e.sibling;e!==null;)Hu(e,n,i),e=e.sibling}function bu(e,n,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(bu(e,n,i),e=e.sibling;e!==null;)bu(e,n,i),e=e.sibling}var _t=null,Sn=!1;function Cr(e,n,i){for(i=i.child;i!==null;)td(e,n,i),i=i.sibling}function td(e,n,i){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Gr,i)}catch{}switch(i.tag){case 5:Vt||cs(i,n);case 6:var a=_t,h=Sn;_t=null,Cr(e,n,i),_t=a,Sn=h,_t!==null&&(Sn?(e=_t,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):_t.removeChild(i.stateNode));break;case 18:_t!==null&&(Sn?(e=_t,i=i.stateNode,e.nodeType===8?iu(e.parentNode,i):e.nodeType===1&&iu(e,i),_n(e)):iu(_t,i.stateNode));break;case 4:a=_t,h=Sn,_t=i.stateNode.containerInfo,Sn=!0,Cr(e,n,i),_t=a,Sn=h;break;case 0:case 11:case 14:case 15:if(!Vt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var d=h,y=d.destroy;d=d.tag,y!==void 0&&(d&2||d&4)&&$u(i,n,y),h=h.next}while(h!==a)}Cr(e,n,i);break;case 1:if(!Vt&&(cs(i,n),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(w){Ke(i,n,w)}Cr(e,n,i);break;case 21:Cr(e,n,i);break;case 22:i.mode&1?(Vt=(a=Vt)||i.memoizedState!==null,Cr(e,n,i),Vt=a):Cr(e,n,i);break;default:Cr(e,n,i)}}function nd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new _g),n.forEach(function(a){var h=kg.bind(null,e,a);i.has(a)||(i.add(a),a.then(h,h))})}}function An(e,n){var i=n.deletions;if(i!==null)for(var a=0;a<i.length;a++){var h=i[a];try{var d=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 5:_t=w.stateNode,Sn=!1;break e;case 3:_t=w.stateNode.containerInfo,Sn=!0;break e;case 4:_t=w.stateNode.containerInfo,Sn=!0;break e}w=w.return}if(_t===null)throw Error(r(160));td(d,y,h),_t=null,Sn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(M){Ke(h,n,M)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)rd(n,e),n=n.sibling}function rd(e,n){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(n,e),Fn(e),a&4){try{To(3,e,e.return),bl(3,e)}catch(re){Ke(e,e.return,re)}try{To(5,e,e.return)}catch(re){Ke(e,e.return,re)}}break;case 1:An(n,e),Fn(e),a&512&&i!==null&&cs(i,i.return);break;case 5:if(An(n,e),Fn(e),a&512&&i!==null&&cs(i,i.return),e.flags&32){var h=e.stateNode;try{ur(h,"")}catch(re){Ke(e,e.return,re)}}if(a&4&&(h=e.stateNode,h!=null)){var d=e.memoizedProps,y=i!==null?i.memoizedProps:d,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Ds(h,d),js(w,y);var M=js(w,d);for(y=0;y<C.length;y+=2){var $=C[y],H=C[y+1];$==="style"?Us(h,H):$==="dangerouslySetInnerHTML"?Ms(h,H):$==="children"?ur(h,H):Ee(h,$,H,M)}switch(w){case"input":xs(h,d);break;case"textarea":Ci(h,d);break;case"select":var j=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!d.multiple;var X=d.value;X!=null?Hn(h,!!d.multiple,X,!1):j!==!!d.multiple&&(d.defaultValue!=null?Hn(h,!!d.multiple,d.defaultValue,!0):Hn(h,!!d.multiple,d.multiple?[]:"",!1))}h[co]=d}catch(re){Ke(e,e.return,re)}}break;case 6:if(An(n,e),Fn(e),a&4){if(e.stateNode===null)throw Error(r(162));h=e.stateNode,d=e.memoizedProps;try{h.nodeValue=d}catch(re){Ke(e,e.return,re)}}break;case 3:if(An(n,e),Fn(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{_n(n.containerInfo)}catch(re){Ke(e,e.return,re)}break;case 4:An(n,e),Fn(e);break;case 13:An(n,e),Fn(e),h=e.child,h.flags&8192&&(d=h.memoizedState!==null,h.stateNode.isHidden=d,!d||h.alternate!==null&&h.alternate.memoizedState!==null||(Wu=ze())),a&4&&nd(e);break;case 22:if($=i!==null&&i.memoizedState!==null,e.mode&1?(Vt=(M=Vt)||$,An(n,e),Vt=M):An(n,e),Fn(e),a&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!$&&e.mode&1)for(te=e,$=e.child;$!==null;){for(H=te=$;te!==null;){switch(j=te,X=j.child,j.tag){case 0:case 11:case 14:case 15:To(4,j,j.return);break;case 1:cs(j,j.return);var ne=j.stateNode;if(typeof ne.componentWillUnmount=="function"){a=j,i=j.return;try{n=a,ne.props=n.memoizedProps,ne.state=n.memoizedState,ne.componentWillUnmount()}catch(re){Ke(a,i,re)}}break;case 5:cs(j,j.return);break;case 22:if(j.memoizedState!==null){od(H);continue}}X!==null?(X.return=j,te=X):od(H)}$=$.sibling}e:for($=null,H=e;;){if(H.tag===5){if($===null){$=H;try{h=H.stateNode,M?(d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=H.stateNode,C=H.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Fs("display",y))}catch(re){Ke(e,e.return,re)}}}else if(H.tag===6){if($===null)try{H.stateNode.nodeValue=M?"":H.memoizedProps}catch(re){Ke(e,e.return,re)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;$===H&&($=null),H=H.return}$===H&&($=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:An(n,e),Fn(e),a&4&&nd(e);break;case 21:break;default:An(n,e),Fn(e)}}function Fn(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(Zf(i)){var a=i;break e}i=i.return}throw Error(r(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(ur(h,""),a.flags&=-33);var d=ed(e);bu(e,d,h);break;case 3:case 4:var y=a.stateNode.containerInfo,w=ed(e);Hu(e,w,y);break;default:throw Error(r(161))}}catch(C){Ke(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wg(e,n,i){te=e,id(e)}function id(e,n,i){for(var a=(e.mode&1)!==0;te!==null;){var h=te,d=h.child;if(h.tag===22&&a){var y=h.memoizedState!==null||Hl;if(!y){var w=h.alternate,C=w!==null&&w.memoizedState!==null||Vt;w=Hl;var M=Vt;if(Hl=y,(Vt=C)&&!M)for(te=h;te!==null;)y=te,C=y.child,y.tag===22&&y.memoizedState!==null?ld(h):C!==null?(C.return=y,te=C):ld(h);for(;d!==null;)te=d,id(d),d=d.sibling;te=h,Hl=w,Vt=M}sd(e)}else h.subtreeFlags&8772&&d!==null?(d.return=h,te=d):sd(e)}}function sd(e){for(;te!==null;){var n=te;if(n.flags&8772){var i=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Vt||bl(5,n);break;case 1:var a=n.stateNode;if(n.flags&4&&!Vt)if(i===null)a.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:In(n.type,i.memoizedProps);a.componentDidUpdate(h,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&of(n,d,a);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}of(n,y,i)}break;case 5:var w=n.stateNode;if(i===null&&n.flags&4){i=w;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&i.focus();break;case"img":C.src&&(i.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var M=n.alternate;if(M!==null){var $=M.memoizedState;if($!==null){var H=$.dehydrated;H!==null&&_n(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Vt||n.flags&512&&qu(n)}catch(j){Ke(n,n.return,j)}}if(n===e){te=null;break}if(i=n.sibling,i!==null){i.return=n.return,te=i;break}te=n.return}}function od(e){for(;te!==null;){var n=te;if(n===e){te=null;break}var i=n.sibling;if(i!==null){i.return=n.return,te=i;break}te=n.return}}function ld(e){for(;te!==null;){var n=te;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{bl(4,n)}catch(C){Ke(n,i,C)}break;case 1:var a=n.stateNode;if(typeof a.componentDidMount=="function"){var h=n.return;try{a.componentDidMount()}catch(C){Ke(n,h,C)}}var d=n.return;try{qu(n)}catch(C){Ke(n,d,C)}break;case 5:var y=n.return;try{qu(n)}catch(C){Ke(n,y,C)}}}catch(C){Ke(n,n.return,C)}if(n===e){te=null;break}var w=n.sibling;if(w!==null){w.return=n.return,te=w;break}te=n.return}}var Tg=Math.ceil,Ql=ve.ReactCurrentDispatcher,Qu=ve.ReactCurrentOwner,cn=ve.ReactCurrentBatchConfig,Re=0,pt=null,rt=null,Et=0,en=0,hs=wr(0),ut=0,Io=null,ui=0,Kl=0,Ku=0,So=null,Ht=null,Wu=0,fs=1/0,sr=null,Wl=!1,Gu=null,Rr=null,Gl=!1,Pr=null,Yl=0,Ao=0,Yu=null,Xl=-1,Jl=0;function Ft(){return Re&6?ze():Xl!==-1?Xl:Xl=ze()}function kr(e){return e.mode&1?Re&2&&Et!==0?Et&-Et:sg.transition!==null?(Jl===0&&(Jl=Xr()),Jl):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Js(e.type)),e):1}function Cn(e,n,i,a){if(50<Ao)throw Ao=0,Yu=null,Error(r(185));dr(e,i,a),(!(Re&2)||e!==pt)&&(e===pt&&(!(Re&2)&&(Kl|=i),ut===4&&Vr(e,Et)),bt(e,a),i===1&&Re===0&&!(n.mode&1)&&(fs=ze()+500,Cl&&Ir()))}function bt(e,n){var i=e.callbackNode;Kn(e,n);var a=Yr(e,e===pt?Et:0);if(a===0)i!==null&&Ks(i),e.callbackNode=null,e.callbackPriority=0;else if(n=a&-a,e.callbackPriority!==n){if(i!=null&&Ks(i),n===1)e.tag===0?ig(ud.bind(null,e)):Kh(ud.bind(null,e)),eg(function(){!(Re&6)&&Ir()}),i=null;else{switch(mr(a)){case 1:i=Wr;break;case 4:i=cr;break;case 16:i=nn;break;case 536870912:i=Jo;break;default:i=nn}i=yd(i,ad.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function ad(e,n){if(Xl=-1,Jl=0,Re&6)throw Error(r(327));var i=e.callbackNode;if(ds()&&e.callbackNode!==i)return null;var a=Yr(e,e===pt?Et:0);if(a===0)return null;if(a&30||a&e.expiredLanes||n)n=Zl(e,a);else{n=a;var h=Re;Re|=2;var d=hd();(pt!==e||Et!==n)&&(sr=null,fs=ze()+500,hi(e,n));do try{Ag();break}catch(w){cd(e,w)}while(!0);pu(),Ql.current=d,Re=h,rt!==null?n=0:(pt=null,Et=0,n=ut)}if(n!==0){if(n===2&&(h=Gt(e),h!==0&&(a=h,n=Xu(e,h))),n===1)throw i=Io,hi(e,0),Vr(e,a),bt(e,ze()),i;if(n===6)Vr(e,a);else{if(h=e.current.alternate,!(a&30)&&!Ig(h)&&(n=Zl(e,a),n===2&&(d=Gt(e),d!==0&&(a=d,n=Xu(e,d))),n===1))throw i=Io,hi(e,0),Vr(e,a),bt(e,ze()),i;switch(e.finishedWork=h,e.finishedLanes=a,n){case 0:case 1:throw Error(r(345));case 2:fi(e,Ht,sr);break;case 3:if(Vr(e,a),(a&130023424)===a&&(n=Wu+500-ze(),10<n)){if(Yr(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){Ft(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=ru(fi.bind(null,e,Ht,sr),n);break}fi(e,Ht,sr);break;case 4:if(Vr(e,a),(a&4194240)===a)break;for(n=e.eventTimes,h=-1;0<a;){var y=31-Lt(a);d=1<<y,y=n[y],y>h&&(h=y),a&=~d}if(a=h,a=ze()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Tg(a/1960))-a,10<a){e.timeoutHandle=ru(fi.bind(null,e,Ht,sr),a);break}fi(e,Ht,sr);break;case 5:fi(e,Ht,sr);break;default:throw Error(r(329))}}}return bt(e,ze()),e.callbackNode===i?ad.bind(null,e):null}function Xu(e,n){var i=So;return e.current.memoizedState.isDehydrated&&(hi(e,n).flags|=256),e=Zl(e,n),e!==2&&(n=Ht,Ht=i,n!==null&&Ju(n)),e}function Ju(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function Ig(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var h=i[a],d=h.getSnapshot;h=h.value;try{if(!wn(d(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n){for(n&=~Ku,n&=~Kl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-Lt(n),a=1<<i;e[i]=-1,n&=~a}}function ud(e){if(Re&6)throw Error(r(327));ds();var n=Yr(e,0);if(!(n&1))return bt(e,ze()),null;var i=Zl(e,n);if(e.tag!==0&&i===2){var a=Gt(e);a!==0&&(n=a,i=Xu(e,a))}if(i===1)throw i=Io,hi(e,0),Vr(e,n),bt(e,ze()),i;if(i===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,fi(e,Ht,sr),bt(e,ze()),null}function Zu(e,n){var i=Re;Re|=1;try{return e(n)}finally{Re=i,Re===0&&(fs=ze()+500,Cl&&Ir())}}function ci(e){Pr!==null&&Pr.tag===0&&!(Re&6)&&ds();var n=Re;Re|=1;var i=cn.transition,a=_e;try{if(cn.transition=null,_e=1,e)return e()}finally{_e=a,cn.transition=i,Re=n,!(Re&6)&&Ir()}}function ec(){en=hs.current,$e(hs)}function hi(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Zm(i)),rt!==null)for(i=rt.return;i!==null;){var a=i;switch(uu(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Sl();break;case 3:as(),$e(jt),$e(Rt),Tu();break;case 5:Eu(a);break;case 4:as();break;case 13:$e(be);break;case 19:$e(be);break;case 10:mu(a.type._context);break;case 22:case 23:ec()}i=i.return}if(pt=e,rt=e=Nr(e.current,null),Et=en=n,ut=0,Io=null,Ku=Kl=ui=0,Ht=So=null,oi!==null){for(n=0;n<oi.length;n++)if(i=oi[n],a=i.interleaved,a!==null){i.interleaved=null;var h=a.next,d=i.pending;if(d!==null){var y=d.next;d.next=h,a.next=y}i.pending=a}oi=null}return e}function cd(e,n){do{var i=rt;try{if(pu(),Ml.current=Bl,Fl){for(var a=Qe.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}Fl=!1}if(ai=0,dt=at=Qe=null,yo=!1,vo=0,Qu.current=null,i===null||i.return===null){ut=1,Io=n,rt=null;break}e:{var d=e,y=i.return,w=i,C=n;if(n=Et,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var M=C,$=w,H=$.tag;if(!($.mode&1)&&(H===0||H===11||H===15)){var j=$.alternate;j?($.updateQueue=j.updateQueue,$.memoizedState=j.memoizedState,$.lanes=j.lanes):($.updateQueue=null,$.memoizedState=null)}var X=Of(y);if(X!==null){X.flags&=-257,Mf(X,y,w,d,n),X.mode&1&&Lf(d,M,n),n=X,C=M;var ne=n.updateQueue;if(ne===null){var re=new Set;re.add(C),n.updateQueue=re}else ne.add(C);break e}else{if(!(n&1)){Lf(d,M,n),tc();break e}C=Error(r(426))}}else if(He&&w.mode&1){var Ze=Of(y);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),Mf(Ze,y,w,d,n),fu(us(C,w));break e}}d=C=us(C,w),ut!==4&&(ut=2),So===null?So=[d]:So.push(d),d=y;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var L=Df(d,C,n);sf(d,L);break e;case 1:w=C;var R=d.type,O=d.stateNode;if(!(d.flags&128)&&(typeof R.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Rr===null||!Rr.has(O)))){d.flags|=65536,n&=-n,d.lanes|=n;var Q=xf(d,w,n);sf(d,Q);break e}}d=d.return}while(d!==null)}dd(i)}catch(se){n=se,rt===i&&i!==null&&(rt=i=i.return);continue}break}while(!0)}function hd(){var e=Ql.current;return Ql.current=Bl,e===null?Bl:e}function tc(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(ui&268435455)&&!(Kl&268435455)||Vr(pt,Et)}function Zl(e,n){var i=Re;Re|=2;var a=hd();(pt!==e||Et!==n)&&(sr=null,hi(e,n));do try{Sg();break}catch(h){cd(e,h)}while(!0);if(pu(),Re=i,Ql.current=a,rt!==null)throw Error(r(261));return pt=null,Et=0,ut}function Sg(){for(;rt!==null;)fd(rt)}function Ag(){for(;rt!==null&&!Yo();)fd(rt)}function fd(e){var n=gd(e.alternate,e,en);e.memoizedProps=e.pendingProps,n===null?dd(e):rt=n,Qu.current=null}function dd(e){var n=e;do{var i=n.alternate;if(e=n.return,n.flags&32768){if(i=vg(i,n),i!==null){i.flags&=32767,rt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,rt=null;return}}else if(i=yg(i,n,en),i!==null){rt=i;return}if(n=n.sibling,n!==null){rt=n;return}rt=n=e}while(n!==null);ut===0&&(ut=5)}function fi(e,n,i){var a=_e,h=cn.transition;try{cn.transition=null,_e=1,Cg(e,n,i,a)}finally{cn.transition=h,_e=a}return null}function Cg(e,n,i,a){do ds();while(Pr!==null);if(Re&6)throw Error(r(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(Fe(e,d),e===pt&&(rt=pt=null,Et=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Gl||(Gl=!0,yd(nn,function(){return ds(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=cn.transition,cn.transition=null;var y=_e;_e=1;var w=Re;Re|=4,Qu.current=null,Eg(e,i),rd(i,e),Qm(tu),yr=!!eu,tu=eu=null,e.current=i,wg(i),Ua(),Re=w,_e=y,cn.transition=d}else e.current=i;if(Gl&&(Gl=!1,Pr=e,Yl=h),d=e.pendingLanes,d===0&&(Rr=null),Zo(i.stateNode),bt(e,ze()),n!==null)for(a=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],a(h.value,{componentStack:h.stack,digest:h.digest});if(Wl)throw Wl=!1,e=Gu,Gu=null,e;return Yl&1&&e.tag!==0&&ds(),d=e.pendingLanes,d&1?e===Yu?Ao++:(Ao=0,Yu=e):Ao=0,Ir(),null}function ds(){if(Pr!==null){var e=mr(Yl),n=cn.transition,i=_e;try{if(cn.transition=null,_e=16>e?16:e,Pr===null)var a=!1;else{if(e=Pr,Pr=null,Yl=0,Re&6)throw Error(r(331));var h=Re;for(Re|=4,te=e.current;te!==null;){var d=te,y=d.child;if(te.flags&16){var w=d.deletions;if(w!==null){for(var C=0;C<w.length;C++){var M=w[C];for(te=M;te!==null;){var $=te;switch($.tag){case 0:case 11:case 15:To(8,$,d)}var H=$.child;if(H!==null)H.return=$,te=H;else for(;te!==null;){$=te;var j=$.sibling,X=$.return;if(Jf($),$===M){te=null;break}if(j!==null){j.return=X,te=j;break}te=X}}}var ne=d.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var Ze=re.sibling;re.sibling=null,re=Ze}while(re!==null)}}te=d}}if(d.subtreeFlags&2064&&y!==null)y.return=d,te=y;else e:for(;te!==null;){if(d=te,d.flags&2048)switch(d.tag){case 0:case 11:case 15:To(9,d,d.return)}var L=d.sibling;if(L!==null){L.return=d.return,te=L;break e}te=d.return}}var R=e.current;for(te=R;te!==null;){y=te;var O=y.child;if(y.subtreeFlags&2064&&O!==null)O.return=y,te=O;else e:for(y=R;te!==null;){if(w=te,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:bl(9,w)}}catch(se){Ke(w,w.return,se)}if(w===y){te=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,te=Q;break e}te=w.return}}if(Re=h,Ir(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Gr,e)}catch{}a=!0}return a}finally{_e=i,cn.transition=n}}return!1}function pd(e,n,i){n=us(i,n),n=Df(e,n,1),e=Ar(e,n,1),n=Ft(),e!==null&&(dr(e,1,n),bt(e,n))}function Ke(e,n,i){if(e.tag===3)pd(e,e,i);else for(;n!==null;){if(n.tag===3){pd(n,e,i);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rr===null||!Rr.has(a))){e=us(i,e),e=xf(n,e,1),n=Ar(n,e,1),e=Ft(),n!==null&&(dr(n,1,e),bt(n,e));break}}n=n.return}}function Rg(e,n,i){var a=e.pingCache;a!==null&&a.delete(n),n=Ft(),e.pingedLanes|=e.suspendedLanes&i,pt===e&&(Et&i)===i&&(ut===4||ut===3&&(Et&130023424)===Et&&500>ze()-Wu?hi(e,0):Ku|=i),bt(e,n)}function md(e,n){n===0&&(e.mode&1?(n=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):n=1);var i=Ft();e=nr(e,n),e!==null&&(dr(e,n,i),bt(e,i))}function Pg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),md(e,i)}function kg(e,n){var i=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(r(314))}a!==null&&a.delete(n),md(e,i)}var gd;gd=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||jt.current)qt=!0;else{if(!(e.lanes&i)&&!(n.flags&128))return qt=!1,gg(e,n,i);qt=!!(e.flags&131072)}else qt=!1,He&&n.flags&1048576&&Wh(n,Pl,n.index);switch(n.lanes=0,n.tag){case 2:var a=n.type;ql(e,n),e=n.pendingProps;var h=ts(n,Rt.current);ls(n,i),h=Au(null,n,a,e,h,i);var d=Cu();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,$t(a)?(d=!0,Al(n)):d=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,vu(n),h.updater=jl,n.stateNode=h,h._reactInternals=n,Du(n,a,e,i),n=Mu(null,n,a,!0,d,i)):(n.tag=0,He&&d&&au(n),Mt(null,n,h,i),n=n.child),n;case 16:a=n.elementType;e:{switch(ql(e,n),e=n.pendingProps,h=a._init,a=h(a._payload),n.type=a,h=n.tag=Ng(a),e=In(a,e),h){case 0:n=Ou(null,n,a,e,i);break e;case 1:n=$f(null,n,a,e,i);break e;case 11:n=Ff(null,n,a,e,i);break e;case 14:n=Uf(null,n,a,In(a.type,e),i);break e}throw Error(r(306,a,""))}return n;case 0:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:In(a,h),Ou(e,n,a,h,i);case 1:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:In(a,h),$f(e,n,a,h,i);case 3:e:{if(qf(n),e===null)throw Error(r(387));a=n.pendingProps,d=n.memoizedState,h=d.element,rf(e,n),Ll(n,a,null,i);var y=n.memoizedState;if(a=y.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){h=us(Error(r(423)),n),n=Hf(e,n,a,i,h);break e}else if(a!==h){h=us(Error(r(424)),n),n=Hf(e,n,a,i,h);break e}else for(Zt=Er(n.stateNode.containerInfo.firstChild),Jt=n,He=!0,Tn=null,i=tf(n,null,a,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(is(),a===h){n=ir(e,n,i);break e}Mt(e,n,a,i)}n=n.child}return n;case 5:return lf(n),e===null&&hu(n),a=n.type,h=n.pendingProps,d=e!==null?e.memoizedProps:null,y=h.children,nu(a,h)?y=null:d!==null&&nu(a,d)&&(n.flags|=32),jf(e,n),Mt(e,n,y,i),n.child;case 6:return e===null&&hu(n),null;case 13:return bf(e,n,i);case 4:return _u(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=ss(n,null,a,i):Mt(e,n,a,i),n.child;case 11:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:In(a,h),Ff(e,n,a,h,i);case 7:return Mt(e,n,n.pendingProps,i),n.child;case 8:return Mt(e,n,n.pendingProps.children,i),n.child;case 12:return Mt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(a=n.type._context,h=n.pendingProps,d=n.memoizedProps,y=h.value,Be(Nl,a._currentValue),a._currentValue=y,d!==null)if(wn(d.value,y)){if(d.children===h.children&&!jt.current){n=ir(e,n,i);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){y=d.child;for(var C=w.firstContext;C!==null;){if(C.context===a){if(d.tag===1){C=rr(-1,i&-i),C.tag=2;var M=d.updateQueue;if(M!==null){M=M.shared;var $=M.pending;$===null?C.next=C:(C.next=$.next,$.next=C),M.pending=C}}d.lanes|=i,C=d.alternate,C!==null&&(C.lanes|=i),gu(d.return,i,n),w.lanes|=i;break}C=C.next}}else if(d.tag===10)y=d.type===n.type?null:d.child;else if(d.tag===18){if(y=d.return,y===null)throw Error(r(341));y.lanes|=i,w=y.alternate,w!==null&&(w.lanes|=i),gu(y,i,n),y=d.sibling}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===n){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}Mt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,a=n.pendingProps.children,ls(n,i),h=an(h),a=a(h),n.flags|=1,Mt(e,n,a,i),n.child;case 14:return a=n.type,h=In(a,n.pendingProps),h=In(a.type,h),Uf(e,n,a,h,i);case 15:return zf(e,n,n.type,n.pendingProps,i);case 17:return a=n.type,h=n.pendingProps,h=n.elementType===a?h:In(a,h),ql(e,n),n.tag=1,$t(a)?(e=!0,Al(n)):e=!1,ls(n,i),Vf(n,a,h),Du(n,a,h,i),Mu(null,n,a,!0,e,i);case 19:return Kf(e,n,i);case 22:return Bf(e,n,i)}throw Error(r(156,n.tag))};function yd(e,n){return Li(e,n)}function Vg(e,n,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,i,a){return new Vg(e,n,i,a)}function nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ng(e){if(typeof e=="function")return nc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===D)return 11;if(e===At)return 14}return 2}function Nr(e,n){var i=e.alternate;return i===null?(i=hn(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ea(e,n,i,a,h,d){var y=2;if(a=e,typeof e=="function")nc(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case k:return di(i.children,h,d,n);case T:y=8,h|=8;break;case S:return e=hn(12,i,n,h|2),e.elementType=S,e.lanes=d,e;case I:return e=hn(13,i,n,h),e.elementType=I,e.lanes=d,e;case Xe:return e=hn(19,i,n,h),e.elementType=Xe,e.lanes=d,e;case Me:return ta(i,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case V:y=9;break e;case D:y=11;break e;case At:y=14;break e;case Ct:y=16,a=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=hn(y,i,n,h),n.elementType=e,n.type=a,n.lanes=d,n}function di(e,n,i,a){return e=hn(7,e,a,n),e.lanes=i,e}function ta(e,n,i,a){return e=hn(22,e,a,n),e.elementType=Me,e.lanes=i,e.stateNode={isHidden:!1},e}function rc(e,n,i){return e=hn(6,e,null,n),e.lanes=i,e}function ic(e,n,i){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Dg(e,n,i,a,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fr(0),this.expirationTimes=fr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fr(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function sc(e,n,i,a,h,d,y,w,C){return e=new Dg(e,n,i,w,C),n===1?(n=1,d===!0&&(n|=8)):n=0,d=hn(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},vu(d),e}function xg(e,n,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:a==null?null:""+a,children:e,containerInfo:n,implementation:i}}function vd(e){if(!e)return Tr;e=e._reactInternals;e:{if(pn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if($t(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var i=e.type;if($t(i))return bh(e,i,n)}return n}function _d(e,n,i,a,h,d,y,w,C){return e=sc(i,a,!0,e,h,d,y,w,C),e.context=vd(null),i=e.current,a=Ft(),h=kr(i),d=rr(a,h),d.callback=n??null,Ar(i,d,h),e.current.lanes=h,dr(e,h,a),bt(e,a),e}function na(e,n,i,a){var h=n.current,d=Ft(),y=kr(h);return i=vd(i),n.context===null?n.context=i:n.pendingContext=i,n=rr(d,y),n.payload={element:e},a=a===void 0?null:a,a!==null&&(n.callback=a),e=Ar(h,n,y),e!==null&&(Cn(e,h,y,d),xl(e,h,y)),y}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ed(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function oc(e,n){Ed(e,n),(e=e.alternate)&&Ed(e,n)}function Lg(){return null}var wd=typeof reportError=="function"?reportError:function(e){console.error(e)};function lc(e){this._internalRoot=e}ia.prototype.render=lc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));na(e,n,null,null)},ia.prototype.unmount=lc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ci(function(){na(null,e,null,null)}),n[Jn]=null}};function ia(e){this._internalRoot=e}ia.prototype.unstable_scheduleHydration=function(e){if(e){var n=il();e={blockedOn:null,target:e,priority:n};for(var i=0;i<Vn.length&&n!==0&&n<Vn[i].priority;i++);Vn.splice(i,0,e),i===0&&ll(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Td(){}function Og(e,n,i,a,h){if(h){if(typeof a=="function"){var d=a;a=function(){var M=ra(y);d.call(M)}}var y=_d(n,a,e,0,null,!1,!1,"",Td);return e._reactRootContainer=y,e[Jn]=y.current,ao(e.nodeType===8?e.parentNode:e),ci(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var w=a;a=function(){var M=ra(C);w.call(M)}}var C=sc(e,0,!1,null,null,!1,!1,"",Td);return e._reactRootContainer=C,e[Jn]=C.current,ao(e.nodeType===8?e.parentNode:e),ci(function(){na(n,C,i,a)}),C}function oa(e,n,i,a,h){var d=i._reactRootContainer;if(d){var y=d;if(typeof h=="function"){var w=h;h=function(){var C=ra(y);w.call(C)}}na(n,y,e,h)}else y=Og(i,n,e,h,a);return ra(y)}nl=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=hr(n.pendingLanes);i!==0&&(pr(n,i|1),bt(n,ze()),!(Re&6)&&(fs=ze()+500,Ir()))}break;case 13:ci(function(){var a=nr(e,1);if(a!==null){var h=Ft();Cn(a,e,1,h)}}),oc(e,1)}},Fi=function(e){if(e.tag===13){var n=nr(e,134217728);if(n!==null){var i=Ft();Cn(n,e,134217728,i)}oc(e,134217728)}},rl=function(e){if(e.tag===13){var n=kr(e),i=nr(e,n);if(i!==null){var a=Ft();Cn(i,e,n,a)}oc(e,n)}},il=function(){return _e},sl=function(e,n){var i=_e;try{return _e=e,n()}finally{_e=i}},Pi=function(e,n,i){switch(n){case"input":if(xs(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var a=i[n];if(a!==e&&a.form===e.form){var h=Il(a);if(!h)throw Error(r(90));Ti(a),xs(a,h)}}}break;case"textarea":Ci(e,i);break;case"select":n=i.value,n!=null&&Hn(e,!!i.multiple,n,!1)}},Hr=Zu,qs=ci;var Mg={usingClientEntryPoint:!1,Events:[ho,Zi,Il,Pn,$s,Zu]},Co={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fg={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ve.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qs(e),e===null?null:e.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var la=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!la.isDisabled&&la.supportsFiber)try{Gr=la.inject(Fg),Wt=la}catch{}}return Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg,Qt.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(n))throw Error(r(200));return xg(e,n,null,i)},Qt.createRoot=function(e,n){if(!ac(e))throw Error(r(299));var i=!1,a="",h=wd;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=sc(e,1,!1,null,null,i,!1,a,h),e[Jn]=n.current,ao(e.nodeType===8?e.parentNode:e),new lc(n)},Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Qs(n),e=e===null?null:e.stateNode,e},Qt.flushSync=function(e){return ci(e)},Qt.hydrate=function(e,n,i){if(!sa(n))throw Error(r(200));return oa(null,e,n,!0,i)},Qt.hydrateRoot=function(e,n,i){if(!ac(e))throw Error(r(405));var a=i!=null&&i.hydratedSources||null,h=!1,d="",y=wd;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=_d(n,null,e,1,i??null,h,!1,d,y),e[Jn]=n.current,ao(e),a)for(e=0;e<a.length;e++)i=a[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new ia(n)},Qt.render=function(e,n,i){if(!sa(n))throw Error(r(200));return oa(null,e,n,!1,i)},Qt.unmountComponentAtNode=function(e){if(!sa(e))throw Error(r(40));return e._reactRootContainer?(ci(function(){oa(null,null,e,!1,function(){e._reactRootContainer=null,e[Jn]=null})}),!0):!1},Qt.unstable_batchedUpdates=Zu,Qt.unstable_renderSubtreeIntoContainer=function(e,n,i,a){if(!sa(i))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return oa(e,n,i,!1,a)},Qt.version="18.3.1-next-f1338f8080-20240426",Qt}var Vd;function Qg(){if(Vd)return hc.exports;Vd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),hc.exports=bg(),hc.exports}var Nd;function Kg(){if(Nd)return aa;Nd=1;var s=Qg();return aa.createRoot=s.createRoot,aa.hydrateRoot=s.hydrateRoot,aa}var Wg=Kg();const Gg=Cp(Wg);var Dd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=function(s){const t=[];let r=0;for(let o=0;o<s.length;o++){let u=s.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<s.length&&(s.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Yg=function(s){const t=[];let r=0,o=0;for(;r<s.length;){const u=s[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=s[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=s[r++],p=s[r++],g=s[r++],v=((u&7)<<18|(c&63)<<12|(p&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const c=s[r++],p=s[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|p&63)}}return t.join("")},Pp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<s.length;u+=3){const c=s[u],p=u+1<s.length,g=p?s[u+1]:0,v=u+2<s.length,E=v?s[u+2]:0,A=c>>2,F=(c&3)<<4|g>>4;let z=(g&15)<<2|E>>6,b=E&63;v||(b=64,p||(z=64)),o.push(r[A],r[F],r[z],r[b])}return o.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Rp(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Yg(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<s.length;){const c=r[s.charAt(u++)],g=u<s.length?r[s.charAt(u)]:0;++u;const E=u<s.length?r[s.charAt(u)]:64;++u;const F=u<s.length?r[s.charAt(u)]:64;if(++u,c==null||g==null||E==null||F==null)throw new Xg;const z=c<<2|g>>4;if(o.push(z),E!==64){const b=g<<4&240|E>>2;if(o.push(b),F!==64){const ee=E<<6&192|F;o.push(ee)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Xg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jg=function(s){const t=Rp(s);return Pp.encodeByteArray(t,!0)},va=function(s){return Jg(s).replace(/\./g,"")},Zg=function(s){try{return Pp.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=()=>ey().__FIREBASE_DEFAULTS__,ny=()=>{if(typeof process>"u"||typeof Dd>"u")return;const s=Dd.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ry=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Zg(s[1]);return t&&JSON.parse(t)},Qc=()=>{try{return ty()||ny()||ry()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iy=s=>{var t,r;return(r=(t=Qc())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},sy=s=>{const t=iy(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},kp=()=>{var s;return(s=Qc())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[va(JSON.stringify(r)),va(JSON.stringify(p)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uy(){var s;const t=(s=Qc())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cy(){return!uy()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hy(){try{return typeof indexedDB=="object"}catch{return!1}}function fy(){return new Promise((s,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),s(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="FirebaseError";class Rs extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=dy,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vp.prototype.create)}}class Vp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],p=c?py(c,o):"Error",g=`${this.serviceName}: ${p} (${u}).`;return new Rs(u,g,o)}}function py(s,t){return s.replace(my,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const my=/\{\$([^}]+)}/g;function Ic(s,t){if(s===t)return!0;const r=Object.keys(s),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=s[u],p=t[u];if(xd(c)&&xd(p)){if(!Ic(c,p))return!1}else if(c!==p)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function xd(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){return s&&s._delegate?s._delegate:s}class Fo{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new oy;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_y(t))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=pi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pi){return this.instances.has(t)}getOptions(t=pi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,p]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);o===g&&p.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const p=this.instances.get(u);return p&&t(p,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:vy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=pi){return this.component?this.component.multipleInstances?t:pi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vy(s){return s===pi?void 0:s}function _y(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new yy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const wy={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Ty=Pe.INFO,Iy={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Sy=(s,t,...r)=>{if(t<s.logLevel)return;const o=new Date().toISOString(),u=Iy[t];if(u)console[u](`[${o}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Np{constructor(t){this.name=t,this._logLevel=Ty,this._logHandler=Sy,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...t),this._logHandler(this,Pe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...t),this._logHandler(this,Pe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...t),this._logHandler(this,Pe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...t),this._logHandler(this,Pe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...t),this._logHandler(this,Pe.ERROR,...t)}}const Ay=(s,t)=>t.some(r=>s instanceof r);let Ld,Od;function Cy(){return Ld||(Ld=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ry(){return Od||(Od=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dp=new WeakMap,Sc=new WeakMap,xp=new WeakMap,pc=new WeakMap,Kc=new WeakMap;function Py(s){const t=new Promise((r,o)=>{const u=()=>{s.removeEventListener("success",c),s.removeEventListener("error",p)},c=()=>{r(Or(s.result)),u()},p=()=>{o(s.error),u()};s.addEventListener("success",c),s.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&Dp.set(r,s)}).catch(()=>{}),Kc.set(t,s),t}function ky(s){if(Sc.has(s))return;const t=new Promise((r,o)=>{const u=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",p),s.removeEventListener("abort",p)},c=()=>{r(),u()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",c),s.addEventListener("error",p),s.addEventListener("abort",p)});Sc.set(s,t)}let Ac={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return Sc.get(s);if(t==="objectStoreNames")return s.objectStoreNames||xp.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Or(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Vy(s){Ac=s(Ac)}function Ny(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=s.call(mc(this),t,...r);return xp.set(o,t.sort?t.sort():[t]),Or(o)}:Ry().includes(s)?function(...t){return s.apply(mc(this),t),Or(Dp.get(this))}:function(...t){return Or(s.apply(mc(this),t))}}function Dy(s){return typeof s=="function"?Ny(s):(s instanceof IDBTransaction&&ky(s),Ay(s,Cy())?new Proxy(s,Ac):s)}function Or(s){if(s instanceof IDBRequest)return Py(s);if(pc.has(s))return pc.get(s);const t=Dy(s);return t!==s&&(pc.set(s,t),Kc.set(t,s)),t}const mc=s=>Kc.get(s);function xy(s,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const p=indexedDB.open(s,t),g=Or(p);return o&&p.addEventListener("upgradeneeded",v=>{o(Or(p.result),v.oldVersion,v.newVersion,Or(p.transaction),v)}),r&&p.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),u&&v.addEventListener("versionchange",E=>u(E.oldVersion,E.newVersion,E))}).catch(()=>{}),g}const Ly=["get","getKey","getAll","getAllKeys","count"],Oy=["put","add","delete","clear"],gc=new Map;function Md(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(gc.get(t))return gc.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=Oy.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Ly.includes(r)))return;const c=async function(p,...g){const v=this.transaction(p,u?"readwrite":"readonly");let E=v.store;return o&&(E=E.index(g.shift())),(await Promise.all([E[r](...g),u&&v.done]))[0]};return gc.set(t,c),c}Vy(s=>({...s,get:(t,r,o)=>Md(t,r)||s.get(t,r,o),has:(t,r)=>!!Md(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Fy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Fy(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Cc="@firebase/app",Fd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Np("@firebase/app"),Uy="@firebase/app-compat",zy="@firebase/analytics-compat",By="@firebase/analytics",jy="@firebase/app-check-compat",$y="@firebase/app-check",qy="@firebase/auth",Hy="@firebase/auth-compat",by="@firebase/database",Qy="@firebase/data-connect",Ky="@firebase/database-compat",Wy="@firebase/functions",Gy="@firebase/functions-compat",Yy="@firebase/installations",Xy="@firebase/installations-compat",Jy="@firebase/messaging",Zy="@firebase/messaging-compat",ev="@firebase/performance",tv="@firebase/performance-compat",nv="@firebase/remote-config",rv="@firebase/remote-config-compat",iv="@firebase/storage",sv="@firebase/storage-compat",ov="@firebase/firestore",lv="@firebase/vertexai-preview",av="@firebase/firestore-compat",uv="firebase",cv="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]",hv={[Cc]:"fire-core",[Uy]:"fire-core-compat",[By]:"fire-analytics",[zy]:"fire-analytics-compat",[$y]:"fire-app-check",[jy]:"fire-app-check-compat",[qy]:"fire-auth",[Hy]:"fire-auth-compat",[by]:"fire-rtdb",[Qy]:"fire-data-connect",[Ky]:"fire-rtdb-compat",[Wy]:"fire-fn",[Gy]:"fire-fn-compat",[Yy]:"fire-iid",[Xy]:"fire-iid-compat",[Jy]:"fire-fcm",[Zy]:"fire-fcm-compat",[ev]:"fire-perf",[tv]:"fire-perf-compat",[nv]:"fire-rc",[rv]:"fire-rc-compat",[iv]:"fire-gcs",[sv]:"fire-gcs-compat",[ov]:"fire-fst",[av]:"fire-fst-compat",[lv]:"fire-vertex","fire-js":"fire-js",[uv]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Map,fv=new Map,Pc=new Map;function Ud(s,t){try{s.container.addComponent(t)}catch(r){or.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Ea(s){const t=s.name;if(Pc.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;Pc.set(t,s);for(const r of _a.values())Ud(r,s);for(const r of fv.values())Ud(r,s);return!0}function dv(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Vp("app","Firebase",pv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Fo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=cv;function Lp(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Rc,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw Mr.create("bad-app-name",{appName:String(u)});if(r||(r=kp()),!r)throw Mr.create("no-options");const c=_a.get(u);if(c){if(Ic(r,c.options)&&Ic(o,c.config))return c;throw Mr.create("duplicate-app",{appName:u})}const p=new Ey(u);for(const v of Pc.values())p.addComponent(v);const g=new mv(r,o,p);return _a.set(u,g),g}function yv(s=Rc){const t=_a.get(s);if(!t&&s===Rc&&kp())return Lp();if(!t)throw Mr.create("no-app",{appName:s});return t}function ys(s,t,r){var o;let u=(o=hv[s])!==null&&o!==void 0?o:s;r&&(u+=`-${r}`);const c=u.match(/\s|\//),p=t.match(/\s|\//);if(c||p){const g=[`Unable to register library "${u}" with version "${t}":`];c&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&p&&g.push("and"),p&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(g.join(" "));return}Ea(new Fo(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="firebase-heartbeat-database",_v=1,Uo="firebase-heartbeat-store";let yc=null;function Op(){return yc||(yc=xy(vv,_v,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Uo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Mr.create("idb-open",{originalErrorMessage:s.message})})),yc}async function Ev(s){try{const r=(await Op()).transaction(Uo),o=await r.objectStore(Uo).get(Mp(s));return await r.done,o}catch(t){if(t instanceof Rs)or.warn(t.message);else{const r=Mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(r.message)}}}async function zd(s,t){try{const o=(await Op()).transaction(Uo,"readwrite");await o.objectStore(Uo).put(t,Mp(s)),await o.done}catch(r){if(r instanceof Rs)or.warn(r.message);else{const o=Mr.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});or.warn(o.message)}}}function Mp(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=1024,Tv=30*24*60*60*1e3;class Iv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Av(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Bd();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(p=>p.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=Tv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){or.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Bd(),{heartbeatsToSend:o,unsentEntries:u}=Sv(this._heartbeatsCache.heartbeats),c=va(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return or.warn(r),""}}}function Bd(){return new Date().toISOString().substring(0,10)}function Sv(s,t=wv){const r=[];let o=s.slice();for(const u of s){const c=r.find(p=>p.agent===u.agent);if(c){if(c.dates.push(u.date),jd(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),jd(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class Av{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hy()?fy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Ev(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return zd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return zd(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function jd(s){return va(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(s){Ea(new Fo("platform-logger",t=>new My(t),"PRIVATE")),Ea(new Fo("heartbeat",t=>new Iv(t),"PRIVATE")),ys(Cc,Fd,s),ys(Cc,Fd,"esm2017"),ys("fire-js","")}Cv("");var $d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,Fp;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,T){function S(){}S.prototype=T.prototype,k.D=T.prototype,k.prototype=new S,k.prototype.constructor=k,k.C=function(P,V,D){for(var I=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)I[Xe-2]=arguments[Xe];return T.prototype[V].apply(P,I)}}function r(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(o,r),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(k,T,S){S||(S=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(V=0;16>V;++V)P[V]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=k.g[0],S=k.g[1],V=k.g[2];var D=k.g[3],I=T+(D^S&(V^D))+P[0]+3614090360&4294967295;T=S+(I<<7&4294967295|I>>>25),I=D+(V^T&(S^V))+P[1]+3905402710&4294967295,D=T+(I<<12&4294967295|I>>>20),I=V+(S^D&(T^S))+P[2]+606105819&4294967295,V=D+(I<<17&4294967295|I>>>15),I=S+(T^V&(D^T))+P[3]+3250441966&4294967295,S=V+(I<<22&4294967295|I>>>10),I=T+(D^S&(V^D))+P[4]+4118548399&4294967295,T=S+(I<<7&4294967295|I>>>25),I=D+(V^T&(S^V))+P[5]+1200080426&4294967295,D=T+(I<<12&4294967295|I>>>20),I=V+(S^D&(T^S))+P[6]+2821735955&4294967295,V=D+(I<<17&4294967295|I>>>15),I=S+(T^V&(D^T))+P[7]+4249261313&4294967295,S=V+(I<<22&4294967295|I>>>10),I=T+(D^S&(V^D))+P[8]+1770035416&4294967295,T=S+(I<<7&4294967295|I>>>25),I=D+(V^T&(S^V))+P[9]+2336552879&4294967295,D=T+(I<<12&4294967295|I>>>20),I=V+(S^D&(T^S))+P[10]+4294925233&4294967295,V=D+(I<<17&4294967295|I>>>15),I=S+(T^V&(D^T))+P[11]+2304563134&4294967295,S=V+(I<<22&4294967295|I>>>10),I=T+(D^S&(V^D))+P[12]+1804603682&4294967295,T=S+(I<<7&4294967295|I>>>25),I=D+(V^T&(S^V))+P[13]+4254626195&4294967295,D=T+(I<<12&4294967295|I>>>20),I=V+(S^D&(T^S))+P[14]+2792965006&4294967295,V=D+(I<<17&4294967295|I>>>15),I=S+(T^V&(D^T))+P[15]+1236535329&4294967295,S=V+(I<<22&4294967295|I>>>10),I=T+(V^D&(S^V))+P[1]+4129170786&4294967295,T=S+(I<<5&4294967295|I>>>27),I=D+(S^V&(T^S))+P[6]+3225465664&4294967295,D=T+(I<<9&4294967295|I>>>23),I=V+(T^S&(D^T))+P[11]+643717713&4294967295,V=D+(I<<14&4294967295|I>>>18),I=S+(D^T&(V^D))+P[0]+3921069994&4294967295,S=V+(I<<20&4294967295|I>>>12),I=T+(V^D&(S^V))+P[5]+3593408605&4294967295,T=S+(I<<5&4294967295|I>>>27),I=D+(S^V&(T^S))+P[10]+38016083&4294967295,D=T+(I<<9&4294967295|I>>>23),I=V+(T^S&(D^T))+P[15]+3634488961&4294967295,V=D+(I<<14&4294967295|I>>>18),I=S+(D^T&(V^D))+P[4]+3889429448&4294967295,S=V+(I<<20&4294967295|I>>>12),I=T+(V^D&(S^V))+P[9]+568446438&4294967295,T=S+(I<<5&4294967295|I>>>27),I=D+(S^V&(T^S))+P[14]+3275163606&4294967295,D=T+(I<<9&4294967295|I>>>23),I=V+(T^S&(D^T))+P[3]+4107603335&4294967295,V=D+(I<<14&4294967295|I>>>18),I=S+(D^T&(V^D))+P[8]+1163531501&4294967295,S=V+(I<<20&4294967295|I>>>12),I=T+(V^D&(S^V))+P[13]+2850285829&4294967295,T=S+(I<<5&4294967295|I>>>27),I=D+(S^V&(T^S))+P[2]+4243563512&4294967295,D=T+(I<<9&4294967295|I>>>23),I=V+(T^S&(D^T))+P[7]+1735328473&4294967295,V=D+(I<<14&4294967295|I>>>18),I=S+(D^T&(V^D))+P[12]+2368359562&4294967295,S=V+(I<<20&4294967295|I>>>12),I=T+(S^V^D)+P[5]+4294588738&4294967295,T=S+(I<<4&4294967295|I>>>28),I=D+(T^S^V)+P[8]+2272392833&4294967295,D=T+(I<<11&4294967295|I>>>21),I=V+(D^T^S)+P[11]+1839030562&4294967295,V=D+(I<<16&4294967295|I>>>16),I=S+(V^D^T)+P[14]+4259657740&4294967295,S=V+(I<<23&4294967295|I>>>9),I=T+(S^V^D)+P[1]+2763975236&4294967295,T=S+(I<<4&4294967295|I>>>28),I=D+(T^S^V)+P[4]+1272893353&4294967295,D=T+(I<<11&4294967295|I>>>21),I=V+(D^T^S)+P[7]+4139469664&4294967295,V=D+(I<<16&4294967295|I>>>16),I=S+(V^D^T)+P[10]+3200236656&4294967295,S=V+(I<<23&4294967295|I>>>9),I=T+(S^V^D)+P[13]+681279174&4294967295,T=S+(I<<4&4294967295|I>>>28),I=D+(T^S^V)+P[0]+3936430074&4294967295,D=T+(I<<11&4294967295|I>>>21),I=V+(D^T^S)+P[3]+3572445317&4294967295,V=D+(I<<16&4294967295|I>>>16),I=S+(V^D^T)+P[6]+76029189&4294967295,S=V+(I<<23&4294967295|I>>>9),I=T+(S^V^D)+P[9]+3654602809&4294967295,T=S+(I<<4&4294967295|I>>>28),I=D+(T^S^V)+P[12]+3873151461&4294967295,D=T+(I<<11&4294967295|I>>>21),I=V+(D^T^S)+P[15]+530742520&4294967295,V=D+(I<<16&4294967295|I>>>16),I=S+(V^D^T)+P[2]+3299628645&4294967295,S=V+(I<<23&4294967295|I>>>9),I=T+(V^(S|~D))+P[0]+4096336452&4294967295,T=S+(I<<6&4294967295|I>>>26),I=D+(S^(T|~V))+P[7]+1126891415&4294967295,D=T+(I<<10&4294967295|I>>>22),I=V+(T^(D|~S))+P[14]+2878612391&4294967295,V=D+(I<<15&4294967295|I>>>17),I=S+(D^(V|~T))+P[5]+4237533241&4294967295,S=V+(I<<21&4294967295|I>>>11),I=T+(V^(S|~D))+P[12]+1700485571&4294967295,T=S+(I<<6&4294967295|I>>>26),I=D+(S^(T|~V))+P[3]+2399980690&4294967295,D=T+(I<<10&4294967295|I>>>22),I=V+(T^(D|~S))+P[10]+4293915773&4294967295,V=D+(I<<15&4294967295|I>>>17),I=S+(D^(V|~T))+P[1]+2240044497&4294967295,S=V+(I<<21&4294967295|I>>>11),I=T+(V^(S|~D))+P[8]+1873313359&4294967295,T=S+(I<<6&4294967295|I>>>26),I=D+(S^(T|~V))+P[15]+4264355552&4294967295,D=T+(I<<10&4294967295|I>>>22),I=V+(T^(D|~S))+P[6]+2734768916&4294967295,V=D+(I<<15&4294967295|I>>>17),I=S+(D^(V|~T))+P[13]+1309151649&4294967295,S=V+(I<<21&4294967295|I>>>11),I=T+(V^(S|~D))+P[4]+4149444226&4294967295,T=S+(I<<6&4294967295|I>>>26),I=D+(S^(T|~V))+P[11]+3174756917&4294967295,D=T+(I<<10&4294967295|I>>>22),I=V+(T^(D|~S))+P[2]+718787259&4294967295,V=D+(I<<15&4294967295|I>>>17),I=S+(D^(V|~T))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(V+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+D&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var S=T-this.blockSize,P=this.B,V=this.h,D=0;D<T;){if(V==0)for(;D<=S;)u(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<T;)if(P[V++]=k.charCodeAt(D++),V==this.blockSize){u(this,P),V=0;break}}else for(;D<T;)if(P[V++]=k[D++],V==this.blockSize){u(this,P),V=0;break}}this.h=V,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var S=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=S&255,S/=256;for(this.u(k),k=Array(16),T=S=0;4>T;++T)for(var P=0;32>P;P+=8)k[S++]=this.g[T]>>>P&255;return k};function c(k,T){var S=g;return Object.prototype.hasOwnProperty.call(S,k)?S[k]:S[k]=T(k)}function p(k,T){this.h=T;for(var S=[],P=!0,V=k.length-1;0<=V;V--){var D=k[V]|0;P&&D==T||(S[V]=D,P=!1)}this.g=S}var g={};function v(k){return-128<=k&&128>k?c(k,function(T){return new p([T|0],0>T?-1:0)}):new p([k|0],0>k?-1:0)}function E(k){if(isNaN(k)||!isFinite(k))return F;if(0>k)return K(E(-k));for(var T=[],S=1,P=0;k>=S;P++)T[P]=k/S|0,S*=4294967296;return new p(T,0)}function A(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return K(A(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=E(Math.pow(T,8)),P=F,V=0;V<k.length;V+=8){var D=Math.min(8,k.length-V),I=parseInt(k.substring(V,V+D),T);8>D?(D=E(Math.pow(T,D)),P=P.j(D).add(E(I))):(P=P.j(S),P=P.add(E(I)))}return P}var F=v(0),z=v(1),b=v(16777216);s=p.prototype,s.m=function(){if(Z(this))return-K(this).m();for(var k=0,T=1,S=0;S<this.g.length;S++){var P=this.i(S);k+=(0<=P?P:4294967296+P)*T,T*=4294967296}return k},s.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(ee(this))return"0";if(Z(this))return"-"+K(this).toString(k);for(var T=E(Math.pow(k,6)),S=this,P="";;){var V=ve(S,T).g;S=Ne(S,V.j(T));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(k);if(S=V,ee(S))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},s.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function ee(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function Z(k){return k.h==-1}s.l=function(k){return k=Ne(this,k),Z(k)?-1:ee(k)?0:1};function K(k){for(var T=k.g.length,S=[],P=0;P<T;P++)S[P]=~k.g[P];return new p(S,~k.h).add(z)}s.abs=function(){return Z(this)?K(this):this},s.add=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],P=0,V=0;V<=T;V++){var D=P+(this.i(V)&65535)+(k.i(V)&65535),I=(D>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);P=I>>>16,D&=65535,I&=65535,S[V]=I<<16|D}return new p(S,S[S.length-1]&-2147483648?-1:0)};function Ne(k,T){return k.add(K(T))}s.j=function(k){if(ee(this)||ee(k))return F;if(Z(this))return Z(k)?K(this).j(K(k)):K(K(this).j(k));if(Z(k))return K(this.j(K(k)));if(0>this.l(b)&&0>k.l(b))return E(this.m()*k.m());for(var T=this.g.length+k.g.length,S=[],P=0;P<2*T;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<k.g.length;V++){var D=this.i(P)>>>16,I=this.i(P)&65535,Xe=k.i(V)>>>16,At=k.i(V)&65535;S[2*P+2*V]+=I*At,Ae(S,2*P+2*V),S[2*P+2*V+1]+=D*At,Ae(S,2*P+2*V+1),S[2*P+2*V+1]+=I*Xe,Ae(S,2*P+2*V+1),S[2*P+2*V+2]+=D*Xe,Ae(S,2*P+2*V+2)}for(P=0;P<T;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=T;P<2*T;P++)S[P]=0;return new p(S,0)};function Ae(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function Ee(k,T){this.g=k,this.h=T}function ve(k,T){if(ee(T))throw Error("division by zero");if(ee(k))return new Ee(F,F);if(Z(k))return T=ve(K(k),T),new Ee(K(T.g),K(T.h));if(Z(T))return T=ve(k,K(T)),new Ee(K(T.g),T.h);if(30<k.g.length){if(Z(k)||Z(T))throw Error("slowDivide_ only works with positive integers.");for(var S=z,P=T;0>=P.l(k);)S=Ye(S),P=Ye(P);var V=Ce(S,1),D=Ce(P,1);for(P=Ce(P,2),S=Ce(S,2);!ee(P);){var I=D.add(P);0>=I.l(k)&&(V=V.add(S),D=I),P=Ce(P,1),S=Ce(S,1)}return T=Ne(k,V.j(T)),new Ee(V,T)}for(V=F;0<=k.l(T);){for(S=Math.max(1,Math.floor(k.m()/T.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=E(S),I=D.j(T);Z(I)||0<I.l(k);)S-=P,D=E(S),I=D.j(T);ee(D)&&(D=z),V=V.add(D),k=Ne(k,I)}return new Ee(V,k)}s.A=function(k){return ve(this,k).h},s.and=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],P=0;P<T;P++)S[P]=this.i(P)&k.i(P);return new p(S,this.h&k.h)},s.or=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],P=0;P<T;P++)S[P]=this.i(P)|k.i(P);return new p(S,this.h|k.h)},s.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),S=[],P=0;P<T;P++)S[P]=this.i(P)^k.i(P);return new p(S,this.h^k.h)};function Ye(k){for(var T=k.g.length+1,S=[],P=0;P<T;P++)S[P]=k.i(P)<<1|k.i(P-1)>>>31;return new p(S,k.h)}function Ce(k,T){var S=T>>5;T%=32;for(var P=k.g.length-S,V=[],D=0;D<P;D++)V[D]=0<T?k.i(D+S)>>>T|k.i(D+S+1)<<32-T:k.i(D+S);return new p(V,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Fp=o,p.prototype.add=p.prototype.add,p.prototype.multiply=p.prototype.j,p.prototype.modulo=p.prototype.A,p.prototype.compare=p.prototype.l,p.prototype.toNumber=p.prototype.m,p.prototype.toString=p.prototype.toString,p.prototype.getBits=p.prototype.i,p.fromNumber=E,p.fromString=A,gi=p}).apply(typeof $d<"u"?$d:typeof self<"u"?self:typeof window<"u"?window:{});var ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Up,Vo,zp,pa,kc,Bp,jp,$p;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ua=="object"&&ua];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var o=r(this);function u(l,f){if(f)e:{var m=o;l=l.split(".");for(var _=0;_<l.length-1;_++){var x=l[_];if(!(x in m))break e;m=m[x]}l=l[l.length-1],_=m[l],f=f(_),f!=_&&f!=null&&t(m,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var m=0,_=!1,x={next:function(){if(!_&&m<l.length){var U=m++;return{value:f(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(l){return l||function(){return c(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var p=p||{},g=this||self;function v(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function E(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function A(l,f,m){return l.call.apply(l.bind,arguments)}function F(l,f,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,_),l.apply(f,x)}}return function(){return l.apply(f,arguments)}}function z(l,f,m){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:F,z.apply(null,arguments)}function b(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function ee(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,x,U){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return f.prototype[x].apply(_,W)}}function Z(l){const f=l.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=l[_];return m}return[]}function K(l,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(v(_)){const x=l.length||0,U=_.length||0;l.length=x+U;for(let W=0;W<U;W++)l[x+W]=_[W]}else l.push(_)}}class Ne{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Ae(l){return/^[\s\xa0]*$/.test(l)}function Ee(){var l=g.navigator;return l&&(l=l.userAgent)?l:""}function ve(l){return ve[" "](l),l}ve[" "]=function(){};var Ye=Ee().indexOf("Gecko")!=-1&&!(Ee().toLowerCase().indexOf("webkit")!=-1&&Ee().indexOf("Edge")==-1)&&!(Ee().indexOf("Trident")!=-1||Ee().indexOf("MSIE")!=-1)&&Ee().indexOf("Edge")==-1;function Ce(l,f,m){for(const _ in l)f.call(m,l[_],_,l)}function k(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function T(l){const f={};for(const m in l)f[m]=l[m];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let m,_;for(let x=1;x<arguments.length;x++){_=arguments[x];for(m in _)l[m]=_[m];for(let U=0;U<S.length;U++)m=S[U],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function V(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function D(l){g.setTimeout(()=>{throw l},0)}function I(){var l=le;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Xe{constructor(){this.h=this.g=null}add(f,m){const _=At.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var At=new Ne(()=>new Ct,l=>l.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,G=!1,le=new Xe,J=()=>{const l=g.Promise.resolve(void 0);Me=()=>{l.then(N)}};var N=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){D(m)}var f=At;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}G=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};g.addEventListener("test",m,f),g.removeEventListener("test",m,f)}catch{}return l}();function ge(l,f){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Ye){e:{try{ve(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:we[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ge.aa.h.call(this)}}ee(ge,oe);var we={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Ue(l,f,m,_,x){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=x,this.key=++xe,this.da=this.fa=!1}function ht(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $n(l){this.src=l,this.g={},this.h=0}$n.prototype.add=function(l,f,m,_,x){var U=l.toString();l=this.g[U],l||(l=this.g[U]=[],this.h++);var W=ar(l,f,_,x);return-1<W?(f=l[W],m||(f.fa=!1)):(f=new Ue(f,this.src,U,!!_,x),f.fa=m,l.push(f)),f};function Ti(l,f){var m=f.type;if(m in l.g){var _=l.g[m],x=Array.prototype.indexOf.call(_,f,void 0),U;(U=0<=x)&&Array.prototype.splice.call(_,x,1),U&&(ht(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function ar(l,f,m,_){for(var x=0;x<l.length;++x){var U=l[x];if(!U.da&&U.listener==f&&U.capture==!!m&&U.ha==_)return x}return-1}var Br="closure_lm_"+(1e6*Math.random()|0),Ii={};function Ds(l,f,m,_,x){if(Array.isArray(f)){for(var U=0;U<f.length;U++)Ds(l,f[U],m,_,x);return null}return m=Os(m),l&&l[De]?l.K(f,m,E(_)?!!_.capture:!1,x):xs(l,f,m,!1,_,x)}function xs(l,f,m,_,x,U){if(!f)throw Error("Invalid event type");var W=E(x)?!!x.capture:!!x,Oe=Ai(l);if(Oe||(l[Br]=Oe=new $n(l)),m=Oe.add(f,m,_,W,U),m.proxy)return m;if(_=Ko(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)me||(x=W),x===void 0&&(x=!1),l.addEventListener(f.toString(),_,x);else if(l.attachEvent)l.attachEvent(Hn(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ko(){function l(m){return f.call(l.src,l.listener,m)}const f=Ls;return l}function Si(l,f,m,_,x){if(Array.isArray(f))for(var U=0;U<f.length;U++)Si(l,f[U],m,_,x);else _=E(_)?!!_.capture:!!_,m=Os(m),l&&l[De]?(l=l.i,f=String(f).toString(),f in l.g&&(U=l.g[f],m=ar(U,m,_,x),-1<m&&(ht(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ai(l))&&(f=l.g[f.toString()],l=-1,f&&(l=ar(f,m,_,x)),(m=-1<l?f[l]:null)&&qn(m))}function qn(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[De])Ti(f.i,l);else{var m=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(m,_,l.capture):f.detachEvent?f.detachEvent(Hn(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=Ai(f))?(Ti(m,l),m.h==0&&(m.src=null,f[Br]=null)):ht(l)}}}function Hn(l){return l in Ii?Ii[l]:Ii[l]="on"+l}function Ls(l,f){if(l.da)l=!0;else{f=new ge(f,this);var m=l.listener,_=l.ha||l.src;l.fa&&qn(l),l=m.call(_,f)}return l}function Ai(l){return l=l[Br],l instanceof $n?l:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Os(l){return typeof l=="function"?l:(l[Ci]||(l[Ci]=function(f){return l.handleEvent(f)}),l[Ci])}function st(){B.call(this),this.i=new $n(this),this.M=this,this.F=null}ee(st,B),st.prototype[De]=!0,st.prototype.removeEventListener=function(l,f,m,_){Si(this,l,f,m,_)};function ot(l,f){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new oe(f,l);else if(f instanceof oe)f.target=f.target||l;else{var x=f;f=new oe(_,l),P(f,x)}if(x=!0,m)for(var U=m.length-1;0<=U;U--){var W=f.g=m[U];x=bn(W,_,!0,f)&&x}if(W=f.g=l,x=bn(W,_,!0,f)&&x,x=bn(W,_,!1,f)&&x,m)for(U=0;U<m.length;U++)W=f.g=m[U],x=bn(W,_,!1,f)&&x}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],_=0;_<m.length;_++)ht(m[_]);delete l.g[f],l.h--}}this.F=null},st.prototype.K=function(l,f,m,_){return this.i.add(String(l),f,!1,m,_)},st.prototype.L=function(l,f,m,_){return this.i.add(String(l),f,!0,m,_)};function bn(l,f,m,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,U=0;U<f.length;++U){var W=f[U];if(W&&!W.da&&W.capture==m){var Oe=W.listener,lt=W.ha||W.src;W.fa&&Ti(l.i,W),x=Oe.call(lt,_)!==!1&&x}}return x&&!_.defaultPrevented}function Ms(l,f,m){if(typeof l=="function")m&&(l=z(l,m));else if(l&&typeof l.handleEvent=="function")l=z(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:g.setTimeout(l,f||0)}function ur(l){l.g=Ms(()=>{l.g=null,l.i&&(l.i=!1,ur(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class jr extends B{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ur(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $r(l){B.call(this),this.h=l,this.g={}}ee($r,B);var Fs=[];function Us(l){Ce(l.g,function(f,m){this.g.hasOwnProperty(m)&&qn(f)},l),l.g={}}$r.prototype.N=function(){$r.aa.N.call(this),Us(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=g.JSON.stringify,Bs=g.JSON.parse,js=class{stringify(l){return g.JSON.stringify(l,void 0)}parse(l){return g.JSON.parse(l,void 0)}};function qr(){}qr.prototype.h=null;function Ri(l){return l.h||(l.h=l.i())}function Pi(){}var tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rn(){oe.call(this,"d")}ee(Rn,oe);function ki(){oe.call(this,"c")}ee(ki,oe);var Pn={},$s=null;function Hr(){return $s=$s||new st}Pn.La="serverreachability";function qs(l){oe.call(this,Pn.La,l)}ee(qs,oe);function Qn(l){const f=Hr();ot(f,new qs(f))}Pn.STAT_EVENT="statevent";function Hs(l,f){oe.call(this,Pn.STAT_EVENT,l),this.stat=f}ee(Hs,oe);function Je(l){const f=Hr();ot(f,new Hs(f,l))}Pn.Ma="timingevent";function Vi(l,f){oe.call(this,Pn.Ma,l),this.size=f}ee(Vi,oe);function fn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){l()},f)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Qr(l,f,m,_,x,U){l.info(function(){if(l.g)if(U)for(var W="",Oe=U.split("&"),lt=0;lt<Oe.length;lt++){var Te=Oe[lt].split("=");if(1<Te.length){var ft=Te[0];Te=Te[1];var nt=ft.split("_");W=2<=nt.length&&nt[1]=="type"?W+(ft+"="+Te+"&"):W+(ft+"=redacted&")}}else W=null;else W=U;return"XMLHTTP REQ ("+_+") [attempt "+x+"]: "+f+`
`+m+`
`+W})}function Ni(l,f,m,_,x,U,W){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+x+"]: "+f+`
`+m+`
`+U+" "+W})}function dn(l,f,m,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Fa(l,m)+(_?" "+_:"")})}function bs(l,f){l.info(function(){return"TIMEOUT: "+f})}br.prototype.info=function(){};function Fa(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var x=_[1];if(Array.isArray(x)&&!(1>x.length)){var U=x[0];if(U!="noop"&&U!="stop"&&U!="close")for(var W=1;W<x.length;W++)x[W]=""}}}}return zs(m)}catch{return f}}var Di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pn;function Kr(){}ee(Kr,qr),Kr.prototype.g=function(){return new XMLHttpRequest},Kr.prototype.i=function(){return{}},pn=new Kr;function mn(l,f,m,_){this.j=l,this.i=f,this.l=m,this.R=_||1,this.U=new $r(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Qs={},xi={};function Li(l,f,m){l.L=1,l.v=pr(Gt(f)),l.m=m,l.P=!0,Ks(l,null)}function Ks(l,f){l.F=Date.now(),ze(l),l.A=Gt(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),gr(m.i,"t",_),l.C=0,m=l.j.J,l.h=new Go,l.g=dl(l.j,m?f:null,!l.m),0<l.O&&(l.M=new jr(z(l.Y,l,l.g),l.O)),f=l.U,m=l.g,_=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(Fs[0]=x.toString()),x=Fs);for(var U=0;U<x.length;U++){var W=Ds(m,x[U],_||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Qn(),Qr(l.i,l.u,l.A,l.l,l.R,l.m)}mn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Bt(l)==3?f.j():this.Y(l)},mn.prototype.Y=function(l){try{if(l==this.g)e:{const nt=Bt(this.g);var f=this.g.Ba();const sn=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Zs(this.g)))){this.J||nt!=4||f==7||(f==8||0>=sn?Qn(3):Qn(2)),Wr(this);var m=this.g.Z();this.X=m;t:if(Yo(this)){var _=Zs(this.g);l="";var x=_.length,U=Bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),cr(this);var W="";break t}this.h.i=new g.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(U&&f==x-1)});_.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Ni(this.i,this.u,this.A,this.l,this.R,nt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,lt=this.g;if((Oe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ae(Oe)){var Te=Oe;break t}}Te=null}if(m=Te)dn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ws(this,m);else{this.o=!1,this.s=3,Je(12),nn(this),cr(this);break e}}if(this.P){m=!0;let Xt;for(;!this.J&&this.C<W.length;)if(Xt=Ua(this,W),Xt==xi){nt==4&&(this.s=4,Je(14),m=!1),dn(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Qs){this.s=4,Je(15),dn(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else dn(this.i,this.l,Xt,null),Ws(this,Xt);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||W.length!=0||this.h.h||(this.s=1,Je(16),m=!1),this.o=this.o&&m,!m)dn(this.i,this.l,W,"[Invalid Chunked Response]"),nn(this),cr(this);else if(0<W.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),to(ft),ft.M=!0,Je(11))}}else dn(this.i,this.l,W,null),Ws(this,W);nt==4&&nn(this),this.o&&!this.J&&(nt==4?bi(this.j,this):(this.o=!1,ze(this)))}else Bi(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),nn(this),cr(this)}}}catch{}finally{}};function Yo(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Ua(l,f){var m=l.C,_=f.indexOf(`
`,m);return _==-1?xi:(m=Number(f.substring(m,_)),isNaN(m)?Qs:(_+=1,_+m>f.length?xi:(f=f.slice(_,_+m),l.C=_+m,f)))}mn.prototype.cancel=function(){this.J=!0,nn(this)};function ze(l){l.S=Date.now()+l.I,Xo(l,l.I)}function Xo(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=fn(z(l.ba,l),f)}function Wr(l){l.B&&(g.clearTimeout(l.B),l.B=null)}mn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(bs(this.i,this.A),this.L!=2&&(Qn(),Je(17)),nn(this),this.s=2,cr(this)):Xo(this,this.S-l)};function cr(l){l.j.G==0||l.J||bi(l.j,l)}function nn(l){Wr(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Us(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Ws(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Lt(m.h,l))){if(!l.K&&Lt(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var x=_;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Hi(m),En(m);else break e;qi(m),Je(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=fn(z(m.Za,m),6e3));if(1>=Zo(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Xn(m,11)}else if((l.K||m.g==l)&&Hi(m),!Ae(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let Te=x[f];if(m.T=Te[0],Te=Te[1],m.G==2)if(Te[0]=="c"){m.K=Te[1],m.ia=Te[2];const ft=Te[3];ft!=null&&(m.la=ft,m.j.info("VER="+m.la));const nt=Te[4];nt!=null&&(m.Aa=nt,m.j.info("SVER="+m.Aa));const sn=Te[5];sn!=null&&typeof sn=="number"&&0<sn&&(_=1.5*sn,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const Xt=l.g;if(Xt){const ti=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var U=_.h;U.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Gs(U,U.h),U.h=null))}if(_.D){const Ki=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ki&&(_.ya=Ki,Fe(_.I,_.D,Ki))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var W=l;if(_.qa=fl(_,_.J?_.ia:null,_.W),W.K){el(_.h,W);var Oe=W,lt=_.L;lt&&(Oe.I=lt),Oe.B&&(Wr(Oe),ze(Oe)),_.g=W}else ei(_);0<m.i.length&&Dn(m)}else Te[0]!="stop"&&Te[0]!="close"||Xn(m,7);else m.G==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Xn(m,7):vt(m):Te[0]!="noop"&&m.l&&m.l.ta(Te),m.v=0)}}Qn(4)}catch{}}var Jo=class{constructor(l,f){this.g=l,this.map=f}};function Gr(l){this.l=l||10,g.PerformanceNavigationTiming?(l=g.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Zo(l){return l.h?1:l.g?l.g.size:0}function Lt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Gs(l,f){l.g?l.g.add(f):l.h=f}function el(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Gr.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function tl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return Z(l.i)}function Oi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var f=[],m=l.length,_=0;_<m;_++)f.push(l[_]);return f}f=[],m=0;for(_ in l)f[m++]=l[_];return f}function Mi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const _ in l)f[m++]=_;return f}}}function hr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Mi(l),_=Oi(l),x=_.length,U=0;U<x;U++)f.call(void 0,_[U],m&&m[U],l)}var Yr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),x=null;if(0<=_){var U=l[m].substring(0,_);x=l[m].substring(_+1)}else U=l[m];f(U,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Kn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Kn){this.h=l.h,Xr(this,l.j),this.o=l.o,this.g=l.g,fr(this,l.s),this.l=l.l;var f=l.i,m=new kn;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),dr(this,m),this.m=l.m}else l&&(f=String(l).match(Yr))?(this.h=!1,Xr(this,f[1]||"",!0),this.o=_e(f[2]||""),this.g=_e(f[3]||"",!0),fr(this,f[4]),this.l=_e(f[5]||"",!0),dr(this,f[6]||"",!0),this.m=_e(f[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}Kn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(mr(f,Fi,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(mr(f,Fi,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(mr(m,m.charAt(0)=="/"?il:rl,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",mr(m,Ys)),l.join("")};function Gt(l){return new Kn(l)}function Xr(l,f,m){l.j=m?_e(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function fr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function dr(l,f,m){f instanceof kn?(l.i=f,Vn(l.i,l.h)):(m||(f=mr(f,sl)),l.i=new kn(f,l.h))}function Fe(l,f,m){l.i.set(f,m)}function pr(l){return Fe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function _e(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function mr(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,nl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function nl(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Fi=/[#\/\?@]/g,rl=/[#\?:]/g,il=/[#\?]/g,sl=/[#\?@]/g,Ys=/#/g;function kn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function yt(l){l.g||(l.g=new Map,l.h=0,l.i&&za(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}s=kn.prototype,s.add=function(l,f){yt(this),this.i=null,l=rn(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function gn(l,f){yt(l),f=rn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function yn(l,f){return yt(l),f=rn(l,f),l.g.has(f)}s.forEach=function(l,f){yt(this),this.g.forEach(function(m,_){m.forEach(function(x){l.call(f,x,_,this)},this)},this)},s.na=function(){yt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const x=l[_];for(let U=0;U<x.length;U++)m.push(f[_])}return m},s.V=function(l){yt(this);let f=[];if(typeof l=="string")yn(this,l)&&(f=f.concat(this.g.get(rn(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},s.set=function(l,f){return yt(this),this.i=null,l=rn(this,l),yn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},s.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function gr(l,f,m){gn(l,f),0<m.length&&(l.i=null,l.g.set(rn(l,f),Z(m)),l.h+=m.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const U=encodeURIComponent(String(_)),W=this.V(_);for(_=0;_<W.length;_++){var x=U;W[_]!==""&&(x+="="+encodeURIComponent(String(W[_]))),l.push(x)}}return this.i=l.join("&")};function rn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Vn(l,f){f&&!l.j&&(yt(l),l.i=null,l.g.forEach(function(m,_){var x=_.toLowerCase();_!=x&&(gn(this,_),gr(this,x,m))},l)),l.j=f}function Ba(l,f){const m=new br;if(g.Image){const _=new Image;_.onload=b(zt,m,"TestLoadImage: loaded",!0,f,_),_.onerror=b(zt,m,"TestLoadImage: error",!1,f,_),_.onabort=b(zt,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=b(zt,m,"TestLoadImage: timeout",!1,f,_),g.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function ol(l,f){const m=new br,_=new AbortController,x=setTimeout(()=>{_.abort(),zt(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(x),U.ok?zt(m,"TestPingServer: ok",!0,f):zt(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),zt(m,"TestPingServer: error",!1,f)})}function zt(l,f,m,_,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),_(m)}catch{}}function ja(){this.g=new js}function ll(l,f,m){const _=m||"";try{hr(l,function(x,U){let W=x;E(x)&&(W=zs(x)),f.push(_+U+"="+encodeURIComponent(W))})}catch(x){throw f.push(_+"type="+encodeURIComponent("_badmap")),x}}function Wn(l){this.l=l.Ub||null,this.j=l.eb||!1}ee(Wn,qr),Wn.prototype.g=function(){return new Jr(this.l,this.j)},Wn.prototype.i=function(l){return function(){return l}}({});function Jr(l,f){st.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}ee(Jr,st),s=Jr.prototype,s.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,_n(this)},s.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||g).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vn(this)),this.readyState=0},s.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}s.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?vn(this):_n(this),this.readyState==3&&al(this)}},s.Ra=function(l){this.g&&(this.response=this.responseText=l,vn(this))},s.Qa=function(l){this.g&&(this.response=l,vn(this))},s.ga=function(){this.g&&vn(this)};function vn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,_n(l)}s.setRequestHeader=function(l,f){this.u.append(l,f)},s.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function _n(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Gn(l){let f="";return Ce(l,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function yr(l,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Gn(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Fe(l,f,m))}function qe(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}ee(qe,st);var $a=/^https?$/i,Xs=["POST","PUT"];s=qe.prototype,s.Ha=function(l){this.J=l},s.ea=function(l,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pn.g(),this.v=this.o?Ri(this.o):Ri(pn),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){Zr(this,U);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var x in _)m.set(x,_[x]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())m.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),x=g.FormData&&l instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xs,f,void 0))||_||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,W]of m)this.g.setRequestHeader(U,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zi(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){Zr(this,U)}};function Zr(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Ui(l),Yt(l)}function Ui(l){l.A||(l.A=!0,ot(l,"complete"),ot(l,"error"))}s.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ot(this,"complete"),ot(this,"abort"),Yt(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),qe.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Js(this):this.bb())},s.bb=function(){Js(this)};function Js(l){if(l.h&&typeof p<"u"&&(!l.v[1]||Bt(l)!=4||l.Z()!=2)){if(l.u&&Bt(l)==4)Ms(l.Ea,0,l);else if(ot(l,"readystatechange"),Bt(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=W===0){var x=String(l.D).match(Yr)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),_=!$a.test(x?x.toLowerCase():"")}m=_}if(m)ot(l,"complete"),ot(l,"success");else{l.m=6;try{var U=2<Bt(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",Ui(l)}}finally{Yt(l)}}}}function Yt(l,f){if(l.g){zi(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ot(l,"ready");try{m.onreadystatechange=_}catch{}}}function zi(l){l.I&&(g.clearTimeout(l.I),l.I=null)}s.isActive=function(){return!!this.g};function Bt(l){return l.g?l.g.readyState:0}s.Z=function(){try{return 2<Bt(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Bs(f)}};function Zs(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(l){const f={};l=(l.g&&2<=Bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(Ae(l[_]))continue;var m=V(l[_]);const x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=f[x]||[];f[x]=U,U.push(m)}k(f,function(_){return _.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nn(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function eo(l){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nn("baseRetryDelayMs",5e3,l),this.cb=Nn("retryDelaySeedMs",1e4,l),this.Wa=Nn("forwardChannelMaxRetries",2,l),this.wa=Nn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(l&&l.concurrentRequestLimit),this.Da=new ja,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=eo.prototype,s.la=8,s.G=1,s.connect=function(l,f,m,_){Je(0),this.W=l,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=fl(this,null,this.W),Dn(this)};function vt(l){if(ji(l),l.G==3){var f=l.U++,m=Gt(l.I);if(Fe(m,"SID",l.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Yn(l,m),f=new mn(l,l.j,f),f.L=2,f.v=pr(Gt(m)),m=!1,g.navigator&&g.navigator.sendBeacon)try{m=g.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&g.Image&&(new Image().src=f.v,m=!0),m||(f.g=dl(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ze(f)}hl(l)}function En(l){l.g&&(to(l),l.g.cancel(),l.g=null)}function ji(l){En(l),l.u&&(g.clearTimeout(l.u),l.u=null),Hi(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&g.clearTimeout(l.s),l.s=null)}function Dn(l){if(!Wt(l.h)&&!l.s){l.s=!0;var f=l.Ga;Me||J(),G||(Me(),G=!0),le.add(f,l),l.B=0}}function qa(l,f){return Zo(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=fn(z(l.Ga,l,f),cl(l,l.B)),l.B++,!0)}s.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const x=new mn(this,this.j,l);let U=this.o;if(this.S&&(U?(U=T(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(x.H=U,U=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=vr(this,x,f),m=Gt(this.I),Fe(m,"RID",l),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Yn(this,m),U&&(this.O?f="headers="+encodeURIComponent(String(Gn(U)))+"&"+f:this.m&&yr(m,this.m,U)),Gs(this.h,x),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),x.T=!0,Li(x,m,null)):Li(x,m,f),this.G=2}}else this.G==3&&(l?$i(this,l):this.i.length==0||Wt(this.h)||$i(this))};function $i(l,f){var m;f?m=f.l:m=l.U++;const _=Gt(l.I);Fe(_,"SID",l.K),Fe(_,"RID",m),Fe(_,"AID",l.T),Yn(l,_),l.m&&l.o&&yr(_,l.m,l.o),m=new mn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=vr(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Gs(l.h,m),Li(m,_,f)}function Yn(l,f){l.H&&Ce(l.H,function(m,_){Fe(f,_,m)}),l.l&&hr({},function(m,_){Fe(f,_,m)})}function vr(l,f,m){m=Math.min(l.i.length,m);var _=l.l?z(l.l.Na,l.l,l):null;e:{var x=l.i;let U=-1;for(;;){const W=["count="+m];U==-1?0<m?(U=x[0].g,W.push("ofs="+U)):U=0:W.push("ofs="+U);let Oe=!0;for(let lt=0;lt<m;lt++){let Te=x[lt].g;const ft=x[lt].map;if(Te-=U,0>Te)U=Math.max(0,x[lt].g-100),Oe=!1;else try{ll(ft,W,"req"+Te+"_")}catch{_&&_(ft)}}if(Oe){_=W.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,_}function ei(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;Me||J(),G||(Me(),G=!0),le.add(f,l),l.v=0}}function qi(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=fn(z(l.Fa,l),cl(l,l.v)),l.v++,!0)}s.Fa=function(){if(this.u=null,ul(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=fn(z(this.ab,this),l)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),En(this),ul(this))};function to(l){l.A!=null&&(g.clearTimeout(l.A),l.A=null)}function ul(l){l.g=new mn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Gt(l.qa);Fe(f,"RID","rpc"),Fe(f,"SID",l.K),Fe(f,"AID",l.T),Fe(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Fe(f,"TO",l.ja),Fe(f,"TYPE","xmlhttp"),Yn(l,f),l.m&&l.o&&yr(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=pr(Gt(f)),m.m=null,m.P=!0,Ks(m,l)}s.Za=function(){this.C!=null&&(this.C=null,En(this),qi(this),Je(19))};function Hi(l){l.C!=null&&(g.clearTimeout(l.C),l.C=null)}function bi(l,f){var m=null;if(l.g==f){Hi(l),to(l),l.g=null;var _=2}else if(Lt(l.h,f))m=f.D,el(l.h,f),_=1;else return;if(l.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=l.B;_=Hr(),ot(_,new Vi(_,m)),Dn(l)}else ei(l);else if(x=f.s,x==3||x==0&&0<f.X||!(_==1&&qa(l,f)||_==2&&qi(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),x){case 1:Xn(l,5);break;case 4:Xn(l,10);break;case 3:Xn(l,6);break;default:Xn(l,2)}}}function cl(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Xn(l,f){if(l.j.info("Error code "+f),f==2){var m=z(l.fb,l),_=l.Xa;const x=!_;_=new Kn(_||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xr(_,"https"),pr(_),x?Ba(_.toString(),m):ol(_.toString(),m)}else Je(2);l.G=0,l.l&&l.l.sa(f),hl(l),ji(l)}s.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function hl(l){if(l.G=0,l.ka=[],l.l){const f=tl(l.h);(f.length!=0||l.i.length!=0)&&(K(l.ka,f),K(l.ka,l.i),l.h.i.length=0,Z(l.i),l.i.length=0),l.l.ra()}}function fl(l,f,m){var _=m instanceof Kn?Gt(m):new Kn(m);if(_.g!="")f&&(_.g=f+"."+_.g),fr(_,_.s);else{var x=g.location;_=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var U=new Kn(null);_&&Xr(U,_),f&&(U.g=f),x&&fr(U,x),m&&(U.l=m),_=U}return m=l.D,f=l.ya,m&&f&&Fe(_,m,f),Fe(_,"VER",l.la),Yn(l,_),_}function dl(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new qe(new Wn({eb:m})):new qe(l.pa),f.Ha(l.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function no(){}s=no.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Qi(){}Qi.prototype.g=function(l,f){return new Ot(l,f)};function Ot(l,f){st.call(this),this.g=new eo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Ae(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Ae(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new xn(this)}ee(Ot,st),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){vt(this.g)},Ot.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=zs(l),l=m);f.i.push(new Jo(f.Ya++,l)),f.G==3&&Dn(f)},Ot.prototype.N=function(){this.g.l=null,delete this.j,vt(this.g),delete this.g,Ot.aa.N.call(this)};function pl(l){Rn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}ee(pl,Rn);function ml(){ki.call(this),this.status=1}ee(ml,ki);function xn(l){this.g=l}ee(xn,no),xn.prototype.ua=function(){ot(this.g,"a")},xn.prototype.ta=function(l){ot(this.g,new pl(l))},xn.prototype.sa=function(l){ot(this.g,new ml)},xn.prototype.ra=function(){ot(this.g,"b")},Qi.prototype.createWebChannel=Qi.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,$p=function(){return new Qi},jp=function(){return Hr()},Bp=Pn,kc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Di.NO_ERROR=0,Di.TIMEOUT=8,Di.HTTP_ERROR=6,pa=Di,Wo.COMPLETE="complete",zp=Wo,Pi.EventType=tn,tn.OPEN="a",tn.CLOSE="b",tn.ERROR="c",tn.MESSAGE="d",st.prototype.listen=st.prototype.K,Vo=Pi,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,Up=qe}).apply(typeof ua<"u"?ua:typeof self<"u"?self:typeof window<"u"?window:{});const qd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Np("@firebase/firestore");function Po(){return _i.logLevel}function ie(s,...t){if(_i.logLevel<=Pe.DEBUG){const r=t.map(Wc);_i.debug(`Firestore (${Ps}): ${s}`,...r)}}function lr(s,...t){if(_i.logLevel<=Pe.ERROR){const r=t.map(Wc);_i.error(`Firestore (${Ps}): ${s}`,...r)}}function ws(s,...t){if(_i.logLevel<=Pe.WARN){const r=t.map(Wc);_i.warn(`Firestore (${Ps}): ${s}`,...r)}}function Wc(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s="Unexpected state"){const t=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+s;throw lr(t),new Error(t)}function Ge(s,t){s||pe()}function Se(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Rs{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Rv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Dt.UNAUTHENTICATED))}shutdown(){}}class Pv{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class kv{constructor(t){this.t=t,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ge(this.o===void 0);let o=this.i;const u=v=>this.i!==o?(o=this.i,r(v)):Promise.resolve();let c=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yi,t.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const v=c;t.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),p())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yi)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(o=>this.i!==t?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Ge(typeof o.accessToken=="string"),new qp(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ge(t===null||typeof t=="string"),new Dt(t)}}class Vv{constructor(t,r,o){this.l=t,this.h=r,this.P=o,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nv{constructor(t,r,o){this.l=t,this.h=r,this.P=o}getToken(){return Promise.resolve(new Vv(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xv{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Ge(this.o===void 0);const o=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>o(c))};const u=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?u(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ge(typeof r.token=="string"),this.R=r.token,new Dv(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let o=0;o<s;o++)r[o]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let o="";for(;o.length<20;){const u=Lv(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<r&&(o+=t.charAt(u[c]%t.length))}return o}}function Le(s,t){return s<t?-1:s>t?1:0}function Ts(s,t,r){return s.length===t.length&&s.every((o,u)=>r(o,t[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*r));return new Kt(r,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Le(this.nanoseconds,t.nanoseconds):Le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.timestamp=t}static fromTimestamp(t){return new de(t)}static min(){return new de(new Kt(0,0))}static max(){return new de(new Kt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(t,r,o){r===void 0?r=0:r>t.length&&pe(),o===void 0?o=t.length-r:o>t.length-r&&pe(),this.segments=t,this.offset=r,this.len=o}get length(){return this.len}isEqual(t){return zo.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof zo?t.forEach(o=>{r.push(o)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,o=this.limit();r<o;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const o=Math.min(t.length,r.length);for(let u=0;u<o;u++){const c=t.get(u),p=r.get(u);if(c<p)return-1;if(c>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class We extends zo{construct(t,r,o){return new We(t,r,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const o of t){if(o.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);r.push(...o.split("/").filter(u=>u.length>0))}return new We(r)}static emptyPath(){return new We([])}}const Mv=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends zo{construct(t,r,o){return new Ut(t,r,o)}static isValidIdentifier(t){return Mv.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(t){const r=[];let o="",u=0;const c=()=>{if(o.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(o),o=""};let p=!1;for(;u<t.length;){const g=t[u];if(g==="\\"){if(u+1===t.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,u+=2}else g==="`"?(p=!p,u++):g!=="."||p?(o+=g,u++):(c(),u++)}if(c(),p)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ut(r)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.path=t}static fromPath(t){return new he(We.fromString(t))}static fromName(t){return new he(We.fromString(t).popFirst(5))}static empty(){return new he(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&We.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return We.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new he(new We(t.slice()))}}function Fv(s,t){const r=s.toTimestamp().seconds,o=s.toTimestamp().nanoseconds+1,u=de.fromTimestamp(o===1e9?new Kt(r+1,0):new Kt(r,o));return new Fr(u,he.empty(),t)}function Uv(s){return new Fr(s.readTime,s.key,-1)}class Fr{constructor(t,r,o){this.readTime=t,this.documentKey=r,this.largestBatchId=o}static min(){return new Fr(de.min(),he.empty(),-1)}static max(){return new Fr(de.max(),he.empty(),-1)}}function zv(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=he.comparator(s.documentKey,t.documentKey),r!==0?r:Le(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==Bv)throw s;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new q((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(r,c).next(o,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):q.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):q.reject(r)}static resolve(t){return new q((r,o)=>{r(t)})}static reject(t){return new q((r,o)=>{o(t)})}static waitFor(t){return new q((r,o)=>{let u=0,c=0,p=!1;t.forEach(g=>{++u,g.next(()=>{++c,p&&c===u&&r()},v=>o(v))}),p=!0,c===u&&r()})}static or(t){let r=q.resolve(!1);for(const o of t)r=r.next(u=>u?q.resolve(u):o());return r}static forEach(t,r){const o=[];return t.forEach((u,c)=>{o.push(r.call(this,u,c))}),this.waitFor(o)}static mapArray(t,r){return new q((o,u)=>{const c=t.length,p=new Array(c);let g=0;for(let v=0;v<c;v++){const E=v;r(t[E]).next(A=>{p[E]=A,++g,g===c&&o(p)},A=>u(A))}})}static doWhile(t,r){return new q((o,u)=>{const c=()=>{t()===!0?r().next(()=>{c()},u):o()};c()})}}function $v(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function qo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}Yc.oe=-1;function Ra(s){return s==null}function Vc(s){return s===0&&1/s==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function Pa(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function qv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t,r){this.comparator=t,this.root=r||Tt.EMPTY}insert(t,r){return new tt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(t){return new tt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return r.value;o<0?r=r.left:o>0&&(r=r.right)}return null}indexOf(t){let r=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(t,o.key);if(u===0)return r+o.left.size;u<0?o=o.left:(r+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,o)=>(t(r,o),!1))}toString(){const t=[];return this.inorderTraversal((r,o)=>(t.push(`${r}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ca(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ca(this.root,t,this.comparator,!1)}getReverseIterator(){return new ca(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ca(this.root,t,this.comparator,!0)}}class ca{constructor(t,r,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=r?o(t.key,r):1,r&&u&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tt{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??Tt.RED,this.left=u??Tt.EMPTY,this.right=c??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,o,u,c){return new Tt(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let o,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),r(t,u.key)===0){if(u.right.isEmpty())return Tt.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const t=this.left.check();if(t!==this.right.check())throw pe();return t+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(t,r,o,u,c){return this}insert(t,r,o){return new Tt(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.comparator=t,this.data=new tt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,o)=>(t(r),!1))}forEachInRange(t,r){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let o;for(o=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new bd(this.data.getIterator())}getIteratorFrom(t){return new bd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(o=>{r=r.add(o)}),r}isEqual(t){if(!(t instanceof It)||this.size!==t.size)return!1;const r=this.data.getIterator(),o=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,c=o.getNext().key;if(this.comparator(u,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new It(this.comparator);return r.data=t,r}}class bd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.fields=t,t.sort(Ut.comparator)}static empty(){return new xr([])}unionWith(t){let r=new It(Ut.comparator);for(const o of this.fields)r=r.add(o);for(const o of t)r=r.add(o);return new xr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Ts(this.fields,t.fields,(r,o)=>r.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Hp("Invalid base64 string: "+c):c}}(t);return new St(r)}static fromUint8Array(t){const r=function(u){let c="";for(let p=0;p<u.length;++p)c+=String.fromCharCode(u[p]);return c}(t);return new St(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const o=new Uint8Array(r.length);for(let u=0;u<r.length;u++)o[u]=r.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}St.EMPTY_BYTE_STRING=new St("");const Hv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(Ge(!!s),typeof s=="string"){let t=0;const r=Hv.exec(s);if(Ge(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:et(s.seconds),nanos:et(s.nanos)}}function et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ei(s){return typeof s=="string"?St.fromBase64String(s):St.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Jc(s){const t=s.mapValue.fields.__previous_value__;return Xc(t)?Jc(t):t}function Bo(s){const t=Ur(s.mapValue.fields.__local_write_time__.timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(t,r,o,u,c,p,g,v,E){this.databaseId=t,this.appId=r,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=E}}class jo{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new jo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof jo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha={mapValue:{}};function wi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xc(s)?4:Kv(s)?9007199254740991:Qv(s)?10:11:pe()}function Bn(s,t){if(s===t)return!0;const r=wi(s);if(r!==wi(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Bo(s).isEqual(Bo(t));case 3:return function(u,c){if(typeof u.timestampValue=="string"&&typeof c.timestampValue=="string"&&u.timestampValue.length===c.timestampValue.length)return u.timestampValue===c.timestampValue;const p=Ur(u.timestampValue),g=Ur(c.timestampValue);return p.seconds===g.seconds&&p.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(u,c){return Ei(u.bytesValue).isEqual(Ei(c.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(u,c){return et(u.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(u.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(s,t);case 2:return function(u,c){if("integerValue"in u&&"integerValue"in c)return et(u.integerValue)===et(c.integerValue);if("doubleValue"in u&&"doubleValue"in c){const p=et(u.doubleValue),g=et(c.doubleValue);return p===g?Vc(p)===Vc(g):isNaN(p)&&isNaN(g)}return!1}(s,t);case 9:return Ts(s.arrayValue.values||[],t.arrayValue.values||[],Bn);case 10:case 11:return function(u,c){const p=u.mapValue.fields||{},g=c.mapValue.fields||{};if(Hd(p)!==Hd(g))return!1;for(const v in p)if(p.hasOwnProperty(v)&&(g[v]===void 0||!Bn(p[v],g[v])))return!1;return!0}(s,t);default:return pe()}}function $o(s,t){return(s.values||[]).find(r=>Bn(r,t))!==void 0}function Is(s,t){if(s===t)return 0;const r=wi(s),o=wi(t);if(r!==o)return Le(r,o);switch(r){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,t.booleanValue);case 2:return function(c,p){const g=et(c.integerValue||c.doubleValue),v=et(p.integerValue||p.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,t);case 3:return Qd(s.timestampValue,t.timestampValue);case 4:return Qd(Bo(s),Bo(t));case 5:return Le(s.stringValue,t.stringValue);case 6:return function(c,p){const g=Ei(c),v=Ei(p);return g.compareTo(v)}(s.bytesValue,t.bytesValue);case 7:return function(c,p){const g=c.split("/"),v=p.split("/");for(let E=0;E<g.length&&E<v.length;E++){const A=Le(g[E],v[E]);if(A!==0)return A}return Le(g.length,v.length)}(s.referenceValue,t.referenceValue);case 8:return function(c,p){const g=Le(et(c.latitude),et(p.latitude));return g!==0?g:Le(et(c.longitude),et(p.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return Kd(s.arrayValue,t.arrayValue);case 10:return function(c,p){var g,v,E,A;const F=c.fields||{},z=p.fields||{},b=(g=F.value)===null||g===void 0?void 0:g.arrayValue,ee=(v=z.value)===null||v===void 0?void 0:v.arrayValue,Z=Le(((E=b==null?void 0:b.values)===null||E===void 0?void 0:E.length)||0,((A=ee==null?void 0:ee.values)===null||A===void 0?void 0:A.length)||0);return Z!==0?Z:Kd(b,ee)}(s.mapValue,t.mapValue);case 11:return function(c,p){if(c===ha.mapValue&&p===ha.mapValue)return 0;if(c===ha.mapValue)return 1;if(p===ha.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),E=p.fields||{},A=Object.keys(E);v.sort(),A.sort();for(let F=0;F<v.length&&F<A.length;++F){const z=Le(v[F],A[F]);if(z!==0)return z;const b=Is(g[v[F]],E[A[F]]);if(b!==0)return b}return Le(v.length,A.length)}(s.mapValue,t.mapValue);default:throw pe()}}function Qd(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Le(s,t);const r=Ur(s),o=Ur(t),u=Le(r.seconds,o.seconds);return u!==0?u:Le(r.nanos,o.nanos)}function Kd(s,t){const r=s.values||[],o=t.values||[];for(let u=0;u<r.length&&u<o.length;++u){const c=Is(r[u],o[u]);if(c)return c}return Le(r.length,o.length)}function Ss(s){return Nc(s)}function Nc(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const o=Ur(r);return`time(${o.seconds},${o.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return Ei(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return he.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let o="[",u=!0;for(const c of r.values||[])u?u=!1:o+=",",o+=Nc(c);return o+"]"}(s.arrayValue):"mapValue"in s?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of o)c?c=!1:u+=",",u+=`${p}:${Nc(r.fields[p])}`;return u+"}"}(s.mapValue):pe()}function Dc(s){return!!s&&"integerValue"in s}function Zc(s){return!!s&&"arrayValue"in s}function Wd(s){return!!s&&"nullValue"in s}function Gd(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function vc(s){return!!s&&"mapValue"in s}function Qv(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function xo(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return Pa(s.mapValue.fields,(r,o)=>t.mapValue.fields[r]=xo(o)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=xo(s.arrayValue.values[r]);return t}return Object.assign({},s)}function Kv(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let o=0;o<t.length-1;++o)if(r=(r.mapValue.fields||{})[t.get(o)],!vc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=xo(r)}setAll(t){let r=Ut.emptyPath(),o={},u=[];t.forEach((p,g)=>{if(!r.isImmediateParentOf(g)){const v=this.getFieldsMap(r);this.applyChanges(v,o,u),o={},u=[],r=g.popLast()}p?o[g.lastSegment()]=xo(p):u.push(g.lastSegment())});const c=this.getFieldsMap(r);this.applyChanges(c,o,u)}delete(t){const r=this.field(t.popLast());vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bn(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let o=0;o<t.length;++o){let u=r.mapValue.fields[t.get(o)];vc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(o)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,o){Pa(r,(u,c)=>t[u]=c);for(const u of o)delete t[u]}clone(){return new Un(xo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,r,o,u,c,p,g){this.key=t,this.documentType=r,this.version=o,this.readTime=u,this.createTime=c,this.data=p,this.documentState=g}static newInvalidDocument(t){return new xt(t,0,de.min(),de.min(),de.min(),Un.empty(),0)}static newFoundDocument(t,r,o,u){return new xt(t,1,r,de.min(),o,u,0)}static newNoDocument(t,r){return new xt(t,2,r,de.min(),de.min(),Un.empty(),0)}static newUnknownDocument(t,r){return new xt(t,3,r,de.min(),de.min(),Un.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(t,r){this.position=t,this.inclusive=r}}function Yd(s,t,r){let o=0;for(let u=0;u<s.position.length;u++){const c=t[u],p=s.position[u];if(c.field.isKeyField()?o=he.comparator(he.fromName(p.referenceValue),r.key):o=Is(p,r.data.field(c.field)),c.dir==="desc"&&(o*=-1),o!==0)break}return o}function Xd(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!Bn(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,r="asc"){this.field=t,this.dir=r}}function Wv(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{}class ct extends bp{constructor(t,r,o){super(),this.field=t,this.op=r,this.value=o}static create(t,r,o){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,o):new Yv(t,r,o):r==="array-contains"?new Zv(t,o):r==="in"?new e_(t,o):r==="not-in"?new t_(t,o):r==="array-contains-any"?new n_(t,o):new ct(t,r,o)}static createKeyFieldInFilter(t,r,o){return r==="in"?new Xv(t,o):new Jv(t,o)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Is(r,this.value)):r!==null&&wi(this.value)===wi(r)&&this.matchesComparison(Is(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends bp{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new jn(t,r)}matches(t){return Qp(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qp(s){return s.op==="and"}function Kp(s){return Gv(s)&&Qp(s)}function Gv(s){for(const t of s.filters)if(t instanceof jn)return!1;return!0}function xc(s){if(s instanceof ct)return s.field.canonicalString()+s.op.toString()+Ss(s.value);if(Kp(s))return s.filters.map(t=>xc(t)).join(",");{const t=s.filters.map(r=>xc(r)).join(",");return`${s.op}(${t})`}}function Wp(s,t){return s instanceof ct?function(o,u){return u instanceof ct&&o.op===u.op&&o.field.isEqual(u.field)&&Bn(o.value,u.value)}(s,t):s instanceof jn?function(o,u){return u instanceof jn&&o.op===u.op&&o.filters.length===u.filters.length?o.filters.reduce((c,p,g)=>c&&Wp(p,u.filters[g]),!0):!1}(s,t):void pe()}function Gp(s){return s instanceof ct?function(r){return`${r.field.canonicalString()} ${r.op} ${Ss(r.value)}`}(s):s instanceof jn?function(r){return r.op.toString()+" {"+r.getFilters().map(Gp).join(" ,")+"}"}(s):"Filter"}class Yv extends ct{constructor(t,r,o){super(t,r,o),this.key=he.fromName(o.referenceValue)}matches(t){const r=he.comparator(t.key,this.key);return this.matchesComparison(r)}}class Xv extends ct{constructor(t,r){super(t,"in",r),this.keys=Yp("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Jv extends ct{constructor(t,r){super(t,"not-in",r),this.keys=Yp("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Yp(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(o=>he.fromName(o.referenceValue))}class Zv extends ct{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Zc(r)&&$o(r.arrayValue,this.value)}}class e_ extends ct{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&$o(this.value.arrayValue,r)}}class t_ extends ct{constructor(t,r){super(t,"not-in",r)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!$o(this.value.arrayValue,r)}}class n_ extends ct{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Zc(r)||!r.arrayValue.values)&&r.arrayValue.values.some(o=>$o(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(t,r=null,o=[],u=[],c=null,p=null,g=null){this.path=t,this.collectionGroup=r,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=p,this.endAt=g,this.ue=null}}function Jd(s,t=null,r=[],o=[],u=null,c=null,p=null){return new r_(s,t,r,o,u,c,p)}function eh(s){const t=Se(s);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(o=>xc(o)).join(","),r+="|ob:",r+=t.orderBy.map(o=>function(c){return c.field.canonicalString()+c.dir}(o)).join(","),Ra(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ss(o)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ss(o)).join(",")),t.ue=r}return t.ue}function th(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!Wv(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!Wp(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Xd(s.startAt,t.startAt)&&Xd(s.endAt,t.endAt)}function Lc(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,r=null,o=[],u=[],c=null,p="F",g=null,v=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=p,this.startAt=g,this.endAt=v,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function i_(s,t,r,o,u,c,p,g){return new ka(s,t,r,o,u,c,p,g)}function Xp(s){return new ka(s)}function Zd(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function s_(s){return s.collectionGroup!==null}function Lo(s){const t=Se(s);if(t.ce===null){t.ce=[];const r=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),r.add(c.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(p){let g=new It(Ut.comparator);return p.filters.forEach(v=>{v.getFlattenedFilters().forEach(E=>{E.isInequality()&&(g=g.add(E.field))})}),g})(t).forEach(c=>{r.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Ta(c,o))}),r.has(Ut.keyField().canonicalString())||t.ce.push(new Ta(Ut.keyField(),o))}return t.ce}function zn(s){const t=Se(s);return t.le||(t.le=o_(t,Lo(s))),t.le}function o_(s,t){if(s.limitType==="F")return Jd(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(u=>{const c=u.dir==="desc"?"asc":"desc";return new Ta(u.field,c)});const r=s.endAt?new wa(s.endAt.position,s.endAt.inclusive):null,o=s.startAt?new wa(s.startAt.position,s.startAt.inclusive):null;return Jd(s.path,s.collectionGroup,t,s.filters,s.limit,r,o)}}function Oc(s,t,r){return new ka(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Va(s,t){return th(zn(s),zn(t))&&s.limitType===t.limitType}function Jp(s){return`${eh(zn(s))}|lt:${s.limitType}`}function ps(s){return`Query(target=${function(r){let o=r.path.canonicalString();return r.collectionGroup!==null&&(o+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(o+=`, filters: [${r.filters.map(u=>Gp(u)).join(", ")}]`),Ra(r.limit)||(o+=", limit: "+r.limit),r.orderBy.length>0&&(o+=`, orderBy: [${r.orderBy.map(u=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(u)).join(", ")}]`),r.startAt&&(o+=", startAt: ",o+=r.startAt.inclusive?"b:":"a:",o+=r.startAt.position.map(u=>Ss(u)).join(",")),r.endAt&&(o+=", endAt: ",o+=r.endAt.inclusive?"a:":"b:",o+=r.endAt.position.map(u=>Ss(u)).join(",")),`Target(${o})`}(zn(s))}; limitType=${s.limitType})`}function Na(s,t){return t.isFoundDocument()&&function(o,u){const c=u.key.path;return o.collectionGroup!==null?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(c):he.isDocumentKey(o.path)?o.path.isEqual(c):o.path.isImmediateParentOf(c)}(s,t)&&function(o,u){for(const c of Lo(o))if(!c.field.isKeyField()&&u.data.field(c.field)===null)return!1;return!0}(s,t)&&function(o,u){for(const c of o.filters)if(!c.matches(u))return!1;return!0}(s,t)&&function(o,u){return!(o.startAt&&!function(p,g,v){const E=Yd(p,g,v);return p.inclusive?E<=0:E<0}(o.startAt,Lo(o),u)||o.endAt&&!function(p,g,v){const E=Yd(p,g,v);return p.inclusive?E>=0:E>0}(o.endAt,Lo(o),u))}(s,t)}function l_(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Zp(s){return(t,r)=>{let o=!1;for(const u of Lo(s)){const c=a_(u,t,r);if(c!==0)return c;o=o||u.field.isKeyField()}return 0}}function a_(s,t,r){const o=s.field.isKeyField()?he.comparator(t.key,r.key):function(c,p,g){const v=p.data.field(c),E=g.data.field(c);return v!==null&&E!==null?Is(v,E):pe()}(s.field,t,r);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(const[u,c]of o)if(this.equalsFn(u,t))return c}}has(t){return this.get(t)!==void 0}set(t,r){const o=this.mapKeyFn(t),u=this.inner[o];if(u===void 0)return this.inner[o]=[[t,r]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],t))return void(u[c]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return o.length===1?delete this.inner[r]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,(r,o)=>{for(const[u,c]of o)t(u,c)})}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_=new tt(he.comparator);function zr(){return u_}const em=new tt(he.comparator);function No(...s){let t=em;for(const r of s)t=t.insert(r.key,r);return t}function c_(s){let t=em;return s.forEach((r,o)=>t=t.insert(r,o.overlayedDocument)),t}function mi(){return Oo()}function tm(){return Oo()}function Oo(){return new ks(s=>s.toString(),(s,t)=>s.isEqual(t))}const h_=new It(he.comparator);function ke(...s){let t=h_;for(const r of s)t=t.add(r);return t}const f_=new It(Le);function d_(){return f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(t)?"-0":t}}function m_(s){return{integerValue:""+s}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this._=void 0}}function g_(s,t,r){return s instanceof Mc?function(u,c){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return c&&Xc(c)&&(c=Jc(c)),c&&(p.fields.__previous_value__=c),{mapValue:p}}(r,t):s instanceof Ia?nm(s,t):s instanceof Sa?rm(s,t):function(u,c){const p=v_(u,c),g=ep(p)+ep(u.Pe);return Dc(p)&&Dc(u.Pe)?m_(g):p_(u.serializer,g)}(s,t)}function y_(s,t,r){return s instanceof Ia?nm(s,t):s instanceof Sa?rm(s,t):r}function v_(s,t){return s instanceof Fc?function(o){return Dc(o)||function(c){return!!c&&"doubleValue"in c}(o)}(t)?t:{integerValue:0}:null}class Mc extends Da{}class Ia extends Da{constructor(t){super(),this.elements=t}}function nm(s,t){const r=im(t);for(const o of s.elements)r.some(u=>Bn(u,o))||r.push(o);return{arrayValue:{values:r}}}class Sa extends Da{constructor(t){super(),this.elements=t}}function rm(s,t){let r=im(t);for(const o of s.elements)r=r.filter(u=>!Bn(u,o));return{arrayValue:{values:r}}}class Fc extends Da{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function ep(s){return et(s.integerValue||s.doubleValue)}function im(s){return Zc(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function __(s,t){return s.field.isEqual(t.field)&&function(o,u){return o instanceof Ia&&u instanceof Ia||o instanceof Sa&&u instanceof Sa?Ts(o.elements,u.elements,Bn):o instanceof Fc&&u instanceof Fc?Bn(o.Pe,u.Pe):o instanceof Mc&&u instanceof Mc}(s.transform,t.transform)}class vi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ma(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class nh{}function sm(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new w_(s.key,vi.none()):new rh(s.key,s.data,vi.none());{const r=s.data,o=Un.empty();let u=new It(Ut.comparator);for(let c of t.fields)if(!u.has(c)){let p=r.field(c);p===null&&c.length>1&&(c=c.popLast(),p=r.field(c)),p===null?o.delete(c):o.set(c,p),u=u.add(c)}return new xa(s.key,o,new xr(u.toArray()),vi.none())}}function E_(s,t,r){s instanceof rh?function(u,c,p){const g=u.value.clone(),v=np(u.fieldTransforms,c,p.transformResults);g.setAll(v),c.convertToFoundDocument(p.version,g).setHasCommittedMutations()}(s,t,r):s instanceof xa?function(u,c,p){if(!ma(u.precondition,c))return void c.convertToUnknownDocument(p.version);const g=np(u.fieldTransforms,c,p.transformResults),v=c.data;v.setAll(om(u)),v.setAll(g),c.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(s,t,r):function(u,c,p){c.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function Mo(s,t,r,o){return s instanceof rh?function(c,p,g,v){if(!ma(c.precondition,p))return g;const E=c.value.clone(),A=rp(c.fieldTransforms,v,p);return E.setAll(A),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),null}(s,t,r,o):s instanceof xa?function(c,p,g,v){if(!ma(c.precondition,p))return g;const E=rp(c.fieldTransforms,v,p),A=p.data;return A.setAll(om(c)),A.setAll(E),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(F=>F.field))}(s,t,r,o):function(c,p,g){return ma(c.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):g}(s,t,r)}function tp(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(o,u){return o===void 0&&u===void 0||!(!o||!u)&&Ts(o,u,(c,p)=>__(c,p))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class rh extends nh{constructor(t,r,o,u=[]){super(),this.key=t,this.value=r,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class xa extends nh{constructor(t,r,o,u,c=[]){super(),this.key=t,this.data=r,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function om(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const o=s.data.field(r);t.set(r,o)}}),t}function np(s,t,r){const o=new Map;Ge(s.length===r.length);for(let u=0;u<r.length;u++){const c=s[u],p=c.transform,g=t.data.field(c.field);o.set(c.field,y_(p,g,r[u]))}return o}function rp(s,t,r){const o=new Map;for(const u of s){const c=u.transform,p=r.data.field(u.field);o.set(u.field,g_(c,p,t))}return o}class w_ extends nh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,r,o,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(t,r){const o=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(t.key)&&E_(c,t,o[u])}}applyToLocalView(t,r){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(r=Mo(o,t,r,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(r=Mo(o,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const o=tm();return this.mutations.forEach(u=>{const c=t.get(u.key),p=c.overlayedDocument;let g=this.applyToLocalView(p,c.mutatedFields);g=r.has(u.key)?null:g;const v=sm(p,g);v!==null&&o.set(u.key,v),p.isValidDocument()||p.convertToNoDocument(de.min())}),o}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),ke())}isEqual(t){return this.batchId===t.batchId&&Ts(this.mutations,t.mutations,(r,o)=>tp(r,o))&&Ts(this.baseMutations,t.baseMutations,(r,o)=>tp(r,o))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ie;function lm(s){if(s===void 0)return lr("GRPC error has no .code"),Y.UNKNOWN;switch(s){case it.OK:return Y.OK;case it.CANCELLED:return Y.CANCELLED;case it.UNKNOWN:return Y.UNKNOWN;case it.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case it.INTERNAL:return Y.INTERNAL;case it.UNAVAILABLE:return Y.UNAVAILABLE;case it.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case it.NOT_FOUND:return Y.NOT_FOUND;case it.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case it.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case it.ABORTED:return Y.ABORTED;case it.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case it.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case it.DATA_LOSS:return Y.DATA_LOSS;default:return pe()}}(Ie=it||(it={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new gi([4294967295,4294967295],0);function ip(s){const t=A_().encode(s),r=new Fp;return r.update(t),new Uint8Array(r.digest())}function sp(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),o=t.getUint32(4,!0),u=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new gi([r,o],0),new gi([u,c],0)]}class ih{constructor(t,r,o){if(this.bitmap=t,this.padding=r,this.hashCount=o,r<0||r>=8)throw new Do(`Invalid padding: ${r}`);if(o<0)throw new Do(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${o}`);if(t.length===0&&r!==0)throw new Do(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=gi.fromNumber(this.Ie)}Ee(t,r,o){let u=t.add(r.multiply(gi.fromNumber(o)));return u.compare(C_)===1&&(u=new gi([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=ip(t),[o,u]=sp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,u,c);if(!this.de(p))return!1}return!0}static create(t,r,o){const u=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),p=new ih(c,u,r);return o.forEach(g=>p.insert(g)),p}insert(t){if(this.Ie===0)return;const r=ip(t),[o,u]=sp(r);for(let c=0;c<this.hashCount;c++){const p=this.Ee(o,u,c);this.Ae(p)}}Ae(t){const r=Math.floor(t/8),o=t%8;this.bitmap[r]|=1<<o}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,r,o,u,c){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,r,o){const u=new Map;return u.set(t,Ho.createSynthesizedTargetChangeForCurrentChange(t,r,o)),new La(de.min(),u,new tt(Le),zr(),ke())}}class Ho{constructor(t,r,o,u,c){this.resumeToken=t,this.current=r,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,r,o){return new Ho(o,r,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,r,o,u){this.Re=t,this.removedTargetIds=r,this.key=o,this.Ve=u}}class am{constructor(t,r){this.targetId=t,this.me=r}}class um{constructor(t,r,o=St.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=o,this.cause=u}}class op{constructor(){this.fe=0,this.ge=ap(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ke(),r=ke(),o=ke();return this.ge.forEach((u,c)=>{switch(c){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:o=o.add(u);break;default:pe()}}),new Ho(this.pe,this.ye,t,r,o)}Ce(){this.we=!1,this.ge=ap()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class R_{constructor(t){this.Le=t,this.Be=new Map,this.ke=zr(),this.qe=lp(),this.Qe=new tt(Le)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const o=this.Ge(r);switch(t.state){case 0:this.ze(r)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),o.De(t.resumeToken));break;default:pe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((o,u)=>{this.ze(u)&&r(u)})}He(t){const r=t.targetId,o=t.me.count,u=this.Je(r);if(u){const c=u.target;if(Lc(c))if(o===0){const p=new he(c.path);this.Ue(r,p,xt.newNoDocument(p,de.min()))}else Ge(o===1);else{const p=this.Ye(r);if(p!==o){const g=this.Ze(t),v=g?this.Xe(g,t,p):1;if(v!==0){this.je(r);const E=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,E)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:c=0}=r;let p,g;try{p=Ei(o).toUint8Array()}catch(v){if(v instanceof Hp)return ws("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new ih(p,u,c)}catch(v){return ws(v instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Ie===0?null:g}Xe(t,r,o){return r.me.count===o-this.nt(t,r.targetId)?0:2}nt(t,r){const o=this.Le.getRemoteKeysForTarget(r);let u=0;return o.forEach(c=>{const p=this.Le.tt(),g=`projects/${p.projectId}/databases/${p.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.Ue(r,c,null),u++)}),u}rt(t){const r=new Map;this.Be.forEach((c,p)=>{const g=this.Je(p);if(g){if(c.current&&Lc(g.target)){const v=new he(g.target.path);this.ke.get(v)!==null||this.it(p,v)||this.Ue(p,v,xt.newNoDocument(v,t))}c.be&&(r.set(p,c.ve()),c.Ce())}});let o=ke();this.qe.forEach((c,p)=>{let g=!0;p.forEachWhile(v=>{const E=this.Je(v);return!E||E.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(o=o.add(c))}),this.ke.forEach((c,p)=>p.setReadTime(t));const u=new La(t,r,this.Qe,this.ke,o);return this.ke=zr(),this.qe=lp(),this.Qe=new tt(Le),u}$e(t,r){if(!this.ze(t))return;const o=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,o),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,o){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,r)?u.Fe(r,1):u.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),o&&(this.ke=this.ke.insert(r,o))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new op,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new It(Le),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new op),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function lp(){return new tt(he.comparator)}function ap(){return new tt(he.comparator)}const P_={asc:"ASCENDING",desc:"DESCENDING"},k_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V_={and:"AND",or:"OR"};class N_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Uc(s,t){return s.useProto3Json||Ra(t)?t:{value:t}}function D_(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function x_(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function vs(s){return Ge(!!s),de.fromTimestamp(function(r){const o=Ur(r);return new Kt(o.seconds,o.nanos)}(s))}function L_(s,t){return zc(s,t).canonicalString()}function zc(s,t){const r=function(u){return new We(["projects",u.projectId,"databases",u.database])}(s).child("documents");return t===void 0?r:r.child(t)}function cm(s){const t=We.fromString(s);return Ge(mm(t)),t}function _c(s,t){const r=cm(t);if(r.get(1)!==s.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new he(fm(r))}function hm(s,t){return L_(s.databaseId,t)}function O_(s){const t=cm(s);return t.length===4?We.emptyPath():fm(t)}function up(s){return new We(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function fm(s){return Ge(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function M_(s,t){let r;if("targetChange"in t){t.targetChange;const o=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:pe()}(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],c=function(E,A){return E.useProto3Json?(Ge(A===void 0||typeof A=="string"),St.fromBase64String(A||"")):(Ge(A===void 0||A instanceof Buffer||A instanceof Uint8Array),St.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),p=t.targetChange.cause,g=p&&function(E){const A=E.code===void 0?Y.UNKNOWN:lm(E.code);return new ce(A,E.message||"")}(p);r=new um(o,u,c,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const u=_c(s,o.document.name),c=vs(o.document.updateTime),p=o.document.createTime?vs(o.document.createTime):de.min(),g=new Un({mapValue:{fields:o.document.fields}}),v=xt.newFoundDocument(u,c,p,g),E=o.targetIds||[],A=o.removedTargetIds||[];r=new ga(E,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const u=_c(s,o.document),c=o.readTime?vs(o.readTime):de.min(),p=xt.newNoDocument(u,c),g=o.removedTargetIds||[];r=new ga([],g,p.key,p)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const u=_c(s,o.document),c=o.removedTargetIds||[];r=new ga([],c,u,null)}else{if(!("filter"in t))return pe();{t.filter;const o=t.filter;o.targetId;const{count:u=0,unchangedNames:c}=o,p=new S_(u,c),g=o.targetId;r=new am(g,p)}}return r}function F_(s,t){return{documents:[hm(s,t.path)]}}function U_(s,t){const r={structuredQuery:{}},o=t.path;let u;t.collectionGroup!==null?(u=o,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=o.popLast(),r.structuredQuery.from=[{collectionId:o.lastSegment()}]),r.parent=hm(s,u);const c=function(E){if(E.length!==0)return pm(jn.create(E,"and"))}(t.filters);c&&(r.structuredQuery.where=c);const p=function(E){if(E.length!==0)return E.map(A=>function(z){return{field:ms(z.field),direction:j_(z.dir)}}(A))}(t.orderBy);p&&(r.structuredQuery.orderBy=p);const g=Uc(s,t.limit);return g!==null&&(r.structuredQuery.limit=g),t.startAt&&(r.structuredQuery.startAt=function(E){return{before:E.inclusive,values:E.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{_t:r,parent:u}}function z_(s){let t=O_(s.parent);const r=s.structuredQuery,o=r.from?r.from.length:0;let u=null;if(o>0){Ge(o===1);const A=r.from[0];A.allDescendants?u=A.collectionId:t=t.child(A.collectionId)}let c=[];r.where&&(c=function(F){const z=dm(F);return z instanceof jn&&Kp(z)?z.getFilters():[z]}(r.where));let p=[];r.orderBy&&(p=function(F){return F.map(z=>function(ee){return new Ta(gs(ee.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ee.direction))}(z))}(r.orderBy));let g=null;r.limit&&(g=function(F){let z;return z=typeof F=="object"?F.value:F,Ra(z)?null:z}(r.limit));let v=null;r.startAt&&(v=function(F){const z=!!F.before,b=F.values||[];return new wa(b,z)}(r.startAt));let E=null;return r.endAt&&(E=function(F){const z=!F.before,b=F.values||[];return new wa(b,z)}(r.endAt)),i_(t,u,p,c,g,"F",v,E)}function B_(s,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function dm(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const o=gs(r.unaryFilter.field);return ct.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=gs(r.unaryFilter.field);return ct.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=gs(r.unaryFilter.field);return ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=gs(r.unaryFilter.field);return ct.create(p,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(s):s.fieldFilter!==void 0?function(r){return ct.create(gs(r.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return jn.create(r.compositeFilter.filters.map(o=>dm(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return pe()}}(r.compositeFilter.op))}(s):pe()}function j_(s){return P_[s]}function $_(s){return k_[s]}function q_(s){return V_[s]}function ms(s){return{fieldPath:s.canonicalString()}}function gs(s){return Ut.fromServerFormat(s.fieldPath)}function pm(s){return s instanceof ct?function(r){if(r.op==="=="){if(Gd(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NAN"}};if(Wd(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Gd(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NOT_NAN"}};if(Wd(r.value))return{unaryFilter:{field:ms(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(r.field),op:$_(r.op),value:r.value}}}(s):s instanceof jn?function(r){const o=r.getFilters().map(u=>pm(u));return o.length===1?o[0]:{compositeFilter:{op:q_(r.op),filters:o}}}(s):pe()}function mm(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t,r,o,u,c=de.min(),p=de.min(),g=St.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=r,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new Lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t){this.ct=t}}function b_(s){const t=z_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Oc(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.un=new K_}addToCollectionParentIndex(t,r){return this.un.add(r),q.resolve()}getCollectionParents(t,r){return q.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return q.resolve()}deleteFieldIndex(t,r){return q.resolve()}deleteAllFieldIndexes(t){return q.resolve()}createTargetIndexes(t,r){return q.resolve()}getDocumentsMatchingTarget(t,r){return q.resolve(null)}getIndexType(t,r){return q.resolve(0)}getFieldIndexes(t,r){return q.resolve([])}getNextCollectionGroupToUpdate(t){return q.resolve(null)}getMinOffset(t,r){return q.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,r){return q.resolve(Fr.min())}updateCollectionGroup(t,r,o){return q.resolve()}updateIndexEntries(t,r){return q.resolve()}}class K_{constructor(){this.index={}}add(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r]||new It(We.comparator),c=!u.has(o);return this.index[r]=u.add(o),c}has(t){const r=t.lastSegment(),o=t.popLast(),u=this.index[r];return u&&u.has(o)}getEntries(t){return(this.index[t]||new It(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new As(0)}static kn(){return new As(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.changes=new ks(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,xt.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const o=this.changes.get(r);return o!==void 0?q.resolve(o):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(t,r,o,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=o,this.indexManager=u}getDocument(t,r){let o=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(o=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(o!==null&&Mo(o.mutation,u,xr.empty(),Kt.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.getLocalViewOfDocuments(t,o,ke()).next(()=>o))}getLocalViewOfDocuments(t,r,o=ke()){const u=mi();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,o).next(c=>{let p=No();return c.forEach((g,v)=>{p=p.insert(g,v.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const o=mi();return this.populateOverlays(t,o,r).next(()=>this.computeViews(t,r,o,ke()))}populateOverlays(t,r,o){const u=[];return o.forEach(c=>{r.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(t,u).next(c=>{c.forEach((p,g)=>{r.set(p,g)})})}computeViews(t,r,o,u){let c=zr();const p=Oo(),g=function(){return Oo()}();return r.forEach((v,E)=>{const A=o.get(E.key);u.has(E.key)&&(A===void 0||A.mutation instanceof xa)?c=c.insert(E.key,E):A!==void 0?(p.set(E.key,A.mutation.getFieldMask()),Mo(A.mutation,E,A.mutation.getFieldMask(),Kt.now())):p.set(E.key,xr.empty())}),this.recalculateAndSaveOverlays(t,c).next(v=>(v.forEach((E,A)=>p.set(E,A)),r.forEach((E,A)=>{var F;return g.set(E,new G_(A,(F=p.get(E))!==null&&F!==void 0?F:null))}),g))}recalculateAndSaveOverlays(t,r){const o=Oo();let u=new tt((p,g)=>p-g),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const g of p)g.keys().forEach(v=>{const E=r.get(v);if(E===null)return;let A=o.get(v)||xr.empty();A=g.applyToLocalView(E,A),o.set(v,A);const F=(u.get(g.batchId)||ke()).add(v);u=u.insert(g.batchId,F)})}).next(()=>{const p=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),E=v.key,A=v.value,F=tm();A.forEach(z=>{if(!c.has(z)){const b=sm(r.get(z),o.get(z));b!==null&&F.set(z,b),c=c.add(z)}}),p.push(this.documentOverlayCache.saveOverlays(t,E,F))}return q.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,r,o,u){return function(p){return he.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):s_(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,o,u):this.getDocumentsMatchingCollectionQuery(t,r,o,u)}getNextDocuments(t,r,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,o,u).next(c=>{const p=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,o.largestBatchId,u-c.size):q.resolve(mi());let g=-1,v=c;return p.next(E=>q.forEach(E,(A,F)=>(g<F.largestBatchId&&(g=F.largestBatchId),c.get(A)?q.resolve():this.remoteDocumentCache.getEntry(t,A).next(z=>{v=v.insert(A,z)}))).next(()=>this.populateOverlays(t,E,c)).next(()=>this.computeViews(t,v,E,ke())).next(A=>({batchId:g,changes:c_(A)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new he(r)).next(o=>{let u=No();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,o,u){const c=r.collectionGroup;let p=No();return this.indexManager.getCollectionParents(t,c).next(g=>q.forEach(g,v=>{const E=function(F,z){return new ka(z,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt)}(r,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,E,o,u).next(A=>{A.forEach((F,z)=>{p=p.insert(F,z)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(t,r,o,u){let c;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,o.largestBatchId).next(p=>(c=p,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,o,c,u))).next(p=>{c.forEach((v,E)=>{const A=E.getKey();p.get(A)===null&&(p=p.insert(A,xt.newInvalidDocument(A)))});let g=No();return p.forEach((v,E)=>{const A=c.get(v);A!==void 0&&Mo(A.mutation,E,xr.empty(),Kt.now()),Na(r,E)&&(g=g.insert(v,E))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return q.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(u){return{id:u.id,version:u.version,createTime:vs(u.createTime)}}(r)),q.resolve()}getNamedQuery(t,r){return q.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(u){return{name:u.name,query:b_(u.bundledQuery),readTime:vs(u.readTime)}}(r)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.overlays=new tt(he.comparator),this.Ir=new Map}getOverlay(t,r){return q.resolve(this.overlays.get(r))}getOverlays(t,r){const o=mi();return q.forEach(r,u=>this.getOverlay(t,u).next(c=>{c!==null&&o.set(u,c)})).next(()=>o)}saveOverlays(t,r,o){return o.forEach((u,c)=>{this.ht(t,r,c)}),q.resolve()}removeOverlaysForBatchId(t,r,o){const u=this.Ir.get(o);return u!==void 0&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(o)),q.resolve()}getOverlaysForCollection(t,r,o){const u=mi(),c=r.length+1,p=new he(r.child("")),g=this.overlays.getIteratorFrom(p);for(;g.hasNext();){const v=g.getNext().value,E=v.getKey();if(!r.isPrefixOf(E.path))break;E.path.length===c&&v.largestBatchId>o&&u.set(v.getKey(),v)}return q.resolve(u)}getOverlaysForCollectionGroup(t,r,o,u){let c=new tt((E,A)=>E-A);const p=this.overlays.getIterator();for(;p.hasNext();){const E=p.getNext().value;if(E.getKey().getCollectionGroup()===r&&E.largestBatchId>o){let A=c.get(E.largestBatchId);A===null&&(A=mi(),c=c.insert(E.largestBatchId,A)),A.set(E.getKey(),E)}}const g=mi(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((E,A)=>g.set(E,A)),!(g.size()>=u)););return q.resolve(g)}ht(t,r,o){const u=this.overlays.get(o.key);if(u!==null){const p=this.Ir.get(u.largestBatchId).delete(o.key);this.Ir.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new I_(r,o));let c=this.Ir.get(r);c===void 0&&(c=ke(),this.Ir.set(r,c)),this.Ir.set(r,c.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(t){return q.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(){this.Tr=new It(gt.Er),this.dr=new It(gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const o=new gt(t,r);this.Tr=this.Tr.add(o),this.dr=this.dr.add(o)}Rr(t,r){t.forEach(o=>this.addReference(o,r))}removeReference(t,r){this.Vr(new gt(t,r))}mr(t,r){t.forEach(o=>this.removeReference(o,r))}gr(t){const r=new he(new We([])),o=new gt(r,t),u=new gt(r,t+1),c=[];return this.dr.forEachInRange([o,u],p=>{this.Vr(p),c.push(p.key)}),c}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new he(new We([])),o=new gt(r,t),u=new gt(r,t+1);let c=ke();return this.dr.forEachInRange([o,u],p=>{c=c.add(p.key)}),c}containsKey(t){const r=new gt(t,0),o=this.Tr.firstAfterOrEqual(r);return o!==null&&t.isEqual(o.key)}}class gt{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return he.comparator(t.key,r.key)||Le(t.wr,r.wr)}static Ar(t,r){return Le(t.wr,r.wr)||he.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new It(gt.Er)}checkEmpty(t){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,o,u){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new T_(c,r,o,u);this.mutationQueue.push(p);for(const g of u)this.br=this.br.add(new gt(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return q.resolve(p)}lookupMutationBatch(t,r){return q.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const o=r+1,u=this.vr(o),c=u<0?0:u;return q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const o=new gt(r,0),u=new gt(r,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([o,u],p=>{const g=this.Dr(p.wr);c.push(g)}),q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,r){let o=new It(Le);return r.forEach(u=>{const c=new gt(u,0),p=new gt(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,p],g=>{o=o.add(g.wr)})}),q.resolve(this.Cr(o))}getAllMutationBatchesAffectingQuery(t,r){const o=r.path,u=o.length+1;let c=o;he.isDocumentKey(c)||(c=c.child(""));const p=new gt(new he(c),0);let g=new It(Le);return this.br.forEachWhile(v=>{const E=v.key.path;return!!o.isPrefixOf(E)&&(E.length===u&&(g=g.add(v.wr)),!0)},p),q.resolve(this.Cr(g))}Cr(t){const r=[];return t.forEach(o=>{const u=this.Dr(o);u!==null&&r.push(u)}),r}removeMutationBatch(t,r){Ge(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let o=this.br;return q.forEach(r.mutations,u=>{const c=new gt(u.key,r.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=o})}On(t){}containsKey(t,r){const o=new gt(r,0),u=this.br.firstAfterOrEqual(o);return q.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,q.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(t){this.Mr=t,this.docs=function(){return new tt(he.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const o=r.key,u=this.docs.get(o),c=u?u.size:0,p=this.Mr(r);return this.docs=this.docs.insert(o,{document:r.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const o=this.docs.get(r);return q.resolve(o?o.document.mutableCopy():xt.newInvalidDocument(r))}getEntries(t,r){let o=zr();return r.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():xt.newInvalidDocument(u))}),q.resolve(o)}getDocumentsMatchingQuery(t,r,o,u){let c=zr();const p=r.path,g=new he(p.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:E,value:{document:A}}=v.getNext();if(!p.isPrefixOf(E.path))break;E.path.length>p.length+1||zv(Uv(A),o)<=0||(u.has(A.key)||Na(r,A))&&(c=c.insert(A.key,A.mutableCopy()))}return q.resolve(c)}getAllFromCollectionGroup(t,r,o,u){pe()}Or(t,r){return q.forEach(this.docs,o=>r(o))}newChangeBuffer(t){return new n0(this)}getSize(t){return q.resolve(this.size)}}class n0 extends W_{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?r.push(this.cr.addEntry(t,u)):this.cr.removeEntry(o)}),q.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.persistence=t,this.Nr=new ks(r=>eh(r),th),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sh,this.targetCount=0,this.kr=As.Bn()}forEachTarget(t,r){return this.Nr.forEach((o,u)=>r(u)),q.resolve()}getLastRemoteSnapshotVersion(t){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return q.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(t,r,o){return o&&(this.lastRemoteSnapshotVersion=o),r>this.Lr&&(this.Lr=r),q.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new As(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,q.resolve()}updateTargetData(t,r){return this.Kn(r),q.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(t,r,o){let u=0;const c=[];return this.Nr.forEach((p,g)=>{g.sequenceNumber<=r&&o.get(g.targetId)===null&&(this.Nr.delete(p),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),u++)}),q.waitFor(c).next(()=>u)}getTargetCount(t){return q.resolve(this.targetCount)}getTargetData(t,r){const o=this.Nr.get(r)||null;return q.resolve(o)}addMatchingKeys(t,r,o){return this.Br.Rr(r,o),q.resolve()}removeMatchingKeys(t,r,o){this.Br.mr(r,o);const u=this.persistence.referenceDelegate,c=[];return u&&r.forEach(p=>{c.push(u.markPotentiallyOrphaned(t,p))}),q.waitFor(c)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),q.resolve()}getMatchingKeysForTargetId(t,r){const o=this.Br.yr(r);return q.resolve(o)}containsKey(t,r){return q.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(t,r){this.qr={},this.overlays={},this.Qr=new Yc(0),this.Kr=!1,this.Kr=!0,this.$r=new Z_,this.referenceDelegate=t(this),this.Ur=new r0(this),this.indexManager=new Q_,this.remoteDocumentCache=function(u){return new t0(u)}(o=>this.referenceDelegate.Wr(o)),this.serializer=new H_(r),this.Gr=new X_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new J_,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let o=this.qr[t.toKey()];return o||(o=new e0(r,this.referenceDelegate),this.qr[t.toKey()]=o),o}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,o){ie("MemoryPersistence","Starting transaction:",t);const u=new s0(this.Qr.next());return this.referenceDelegate.zr(),o(u).next(c=>this.referenceDelegate.jr(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Hr(t,r){return q.or(Object.values(this.qr).map(o=>()=>o.containsKey(t,r)))}}class s0 extends jv{constructor(t){super(),this.currentSequenceNumber=t}}class oh{constructor(t){this.persistence=t,this.Jr=new sh,this.Yr=null}static Zr(t){return new oh(t)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(t,r,o){return this.Jr.addReference(o,r),this.Xr.delete(o.toString()),q.resolve()}removeReference(t,r,o){return this.Jr.removeReference(o,r),this.Xr.add(o.toString()),q.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),q.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(u=>this.Xr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(c=>this.Xr.add(c.toString()))}).next(()=>o.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,o=>{const u=he.fromPath(o);return this.ei(t,u).next(c=>{c||r.removeEntry(u,de.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(o=>{o?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return q.or([()=>q.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,r,o,u){this.targetId=t,this.fromCache=r,this.$i=o,this.Ui=u}static Wi(t,r){let o=ke(),u=ke();for(const c of r.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new lh(t,r.fromCache,o,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return cy()?8:$v(ay())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,o,u){const c={result:null};return this.Yi(t,r).next(p=>{c.result=p}).next(()=>{if(!c.result)return this.Zi(t,r,u,o).next(p=>{c.result=p})}).next(()=>{if(c.result)return;const p=new o0;return this.Xi(t,r,p).next(g=>{if(c.result=g,this.zi)return this.es(t,r,p,g.size)})}).next(()=>c.result)}es(t,r,o,u){return o.documentReadCount<this.ji?(Po()<=Pe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",ps(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Po()<=Pe.DEBUG&&ie("QueryEngine","Query:",ps(r),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Hi*u?(Po()<=Pe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",ps(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zn(r))):q.resolve())}Yi(t,r){if(Zd(r))return q.resolve(null);let o=zn(r);return this.indexManager.getIndexType(t,o).next(u=>u===0?null:(r.limit!==null&&u===1&&(r=Oc(r,null,"F"),o=zn(r)),this.indexManager.getDocumentsMatchingTarget(t,o).next(c=>{const p=ke(...c);return this.Ji.getDocuments(t,p).next(g=>this.indexManager.getMinOffset(t,o).next(v=>{const E=this.ts(r,g);return this.ns(r,E,p,v.readTime)?this.Yi(t,Oc(r,null,"F")):this.rs(t,E,r,v)}))})))}Zi(t,r,o,u){return Zd(r)||u.isEqual(de.min())?q.resolve(null):this.Ji.getDocuments(t,o).next(c=>{const p=this.ts(r,c);return this.ns(r,p,o,u)?q.resolve(null):(Po()<=Pe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ps(r)),this.rs(t,p,r,Fv(u,-1)).next(g=>g))})}ts(t,r){let o=new It(Zp(t));return r.forEach((u,c)=>{Na(t,c)&&(o=o.add(c))}),o}ns(t,r,o,u){if(t.limit===null)return!1;if(o.size!==r.size)return!0;const c=t.limitType==="F"?r.last():r.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Xi(t,r,o){return Po()<=Pe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",ps(r)),this.Ji.getDocumentsMatchingQuery(t,r,Fr.min(),o)}rs(t,r,o,u){return this.Ji.getDocumentsMatchingQuery(t,o,u).next(c=>(r.forEach(p=>{c=c.insert(p.key,p)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(t,r,o,u){this.persistence=t,this.ss=r,this.serializer=u,this.os=new tt(Le),this._s=new ks(c=>eh(c),th),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(o)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Y_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function u0(s,t,r,o){return new a0(s,t,r,o)}async function gm(s,t){const r=Se(s);return await r.persistence.runTransaction("Handle user change","readonly",o=>{let u;return r.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,r.ls(t),r.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],g=[];let v=ke();for(const E of u){p.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}for(const E of c){g.push(E.batchId);for(const A of E.mutations)v=v.add(A.key)}return r.localDocuments.getDocuments(o,v).next(E=>({hs:E,removedBatchIds:p,addedBatchIds:g}))})})}function ym(s){const t=Se(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function c0(s,t){const r=Se(s),o=t.snapshotVersion;let u=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=r.cs.newChangeBuffer({trackRemovals:!0});u=r.os;const g=[];t.targetChanges.forEach((A,F)=>{const z=u.get(F);if(!z)return;g.push(r.Ur.removeMatchingKeys(c,A.removedDocuments,F).next(()=>r.Ur.addMatchingKeys(c,A.addedDocuments,F)));let b=z.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(F)!==null?b=b.withResumeToken(St.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):A.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(A.resumeToken,o)),u=u.insert(F,b),function(Z,K,Ne){return Z.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=3e8?!0:Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0}(z,b,A)&&g.push(r.Ur.updateTargetData(c,b))});let v=zr(),E=ke();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(h0(c,p,t.documentUpdates).next(A=>{v=A.Ps,E=A.Is})),!o.isEqual(de.min())){const A=r.Ur.getLastRemoteSnapshotVersion(c).next(F=>r.Ur.setTargetsMetadata(c,c.currentSequenceNumber,o));g.push(A)}return q.waitFor(g).next(()=>p.apply(c)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,v,E)).next(()=>v)}).then(c=>(r.os=u,c))}function h0(s,t,r){let o=ke(),u=ke();return r.forEach(c=>o=o.add(c)),t.getEntries(s,o).next(c=>{let p=zr();return r.forEach((g,v)=>{const E=c.get(g);v.isFoundDocument()!==E.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(de.min())?(t.removeEntry(g,v.readTime),p=p.insert(g,v)):!E.isValidDocument()||v.version.compareTo(E.version)>0||v.version.compareTo(E.version)===0&&E.hasPendingWrites?(t.addEntry(v),p=p.insert(g,v)):ie("LocalStore","Ignoring outdated watch update for ",g,". Current version:",E.version," Watch version:",v.version)}),{Ps:p,Is:u}})}function f0(s,t){const r=Se(s);return r.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return r.Ur.getTargetData(o,t).next(c=>c?(u=c,q.resolve(u)):r.Ur.allocateTargetId(o).next(p=>(u=new Lr(t,p,"TargetPurposeListen",o.currentSequenceNumber),r.Ur.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=r.os.get(o.targetId);return(u===null||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.os=r.os.insert(o.targetId,o),r._s.set(t,o.targetId)),o})}async function Bc(s,t,r){const o=Se(s),u=o.os.get(t),c=r?"readwrite":"readwrite-primary";try{r||await o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,u))}catch(p){if(!qo(p))throw p;ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}o.os=o.os.remove(t),o._s.delete(u.target)}function cp(s,t,r){const o=Se(s);let u=de.min(),c=ke();return o.persistence.runTransaction("Execute query","readwrite",p=>function(v,E,A){const F=Se(v),z=F._s.get(A);return z!==void 0?q.resolve(F.os.get(z)):F.Ur.getTargetData(E,A)}(o,p,zn(t)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,o.Ur.getMatchingKeysForTargetId(p,g.targetId).next(v=>{c=v})}).next(()=>o.ss.getDocumentsMatchingQuery(p,t,r?u:de.min(),r?c:ke())).next(g=>(d0(o,l_(t),g),{documents:g,Ts:c})))}function d0(s,t,r){let o=s.us.get(t)||de.min();r.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),s.us.set(t,o)}class hp{constructor(){this.activeTargetIds=d_()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class p0{constructor(){this.so=new hp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,o){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,o){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new hp,Promise.resolve()}handleUserChange(t,r,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa=null;function Ec(){return fa===null?fa=function(){return 268435456+Math.round(2147483648*Math.random())}():fa++,"0x"+fa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class v0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const o=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=o+"://"+r.host,this.vo=`projects/${u}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${c}`}get Fo(){return!1}Mo(r,o,u,c,p){const g=Ec(),v=this.xo(r,o.toUriEncodedString());ie("RestConnection",`Sending RPC '${r}' ${g}:`,v,u);const E={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(E,c,p),this.No(r,v,E,u).then(A=>(ie("RestConnection",`Received RPC '${r}' ${g}: `,A),A),A=>{throw ws("RestConnection",`RPC '${r}' ${g} failed with error: `,A,"url: ",v,"request:",u),A})}Lo(r,o,u,c,p,g){return this.Mo(r,o,u,c,p)}Oo(r,o,u){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((c,p)=>r[p]=c),u&&u.headers.forEach((c,p)=>r[p]=c)}xo(r,o){const u=g0[r];return`${this.Do}/v1/${o}:${u}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,o,u){const c=Ec();return new Promise((p,g)=>{const v=new Up;v.setWithCredentials(!0),v.listenOnce(zp.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case pa.NO_ERROR:const A=v.getResponseJson();ie(Nt,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),p(A);break;case pa.TIMEOUT:ie(Nt,`RPC '${t}' ${c} timed out`),g(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case pa.HTTP_ERROR:const F=v.getStatus();if(ie(Nt,`RPC '${t}' ${c} failed with status:`,F,"response text:",v.getResponseText()),F>0){let z=v.getResponseJson();Array.isArray(z)&&(z=z[0]);const b=z==null?void 0:z.error;if(b&&b.status&&b.message){const ee=function(K){const Ne=K.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Ne)>=0?Ne:Y.UNKNOWN}(b.status);g(new ce(ee,b.message))}else g(new ce(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{ie(Nt,`RPC '${t}' ${c} completed.`)}});const E=JSON.stringify(u);ie(Nt,`RPC '${t}' ${c} sending request:`,u),v.send(r,"POST",E,o,15)})}Bo(t,r,o){const u=Ec(),c=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=$p(),g=jp(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;E!==void 0&&(v.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Oo(v.initMessageHeaders,r,o),v.encodeInitMessageHeaders=!0;const A=c.join("");ie(Nt,`Creating RPC '${t}' stream ${u}: ${A}`,v);const F=p.createWebChannel(A,v);let z=!1,b=!1;const ee=new y0({Io:K=>{b?ie(Nt,`Not sending because RPC '${t}' stream ${u} is closed:`,K):(z||(ie(Nt,`Opening RPC '${t}' stream ${u} transport.`),F.open(),z=!0),ie(Nt,`RPC '${t}' stream ${u} sending:`,K),F.send(K))},To:()=>F.close()}),Z=(K,Ne,Ae)=>{K.listen(Ne,Ee=>{try{Ae(Ee)}catch(ve){setTimeout(()=>{throw ve},0)}})};return Z(F,Vo.EventType.OPEN,()=>{b||(ie(Nt,`RPC '${t}' stream ${u} transport opened.`),ee.yo())}),Z(F,Vo.EventType.CLOSE,()=>{b||(b=!0,ie(Nt,`RPC '${t}' stream ${u} transport closed`),ee.So())}),Z(F,Vo.EventType.ERROR,K=>{b||(b=!0,ws(Nt,`RPC '${t}' stream ${u} transport errored:`,K),ee.So(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),Z(F,Vo.EventType.MESSAGE,K=>{var Ne;if(!b){const Ae=K.data[0];Ge(!!Ae);const Ee=Ae,ve=Ee.error||((Ne=Ee[0])===null||Ne===void 0?void 0:Ne.error);if(ve){ie(Nt,`RPC '${t}' stream ${u} received error:`,ve);const Ye=ve.status;let Ce=function(S){const P=it[S];if(P!==void 0)return lm(P)}(Ye),k=ve.message;Ce===void 0&&(Ce=Y.INTERNAL,k="Unknown error status: "+Ye+" with message "+ve.message),b=!0,ee.So(new ce(Ce,k)),F.close()}else ie(Nt,`RPC '${t}' stream ${u} received:`,Ae),ee.bo(Ae)}}),Z(g,Bp.STAT_EVENT,K=>{K.stat===kc.PROXY?ie(Nt,`RPC '${t}' stream ${u} detected buffering proxy`):K.stat===kc.NOPROXY&&ie(Nt,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{ee.wo()},0),ee}}function wc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(s){return new N_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,r,o=1e3,u=1.5,c=6e4){this.ui=t,this.timerId=r,this.ko=o,this.qo=u,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),o=Math.max(0,Date.now()-this.Uo),u=Math.max(0,r-o);u>0&&ie("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${o} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,r,o,u,c,p,g,v){this.ui=t,this.Ho=o,this.Jo=u,this.connection=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _m(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===Y.RESOURCE_EXHAUSTED?(lr(r.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Yo===r&&this.P_(o,u)},o=>{t(()=>{const u=new ce(Y.UNKNOWN,"Fetching auth token failed: "+o.message);return this.I_(u)})})}P_(t,r){const o=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{o(()=>this.listener.Eo())}),this.stream.Ro(()=>{o(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{o(()=>this.I_(u))}),this.stream.onMessage(u=>{o(()=>++this.e_==1?this.E_(u):this.onNext(u))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E0 extends _0{constructor(t,r,o,u,c,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,o,u,p),this.serializer=c}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=M_(this.serializer,t),o=function(c){if(!("targetChange"in c))return de.min();const p=c.targetChange;return p.targetIds&&p.targetIds.length?de.min():p.readTime?vs(p.readTime):de.min()}(t);return this.listener.d_(r,o)}A_(t){const r={};r.database=up(this.serializer),r.addTarget=function(c,p){let g;const v=p.target;if(g=Lc(v)?{documents:F_(c,v)}:{query:U_(c,v)._t},g.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){g.resumeToken=x_(c,p.resumeToken);const E=Uc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}else if(p.snapshotVersion.compareTo(de.min())>0){g.readTime=D_(c,p.snapshotVersion.toTimestamp());const E=Uc(c,p.expectedCount);E!==null&&(g.expectedCount=E)}return g}(this.serializer,t);const o=B_(this.serializer,t);o&&(r.labels=o),this.a_(r)}R_(t){const r={};r.database=up(this.serializer),r.removeTarget=t,this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends class{}{constructor(t,r,o,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=o,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.connection.Mo(t,zc(r,o),u,c,p)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Y.UNKNOWN,c.toString())})}Lo(t,r,o,u,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,g])=>this.connection.Lo(t,zc(r,o),u,p,g,c)).catch(p=>{throw p.name==="FirebaseError"?(p.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ce(Y.UNKNOWN,p.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class T0{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(r),this.D_=!1):ie("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(t,r,o,u,c){this.localStore=t,this.datastore=r,this.asyncQueue=o,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(p=>{o.enqueueAndForget(async()=>{Qo(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(v){const E=Se(v);E.L_.add(4),await bo(E),E.q_.set("Unknown"),E.L_.delete(4),await Oa(E)}(this))})}),this.q_=new T0(o,u)}}async function Oa(s){if(Qo(s))for(const t of s.B_)await t(!0)}async function bo(s){for(const t of s.B_)await t(!1)}function Em(s,t){const r=Se(s);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),hh(r)?ch(r):Vs(r).r_()&&uh(r,t))}function ah(s,t){const r=Se(s),o=Vs(r);r.N_.delete(t),o.r_()&&wm(r,t),r.N_.size===0&&(o.r_()?o.o_():Qo(r)&&r.q_.set("Unknown"))}function uh(s,t){if(s.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(de.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Vs(s).A_(t)}function wm(s,t){s.Q_.xe(t),Vs(s).R_(t)}function ch(s){s.Q_=new R_({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>s.N_.get(t)||null,tt:()=>s.datastore.serializer.databaseId}),Vs(s).start(),s.q_.v_()}function hh(s){return Qo(s)&&!Vs(s).n_()&&s.N_.size>0}function Qo(s){return Se(s).L_.size===0}function Tm(s){s.Q_=void 0}async function S0(s){s.q_.set("Online")}async function A0(s){s.N_.forEach((t,r)=>{uh(s,t)})}async function C0(s,t){Tm(s),hh(s)?(s.q_.M_(t),ch(s)):s.q_.set("Unknown")}async function R0(s,t,r){if(s.q_.set("Online"),t instanceof um&&t.state===2&&t.cause)try{await async function(u,c){const p=c.cause;for(const g of c.targetIds)u.N_.has(g)&&(await u.remoteSyncer.rejectListen(g,p),u.N_.delete(g),u.Q_.removeTarget(g))}(s,t)}catch(o){ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),await dp(s,o)}else if(t instanceof ga?s.Q_.Ke(t):t instanceof am?s.Q_.He(t):s.Q_.We(t),!r.isEqual(de.min()))try{const o=await ym(s.localStore);r.compareTo(o)>=0&&await function(c,p){const g=c.Q_.rt(p);return g.targetChanges.forEach((v,E)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.N_.get(E);A&&c.N_.set(E,A.withResumeToken(v.resumeToken,p))}}),g.targetMismatches.forEach((v,E)=>{const A=c.N_.get(v);if(!A)return;c.N_.set(v,A.withResumeToken(St.EMPTY_BYTE_STRING,A.snapshotVersion)),wm(c,v);const F=new Lr(A.target,v,E,A.sequenceNumber);uh(c,F)}),c.remoteSyncer.applyRemoteEvent(g)}(s,r)}catch(o){ie("RemoteStore","Failed to raise snapshot:",o),await dp(s,o)}}async function dp(s,t,r){if(!qo(t))throw t;s.L_.add(1),await bo(s),s.q_.set("Offline"),r||(r=()=>ym(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await r(),s.L_.delete(1),await Oa(s)})}async function pp(s,t){const r=Se(s);r.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const o=Qo(r);r.L_.add(3),await bo(r),o&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await Oa(r)}async function P0(s,t){const r=Se(s);t?(r.L_.delete(2),await Oa(r)):t||(r.L_.add(2),await bo(r),r.q_.set("Unknown"))}function Vs(s){return s.K_||(s.K_=function(r,o,u){const c=Se(r);return c.w_(),new E0(o,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,u)}(s.datastore,s.asyncQueue,{Eo:S0.bind(null,s),Ro:A0.bind(null,s),mo:C0.bind(null,s),d_:R0.bind(null,s)}),s.B_.push(async t=>{t?(s.K_.s_(),hh(s)?ch(s):s.q_.set("Unknown")):(await s.K_.stop(),Tm(s))})),s.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r,o,u,c){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,o,u,c){const p=Date.now()+o,g=new fh(t,r,p,u,c);return g.start(o),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(s,t){if(lr("AsyncQueue",`${t}: ${s}`),qo(s))return new ce(Y.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(t){this.comparator=t?(r,o)=>t(r,o)||he.comparator(r.key,o.key):(r,o)=>he.comparator(r.key,o.key),this.keyedMap=No(),this.sortedSet=new tt(this.comparator)}static emptySet(t){return new _s(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,o)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof _s)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const o=new _s;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=r,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.W_=new tt(he.comparator)}track(t){const r=t.doc.key,o=this.W_.get(r);o?t.type!==0&&o.type===3?this.W_=this.W_.insert(r,t):t.type===3&&o.type!==1?this.W_=this.W_.insert(r,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.W_=this.W_.remove(r):t.type===1&&o.type===2?this.W_=this.W_.insert(r,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):pe():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,o)=>{t.push(o)}),t}}class Cs{constructor(t,r,o,u,c,p,g,v,E){this.query=t,this.docs=r,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=E}static fromInitialDocuments(t,r,o,u,c){const p=[];return r.forEach(g=>{p.push({type:0,doc:g})}),new Cs(t,r,_s.emptySet(r),p,o,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Va(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,o=t.docChanges;if(r.length!==o.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==o[u].type||!r[u].doc.isEqual(o[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class V0{constructor(){this.queries=gp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,o){const u=Se(r),c=u.queries;u.queries=gp(),c.forEach((p,g)=>{for(const v of g.j_)v.onError(o)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function gp(){return new ks(s=>Jp(s),Va)}async function N0(s,t){const r=Se(s);let o=3;const u=t.query;let c=r.queries.get(u);c?!c.H_()&&t.J_()&&(o=2):(c=new k0,o=t.J_()?0:1);try{switch(o){case 0:c.z_=await r.onListen(u,!0);break;case 1:c.z_=await r.onListen(u,!1);break;case 2:await r.onFirstRemoteStoreListen(u)}}catch(p){const g=Im(p,`Initialization of query '${ps(t.query)}' failed`);return void t.onError(g)}r.queries.set(u,c),c.j_.push(t),t.Z_(r.onlineState),c.z_&&t.X_(c.z_)&&dh(r)}async function D0(s,t){const r=Se(s),o=t.query;let u=3;const c=r.queries.get(o);if(c){const p=c.j_.indexOf(t);p>=0&&(c.j_.splice(p,1),c.j_.length===0?u=t.J_()?0:1:!c.H_()&&t.J_()&&(u=2))}switch(u){case 0:return r.queries.delete(o),r.onUnlisten(o,!0);case 1:return r.queries.delete(o),r.onUnlisten(o,!1);case 2:return r.onLastRemoteStoreUnlisten(o);default:return}}function x0(s,t){const r=Se(s);let o=!1;for(const u of t){const c=u.query,p=r.queries.get(c);if(p){for(const g of p.j_)g.X_(u)&&(o=!0);p.z_=u}}o&&dh(r)}function L0(s,t,r){const o=Se(s),u=o.queries.get(t);if(u)for(const c of u.j_)c.onError(r);o.queries.delete(t)}function dh(s){s.Y_.forEach(t=>{t.next()})}var jc,yp;(yp=jc||(jc={})).ea="default",yp.Cache="cache";class O0{constructor(t,r,o){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=o||{}}X_(t){if(!this.options.includeMetadataChanges){const o=[];for(const u of t.docChanges)u.type!==3&&o.push(u);t=new Cs(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const o=r!=="Offline";return(!this.options._a||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=Cs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==jc.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this.key=t}}class Am{constructor(t){this.key=t}}class M0{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ke(),this.mutatedKeys=ke(),this.Aa=Zp(t),this.Ra=new _s(this.Aa)}get Va(){return this.Ta}ma(t,r){const o=r?r.fa:new mp,u=r?r.Ra:this.Ra;let c=r?r.mutatedKeys:this.mutatedKeys,p=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,E=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((A,F)=>{const z=u.get(A),b=Na(this.query,F)?F:null,ee=!!z&&this.mutatedKeys.has(z.key),Z=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let K=!1;z&&b?z.data.isEqual(b.data)?ee!==Z&&(o.track({type:3,doc:b}),K=!0):this.ga(z,b)||(o.track({type:2,doc:b}),K=!0,(v&&this.Aa(b,v)>0||E&&this.Aa(b,E)<0)&&(g=!0)):!z&&b?(o.track({type:0,doc:b}),K=!0):z&&!b&&(o.track({type:1,doc:z}),K=!0,(v||E)&&(g=!0)),K&&(b?(p=p.add(b),c=Z?c.add(A):c.delete(A)):(p=p.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const A=this.query.limitType==="F"?p.last():p.first();p=p.delete(A.key),c=c.delete(A.key),o.track({type:1,doc:A})}return{Ra:p,fa:o,ns:g,mutatedKeys:c}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,o,u){const c=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const p=t.fa.G_();p.sort((A,F)=>function(b,ee){const Z=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return Z(b)-Z(ee)}(A.type,F.type)||this.Aa(A.doc,F.doc)),this.pa(o),u=u!=null&&u;const g=r&&!u?this.ya():[],v=this.da.size===0&&this.current&&!u?1:0,E=v!==this.Ea;return this.Ea=v,p.length!==0||E?{snapshot:new Cs(this.query,t.Ra,c,p,t.mutatedKeys,v===0,E,!1,!!o&&o.resumeToken.approximateByteSize()>0),wa:g}:{wa:g}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=ke(),this.Ra.forEach(o=>{this.Sa(o.key)&&(this.da=this.da.add(o.key))});const r=[];return t.forEach(o=>{this.da.has(o)||r.push(new Am(o))}),this.da.forEach(o=>{t.has(o)||r.push(new Sm(o))}),r}ba(t){this.Ta=t.Ts,this.da=ke();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F0{constructor(t,r,o){this.query=t,this.targetId=r,this.view=o}}class U0{constructor(t){this.key=t,this.va=!1}}class z0{constructor(t,r,o,u,c,p){this.localStore=t,this.remoteStore=r,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.Ca={},this.Fa=new ks(g=>Jp(g),Va),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(he.comparator),this.Na=new Map,this.La=new sh,this.Ba={},this.ka=new Map,this.qa=As.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function B0(s,t,r=!0){const o=Vm(s);let u;const c=o.Fa.get(t);return c?(o.sharedClientState.addLocalQueryTarget(c.targetId),u=c.view.Da()):u=await Cm(o,t,r,!0),u}async function j0(s,t){const r=Vm(s);await Cm(r,t,!0,!1)}async function Cm(s,t,r,o){const u=await f0(s.localStore,zn(t)),c=u.targetId,p=s.sharedClientState.addLocalQueryTarget(c,r);let g;return o&&(g=await $0(s,t,c,p==="current",u.resumeToken)),s.isPrimaryClient&&r&&Em(s.remoteStore,u),g}async function $0(s,t,r,o,u){s.Ka=(F,z,b)=>async function(Z,K,Ne,Ae){let Ee=K.view.ma(Ne);Ee.ns&&(Ee=await cp(Z.localStore,K.query,!1).then(({documents:k})=>K.view.ma(k,Ee)));const ve=Ae&&Ae.targetChanges.get(K.targetId),Ye=Ae&&Ae.targetMismatches.get(K.targetId)!=null,Ce=K.view.applyChanges(Ee,Z.isPrimaryClient,ve,Ye);return _p(Z,K.targetId,Ce.wa),Ce.snapshot}(s,F,z,b);const c=await cp(s.localStore,t,!0),p=new M0(t,c.Ts),g=p.ma(c.documents),v=Ho.createSynthesizedTargetChangeForCurrentChange(r,o&&s.onlineState!=="Offline",u),E=p.applyChanges(g,s.isPrimaryClient,v);_p(s,r,E.wa);const A=new F0(t,r,p);return s.Fa.set(t,A),s.Ma.has(r)?s.Ma.get(r).push(t):s.Ma.set(r,[t]),E.snapshot}async function q0(s,t,r){const o=Se(s),u=o.Fa.get(t),c=o.Ma.get(u.targetId);if(c.length>1)return o.Ma.set(u.targetId,c.filter(p=>!Va(p,t))),void o.Fa.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||await Bc(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),r&&ah(o.remoteStore,u.targetId),$c(o,u.targetId)}).catch(Gc)):($c(o,u.targetId),await Bc(o.localStore,u.targetId,!0))}async function H0(s,t){const r=Se(s),o=r.Fa.get(t),u=r.Ma.get(o.targetId);r.isPrimaryClient&&u.length===1&&(r.sharedClientState.removeLocalQueryTarget(o.targetId),ah(r.remoteStore,o.targetId))}async function Rm(s,t){const r=Se(s);try{const o=await c0(r.localStore,t);t.targetChanges.forEach((u,c)=>{const p=r.Na.get(c);p&&(Ge(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.va=!0:u.modifiedDocuments.size>0?Ge(p.va):u.removedDocuments.size>0&&(Ge(p.va),p.va=!1))}),await km(r,o,t)}catch(o){await Gc(o)}}function vp(s,t,r){const o=Se(s);if(o.isPrimaryClient&&r===0||!o.isPrimaryClient&&r===1){const u=[];o.Fa.forEach((c,p)=>{const g=p.view.Z_(t);g.snapshot&&u.push(g.snapshot)}),function(p,g){const v=Se(p);v.onlineState=g;let E=!1;v.queries.forEach((A,F)=>{for(const z of F.j_)z.Z_(g)&&(E=!0)}),E&&dh(v)}(o.eventManager,t),u.length&&o.Ca.d_(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function b0(s,t,r){const o=Se(s);o.sharedClientState.updateQueryState(t,"rejected",r);const u=o.Na.get(t),c=u&&u.key;if(c){let p=new tt(he.comparator);p=p.insert(c,xt.newNoDocument(c,de.min()));const g=ke().add(c),v=new La(de.min(),new Map,new tt(Le),p,g);await Rm(o,v),o.Oa=o.Oa.remove(c),o.Na.delete(t),ph(o)}else await Bc(o.localStore,t,!1).then(()=>$c(o,t,r)).catch(Gc)}function $c(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const o of s.Ma.get(t))s.Fa.delete(o),r&&s.Ca.$a(o,r);s.Ma.delete(t),s.isPrimaryClient&&s.La.gr(t).forEach(o=>{s.La.containsKey(o)||Pm(s,o)})}function Pm(s,t){s.xa.delete(t.path.canonicalString());const r=s.Oa.get(t);r!==null&&(ah(s.remoteStore,r),s.Oa=s.Oa.remove(t),s.Na.delete(r),ph(s))}function _p(s,t,r){for(const o of r)o instanceof Sm?(s.La.addReference(o.key,t),Q0(s,o)):o instanceof Am?(ie("SyncEngine","Document no longer in limbo: "+o.key),s.La.removeReference(o.key,t),s.La.containsKey(o.key)||Pm(s,o.key)):pe()}function Q0(s,t){const r=t.key,o=r.path.canonicalString();s.Oa.get(r)||s.xa.has(o)||(ie("SyncEngine","New document in limbo: "+r),s.xa.add(o),ph(s))}function ph(s){for(;s.xa.size>0&&s.Oa.size<s.maxConcurrentLimboResolutions;){const t=s.xa.values().next().value;s.xa.delete(t);const r=new he(We.fromString(t)),o=s.qa.next();s.Na.set(o,new U0(r)),s.Oa=s.Oa.insert(r,o),Em(s.remoteStore,new Lr(zn(Xp(r.path)),o,"TargetPurposeLimboResolution",Yc.oe))}}async function km(s,t,r){const o=Se(s),u=[],c=[],p=[];o.Fa.isEmpty()||(o.Fa.forEach((g,v)=>{p.push(o.Ka(v,t,r).then(E=>{var A;if((E||r)&&o.isPrimaryClient){const F=E?!E.fromCache:(A=r==null?void 0:r.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;o.sharedClientState.updateQueryState(v.targetId,F?"current":"not-current")}if(E){u.push(E);const F=lh.Wi(v.targetId,E);c.push(F)}}))}),await Promise.all(p),o.Ca.d_(u),await async function(v,E){const A=Se(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>q.forEach(E,z=>q.forEach(z.$i,b=>A.persistence.referenceDelegate.addReference(F,z.targetId,b)).next(()=>q.forEach(z.Ui,b=>A.persistence.referenceDelegate.removeReference(F,z.targetId,b)))))}catch(F){if(!qo(F))throw F;ie("LocalStore","Failed to update sequence numbers: "+F)}for(const F of E){const z=F.targetId;if(!F.fromCache){const b=A.os.get(z),ee=b.snapshotVersion,Z=b.withLastLimboFreeSnapshotVersion(ee);A.os=A.os.insert(z,Z)}}}(o.localStore,c))}async function K0(s,t){const r=Se(s);if(!r.currentUser.isEqual(t)){ie("SyncEngine","User change. New user:",t.toKey());const o=await gm(r.localStore,t);r.currentUser=t,function(c,p){c.ka.forEach(g=>{g.forEach(v=>{v.reject(new ce(Y.CANCELLED,p))})}),c.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await km(r,o.hs)}}function W0(s,t){const r=Se(s),o=r.Na.get(t);if(o&&o.va)return ke().add(o.key);{let u=ke();const c=r.Ma.get(t);if(!c)return u;for(const p of c){const g=r.Fa.get(p);u=u.unionWith(g.view.Va)}return u}}function Vm(s){const t=Se(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=W0.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b0.bind(null,t),t.Ca.d_=x0.bind(null,t.eventManager),t.Ca.$a=L0.bind(null,t.eventManager),t}class Aa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vm(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return u0(this.persistence,new l0,t.initialUser,this.serializer)}Ga(t){return new i0(oh.Zr,this.serializer)}Wa(t){return new p0}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Aa.provider={build:()=>new Aa};class qc{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>vp(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=K0.bind(null,this.syncEngine),await P0(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new V0}()}createDatastore(t){const r=vm(t.databaseInfo.databaseId),o=function(c){return new v0(c)}(t.databaseInfo);return function(c,p,g,v){return new w0(c,p,g,v)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,u,c,p,g){return new I0(o,u,c,p,g)}(this.localStore,this.datastore,t.asyncQueue,r=>vp(this.syncEngine,r,0),function(){return fp.D()?new fp:new m0}())}createSyncEngine(t,r){return function(u,c,p,g,v,E,A){const F=new z0(u,c,p,g,v,E);return A&&(F.Qa=!0),F}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(u){const c=Se(u);ie("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await bo(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}qc.provider={build:()=>new qc};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,r,o,u,c){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=o,this.databaseInfo=u,this.user=Dt.UNAUTHENTICATED,this.clientId=Ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(o,async p=>{ie("FirestoreClient","Received user=",p.uid),await this.authCredentialListener(p),this.user=p}),this.appCheckCredentials.start(o,p=>(ie("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Im(r,"Failed to shutdown persistence");t.reject(o)}}),t.promise}}async function Tc(s,t){s.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let o=r.initialUser;s.setCredentialChangeListener(async u=>{o.isEqual(u)||(await gm(t.localStore,u),o=u)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Ep(s,t){s.asyncQueue.verifyOperationInProgress();const r=await X0(s);ie("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(o=>pp(t.remoteStore,o)),s.setAppCheckTokenChangeListener((o,u)=>pp(t.remoteStore,u)),s._onlineComponents=t}async function X0(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Tc(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(r))throw r;ws("Error using user provided cache. Falling back to memory cache: "+r),await Tc(s,new Aa)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Tc(s,new Aa);return s._offlineComponents}async function J0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await Ep(s,s._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await Ep(s,new qc))),s._onlineComponents}async function Z0(s){const t=await J0(s),r=t.eventManager;return r.onListen=B0.bind(null,t.syncEngine),r.onUnlisten=q0.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=j0.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=H0.bind(null,t.syncEngine),r}function eE(s,t,r={}){const o=new yi;return s.asyncQueue.enqueueAndForget(async()=>function(c,p,g,v,E){const A=new G0({next:z=>{A.Za(),p.enqueueAndForget(()=>D0(c,F)),z.fromCache&&v.source==="server"?E.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(z)},error:z=>E.reject(z)}),F=new O0(g,A,{includeMetadataChanges:!0,_a:!0});return N0(c,F)}(await Z0(s),s.asyncQueue,t,r,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=new Map;function tE(s,t,r,o){if(t===!0&&o===!0)throw new ce(Y.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Tp(s){if(he.isDocumentKey(s))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function nE(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(o){return o.constructor?o.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pe()}function Hc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=nE(s);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t){var r,o;if(t.host===void 0){if(t.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nm((o=t.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(o,u){return o.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,r,o,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ip({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ip(t),t.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new Rv;switch(o.type){case"firstParty":return new Nv(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const o=wp.get(r);o&&(ie("ComponentProvider","Removing Datastore"),wp.delete(r),o.terminate())}(this),Promise.resolve()}}function rE(s,t,r,o={}){var u;const c=(s=Hc(s,mh))._getSettings(),p=`${t}:${r}`;if(c.host!=="firestore.googleapis.com"&&c.host!==p&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},c),{host:p,ssl:!1})),o.mockUserToken){let g,v;if(typeof o.mockUserToken=="string")g=o.mockUserToken,v=Dt.MOCK_USER;else{g=ly(o.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const E=o.mockUserToken.sub||o.mockUserToken.user_id;if(!E)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Dt(E)}s._authCredentials=new Pv(new qp(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,r,o){this.converter=r,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Ma(this.firestore,t,this._query)}}class Ns{constructor(t,r,o){this.converter=r,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ns(this.firestore,t,this._key)}}class Es extends Ma{constructor(t,r,o){super(t,r,Xp(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ns(this.firestore,null,new he(t))}withConverter(t){return new Es(this.firestore,t,this._path)}}function iE(s,t,...r){if(s=gy(s),s instanceof mh){const o=We.fromString(t,...r);return Tp(o),new Es(s,null,o)}{if(!(s instanceof Ns||s instanceof Es))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(We.fromString(t,...r));return Tp(o),new Es(s.firestore,null,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _m(this,"async_queue_retry"),this.Vu=()=>{const o=wc();o&&ie("AsyncQueue","Visibility state changed to "+o.visibilityState),this.t_.jo()},this.mu=t;const r=wc();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=wc();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new yi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!qo(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(o=>{this.Eu=o,this.du=!1;const u=function(p){let g=p.message||"";return p.stack&&(g=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),g}(o);throw lr("INTERNAL UNHANDLED ERROR: ",u),o}).then(o=>(this.du=!1,o))));return this.mu=r,r}enqueueAfterDelay(t,r,o){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const u=fh.createAndSchedule(this,t,r,o,c=>this.yu(c));return this.Tu.push(u),u}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,o)=>r.targetTimeMs-o.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}class Dm extends mh{constructor(t,r,o,u){super(t,r,o,u),this.type="firestore",this._queue=new Sp,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Sp(t),this._firestoreClient=void 0,await t}}}function sE(s,t){const r=typeof s=="object"?s:yv(),o=typeof s=="string"?s:"(default)",u=dv(r,"firestore").getImmediate({identifier:o});if(!u._initialized){const c=sy("firestore");c&&rE(u,...c)}return u}function oE(s){if(s._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||lE(s),s._firestoreClient}function lE(s){var t,r,o;const u=s._freezeSettings(),c=function(g,v,E,A){return new bv(g,v,E,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Nm(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((r=u.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((o=u.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new Y0(s._authCredentials,s._appCheckCredentials,s._queue,c,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ca(St.fromBase64String(t))}catch(r){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ca(St.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Le(this._lat,t._lat)||Le(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(o,u){if(o.length!==u.length)return!1;for(let c=0;c<o.length;++c)if(o[c]!==u[c])return!1;return!0}(this._values,t._values)}}const cE=new RegExp("[~\\*/\\[\\]]");function hE(s,t,r){if(t.search(cE)>=0)throw Ap(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s);try{return new xm(...t.split("."))._internalPath}catch{throw Ap(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s)}}function Ap(s,t,r,o,u){let c=`Function ${t}() called with invalid data`;c+=". ";let p="";return new ce(Y.INVALID_ARGUMENT,c+s+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,r,o,u,c){this._firestore=t,this._userDataWriter=r,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ns(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new fE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Om("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class fE extends Lm{data(){return super.data()}}function Om(s,t){return typeof t=="string"?hE(s,t):t instanceof xm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pE{convertValue(t,r="none"){switch(wi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return et(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ei(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw pe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const o={};return Pa(t,(u,c)=>{o[u]=this.convertValue(c,r)}),o}convertVectorValue(t){var r,o,u;const c=(u=(o=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||o===void 0?void 0:o.values)===null||u===void 0?void 0:u.map(p=>et(p.doubleValue));return new uE(c)}convertGeoPoint(t){return new aE(et(t.latitude),et(t.longitude))}convertArray(t,r){return(t.values||[]).map(o=>this.convertValue(o,r))}convertServerTimestamp(t,r){switch(r){case"previous":const o=Jc(t);return o==null?null:this.convertValue(o,r);case"estimate":return this.convertTimestamp(Bo(t));default:return null}}convertTimestamp(t){const r=Ur(t);return new Kt(r.seconds,r.nanos)}convertDocumentKey(t,r){const o=We.fromString(t);Ge(mm(o));const u=new jo(o.get(1),o.get(3)),c=new he(o.popFirst(5));return u.isEqual(r)||lr(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mE extends Lm{constructor(t,r,o,u,c,p){super(t,r,o,u,p),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new ya(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const o=this._document.data.field(Om("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}}}class ya extends mE{data(t={}){return super.data(t)}}class gE{constructor(t,r,o,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new da(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(o=>{t.call(r,new ya(this._firestore,this._userDataWriter,o.key,o,new da(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,c){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map(g=>{const v=new ya(u._firestore,u._userDataWriter,g.doc.key,g.doc,new da(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:p++}})}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const v=new ya(u._firestore,u._userDataWriter,g.doc.key,g.doc,new da(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let E=-1,A=-1;return g.type!==0&&(E=p.indexOf(g.doc.key),p=p.delete(g.doc.key)),g.type!==1&&(p=p.add(g.doc),A=p.indexOf(g.doc.key)),{type:yE(g.type),doc:v,oldIndex:E,newIndex:A}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function yE(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}class vE extends pE{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ca(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ns(this.firestore,null,r)}}function _E(s){s=Hc(s,Ma);const t=Hc(s.firestore,Dm),r=oE(t),o=new vE(t);return dE(s._query),eE(r,s._query).then(u=>new gE(t,o,s,u))}(function(t,r=!0){(function(u){Ps=u})(gv),Ea(new Fo("firestore",(o,{instanceIdentifier:u,options:c})=>{const p=o.getProvider("app").getImmediate(),g=new Dm(new kv(o.getProvider("auth-internal")),new xv(o.getProvider("app-check-internal")),function(E,A){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jo(E.options.projectId,A)}(p,u),p);return c=Object.assign({useFetchStreams:r},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),ys(qd,"4.7.3",t),ys(qd,"4.7.3","esm2017")})();var EE="firebase",wE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys(EE,wE,"app");const TE={apiKey:"AIzaSyDC-ydZ1MIRcuiexBq8pFnOnAgcA2GHUqM",authDomain:"last-day-on-earth-app.firebaseapp.com",projectId:"last-day-on-earth-app",storageBucket:"last-day-on-earth-app.appspot.com",messagingSenderId:"994225541361",appId:"1:994225541361:web:2eb225aee9d5dd5ef99950",measurementId:"G-5Y9X54HFQL"},IE=Lp(TE),SE=sE(IE);function AE(){const[s,t]=ko.useState([]),[r,o]=ko.useState(""),[u,c]=ko.useState([]);ko.useEffect(()=>{(async()=>{try{const E=(await _E(iE(SE,"Recursos"))).docs.map(A=>({id:A.id,...A.data()}));console.log("Datos obtenidos de Firebase:",E),t(E)}catch(v){console.error("Error obteniendo los datos:",v)}})()},[]);const p=()=>{if(!r.trim()){c([]);return}console.log("Texto de bsqueda:",r),console.log("Recursos disponibles para bsqueda:",s);const g=s.filter(v=>{var E;return((E=v.Nombre)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||Array.isArray(v.PalabrasClave)&&v.PalabrasClave.some(A=>A.toLowerCase().includes(r.toLowerCase()))});console.log("Resultados filtrados:",g),c(g)};return wt.jsxs("div",{className:"min-h-screen bg-red-500 text-white flex flex-col items-center p-6",children:[wt.jsx("h1",{className:"text-3xl font-bold text-blue-400 mb-4",children:"Buscador de Recursos y Trucos"}),wt.jsxs("div",{className:"flex space-x-2 mb-6",children:[wt.jsx("input",{type:"text",placeholder:"Buscar recurso o truco...",className:"px-4 py-2 rounded-lg text-black",value:r,onChange:g=>o(g.target.value)}),wt.jsx("button",{className:"bg-blue-500 px-4 py-2 rounded-lg text-white hover:bg-blue-700 transition",onClick:p,children:"Buscar"})]}),wt.jsxs("div",{className:"w-full max-w-md bg-gray-800 p-4 rounded-lg shadow-lg respuestas",children:[wt.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Resultados:"}),u.length>0?wt.jsx("ul",{children:u.map(g=>wt.jsxs("li",{className:"border-b border-gray-700 py-4 flex items-center space-x-4 respuesta-item",children:[g.Imagen&&wt.jsx("img",{src:g.Imagen,alt:g.Nombre,className:"w-16 h-16 object-cover rounded-lg"}),wt.jsxs("div",{children:[wt.jsx("p",{className:"text-lg font-semibold",children:g.Nombre}),wt.jsx("p",{className:"text-gray-400",children:g.Descripcion}),g.Video&&wt.jsx("a",{href:g.Video,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"Ver Video"})]})]},g.id))}):wt.jsx("p",{className:"text-gray-400",children:"No se encontraron resultados."})]})]})}Gg.createRoot(document.getElementById("root")).render(wt.jsx($g.StrictMode,{children:wt.jsx(AE,{})}));
